(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();function Wo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const be={},$s=[],bt=()=>{},Ol=()=>!1,Hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Go=e=>e.startsWith("onUpdate:"),Fe=Object.assign,Ko=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ma=Object.prototype.hasOwnProperty,ye=(e,t)=>ma.call(e,t),le=Array.isArray,Es=e=>ln(e)==="[object Map]",Ds=e=>ln(e)==="[object Set]",Sr=e=>ln(e)==="[object Date]",ue=e=>typeof e=="function",Pe=e=>typeof e=="string",ut=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",Ml=e=>(xe(e)||ue(e))&&ue(e.then)&&ue(e.catch),Il=Object.prototype.toString,ln=e=>Il.call(e),_a=e=>ln(e).slice(8,-1),Dl=e=>ln(e)==="[object Object]",Jo=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ws=Wo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},ya=/-\w/g,rt=zn(e=>e.replace(ya,t=>t.slice(1).toUpperCase())),va=/\B([A-Z])/g,is=zn(e=>e.replace(va,"-$1").toLowerCase()),qn=zn(e=>e.charAt(0).toUpperCase()+e.slice(1)),no=zn(e=>e?`on${qn(e)}`:""),qt=(e,t)=>!Object.is(e,t),En=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Nl=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Wn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let kr;const Gn=()=>kr||(kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function it(e){if(le(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=Pe(n)?wa(n):it(n);if(o)for(const r in o)t[r]=o[r]}return t}else if(Pe(e)||xe(e))return e}const ga=/;(?![^(]*\))/g,ba=/:([^]+)/,xa=/\/\*[^]*?\*\//g;function wa(e){const t={};return e.replace(xa,"").split(ga).forEach(s=>{if(s){const n=s.split(ba);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function fe(e){let t="";if(Pe(e))t=e;else if(le(e))for(let s=0;s<e.length;s++){const n=fe(e[s]);n&&(t+=n+" ")}else if(xe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Sa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ka=Wo(Sa);function jl(e){return!!e||e===""}function $a(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=rs(e[n],t[n]);return s}function rs(e,t){if(e===t)return!0;let s=Sr(e),n=Sr(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ut(e),n=ut(t),s||n)return e===t;if(s=le(e),n=le(t),s||n)return s&&n?$a(e,t):!1;if(s=xe(e),n=xe(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const l in e){const c=e.hasOwnProperty(l),a=t.hasOwnProperty(l);if(c&&!a||!c&&a||!rs(e[l],t[l]))return!1}}return String(e)===String(t)}function Yo(e,t){return e.findIndex(s=>rs(s,t))}const Vl=e=>!!(e&&e.__v_isRef===!0),w=e=>Pe(e)?e:e==null?"":le(e)||xe(e)&&(e.toString===Il||!ue(e.toString))?Vl(e)?w(e.value):JSON.stringify(e,Bl,2):String(e),Bl=(e,t)=>Vl(t)?Bl(e,t.value):Es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],r)=>(s[oo(n,r)+" =>"]=o,s),{})}:Ds(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>oo(s))}:ut(t)?oo(t):xe(t)&&!le(t)&&!Dl(t)?String(t):t,oo=(e,t="")=>{var s;return ut(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let Xe;class Ea{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Xe;try{return Xe=this,t()}finally{Xe=s}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Aa(){return Xe}let $e;const ro=new WeakSet;class Ul{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ro.has(this)&&(ro.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$r(this),zl(this);const t=$e,s=at;$e=this,at=!0;try{return this.fn()}finally{ql(this),$e=t,at=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zo(t);this.deps=this.depsTail=void 0,$r(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ro.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){So(this)&&this.run()}get dirty(){return So(this)}}let Fl=0,Gs,Ks;function Hl(e,t=!1){if(e.flags|=8,t){e.next=Ks,Ks=e;return}e.next=Gs,Gs=e}function Xo(){Fl++}function Qo(){if(--Fl>0)return;if(Ks){let t=Ks;for(Ks=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Gs;){let t=Gs;for(Gs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function zl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ql(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),Zo(n),Ca(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function So(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Wl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Wl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===en)||(e.globalVersion=en,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!So(e))))return;e.flags|=2;const t=e.dep,s=$e,n=at;$e=e,at=!0;try{zl(e);const o=e.fn(e._value);(t.version===0||qt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{$e=s,at=n,ql(e),e.flags&=-3}}function Zo(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Zo(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ca(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let at=!0;const Gl=[];function Pt(){Gl.push(at),at=!1}function Lt(){const e=Gl.pop();at=e===void 0?!0:e}function $r(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=$e;$e=void 0;try{t()}finally{$e=s}}}let en=0;class Ta{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class er{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!at||$e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==$e)s=this.activeLink=new Ta($e,this),$e.deps?(s.prevDep=$e.depsTail,$e.depsTail.nextDep=s,$e.depsTail=s):$e.deps=$e.depsTail=s,Kl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=$e.depsTail,s.nextDep=void 0,$e.depsTail.nextDep=s,$e.depsTail=s,$e.deps===s&&($e.deps=n)}return s}trigger(t){this.version++,en++,this.notify(t)}notify(t){Xo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Qo()}}}function Kl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Kl(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ko=new WeakMap,ss=Symbol(""),$o=Symbol(""),tn=Symbol("");function Ve(e,t,s){if(at&&$e){let n=ko.get(e);n||ko.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new er),o.map=n,o.key=s),o.track()}}function At(e,t,s,n,o,r){const l=ko.get(e);if(!l){en++;return}const c=a=>{a&&a.trigger()};if(Xo(),t==="clear")l.forEach(c);else{const a=le(e),d=a&&Jo(s);if(a&&s==="length"){const u=Number(n);l.forEach((p,h)=>{(h==="length"||h===tn||!ut(h)&&h>=u)&&c(p)})}else switch((s!==void 0||l.has(void 0))&&c(l.get(s)),d&&c(l.get(tn)),t){case"add":a?d&&c(l.get("length")):(c(l.get(ss)),Es(e)&&c(l.get($o)));break;case"delete":a||(c(l.get(ss)),Es(e)&&c(l.get($o)));break;case"set":Es(e)&&c(l.get(ss));break}}Qo()}function us(e){const t=_e(e);return t===e?t:(Ve(t,"iterate",tn),nt(e)?t:t.map(dt))}function Kn(e){return Ve(e=_e(e),"iterate",tn),e}function Vt(e,t){return Rt(e)?ns(e)?Ps(dt(t)):Ps(t):dt(t)}const Pa={__proto__:null,[Symbol.iterator](){return lo(this,Symbol.iterator,e=>Vt(this,e))},concat(...e){return us(this).concat(...e.map(t=>le(t)?us(t):t))},entries(){return lo(this,"entries",e=>(e[1]=Vt(this,e[1]),e))},every(e,t){return St(this,"every",e,t,void 0,arguments)},filter(e,t){return St(this,"filter",e,t,s=>s.map(n=>Vt(this,n)),arguments)},find(e,t){return St(this,"find",e,t,s=>Vt(this,s),arguments)},findIndex(e,t){return St(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return St(this,"findLast",e,t,s=>Vt(this,s),arguments)},findLastIndex(e,t){return St(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return St(this,"forEach",e,t,void 0,arguments)},includes(...e){return io(this,"includes",e)},indexOf(...e){return io(this,"indexOf",e)},join(e){return us(this).join(e)},lastIndexOf(...e){return io(this,"lastIndexOf",e)},map(e,t){return St(this,"map",e,t,void 0,arguments)},pop(){return js(this,"pop")},push(...e){return js(this,"push",e)},reduce(e,...t){return Er(this,"reduce",e,t)},reduceRight(e,...t){return Er(this,"reduceRight",e,t)},shift(){return js(this,"shift")},some(e,t){return St(this,"some",e,t,void 0,arguments)},splice(...e){return js(this,"splice",e)},toReversed(){return us(this).toReversed()},toSorted(e){return us(this).toSorted(e)},toSpliced(...e){return us(this).toSpliced(...e)},unshift(...e){return js(this,"unshift",e)},values(){return lo(this,"values",e=>Vt(this,e))}};function lo(e,t,s){const n=Kn(e),o=n[t]();return n!==e&&!nt(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=s(r.value)),r}),o}const La=Array.prototype;function St(e,t,s,n,o,r){const l=Kn(e),c=l!==e&&!nt(e),a=l[t];if(a!==La[t]){const p=a.apply(e,r);return c?dt(p):p}let d=s;l!==e&&(c?d=function(p,h){return s.call(this,Vt(e,p),h,e)}:s.length>2&&(d=function(p,h){return s.call(this,p,h,e)}));const u=a.call(l,d,n);return c&&o?o(u):u}function Er(e,t,s,n){const o=Kn(e);let r=s;return o!==e&&(nt(e)?s.length>3&&(r=function(l,c,a){return s.call(this,l,c,a,e)}):r=function(l,c,a){return s.call(this,l,Vt(e,c),a,e)}),o[t](r,...n)}function io(e,t,s){const n=_e(e);Ve(n,"iterate",tn);const o=n[t](...s);return(o===-1||o===!1)&&nr(s[0])?(s[0]=_e(s[0]),n[t](...s)):o}function js(e,t,s=[]){Pt(),Xo();const n=_e(e)[t].apply(e,s);return Qo(),Lt(),n}const Ra=Wo("__proto__,__v_isRef,__isVue"),Jl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ut));function Oa(e){ut(e)||(e=String(e));const t=_e(this);return Ve(t,"has",e),t.hasOwnProperty(e)}class Yl{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(o?r?Ha:ei:r?Zl:Ql).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=le(t);if(!o){let a;if(l&&(a=Pa[s]))return a;if(s==="hasOwnProperty")return Oa}const c=Reflect.get(t,s,Ue(t)?t:n);if((ut(s)?Jl.has(s):Ra(s))||(o||Ve(t,"get",s),r))return c;if(Ue(c)){const a=l&&Jo(s)?c:c.value;return o&&xe(a)?Ao(a):a}return xe(c)?o?Ao(c):wt(c):c}}class Xl extends Yl{constructor(t=!1){super(!1,t)}set(t,s,n,o){let r=t[s];const l=le(t)&&Jo(s);if(!this._isShallow){const d=Rt(r);if(!nt(n)&&!Rt(n)&&(r=_e(r),n=_e(n)),!l&&Ue(r)&&!Ue(n))return d||(r.value=n),!0}const c=l?Number(s)<t.length:ye(t,s),a=Reflect.set(t,s,n,Ue(t)?t:o);return t===_e(o)&&(c?qt(n,r)&&At(t,"set",s,n):At(t,"add",s,n)),a}deleteProperty(t,s){const n=ye(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&At(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!ut(s)||!Jl.has(s))&&Ve(t,"has",s),n}ownKeys(t){return Ve(t,"iterate",le(t)?"length":ss),Reflect.ownKeys(t)}}class Ma extends Yl{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ia=new Xl,Da=new Ma,Na=new Xl(!0);const Eo=e=>e,dn=e=>Reflect.getPrototypeOf(e);function ja(e,t,s){return function(...n){const o=this.__v_raw,r=_e(o),l=Es(r),c=e==="entries"||e===Symbol.iterator&&l,a=e==="keys"&&l,d=o[e](...n),u=s?Eo:t?Ps:dt;return!t&&Ve(r,"iterate",a?$o:ss),{next(){const{value:p,done:h}=d.next();return h?{value:p,done:h}:{value:c?[u(p[0]),u(p[1])]:u(p),done:h}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Va(e,t){const s={get(o){const r=this.__v_raw,l=_e(r),c=_e(o);e||(qt(o,c)&&Ve(l,"get",o),Ve(l,"get",c));const{has:a}=dn(l),d=t?Eo:e?Ps:dt;if(a.call(l,o))return d(r.get(o));if(a.call(l,c))return d(r.get(c));r!==l&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Ve(_e(o),"iterate",ss),o.size},has(o){const r=this.__v_raw,l=_e(r),c=_e(o);return e||(qt(o,c)&&Ve(l,"has",o),Ve(l,"has",c)),o===c?r.has(o):r.has(o)||r.has(c)},forEach(o,r){const l=this,c=l.__v_raw,a=_e(c),d=t?Eo:e?Ps:dt;return!e&&Ve(a,"iterate",ss),c.forEach((u,p)=>o.call(r,d(u),d(p),l))}};return Fe(s,e?{add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear")}:{add(o){!t&&!nt(o)&&!Rt(o)&&(o=_e(o));const r=_e(this);return dn(r).has.call(r,o)||(r.add(o),At(r,"add",o,o)),this},set(o,r){!t&&!nt(r)&&!Rt(r)&&(r=_e(r));const l=_e(this),{has:c,get:a}=dn(l);let d=c.call(l,o);d||(o=_e(o),d=c.call(l,o));const u=a.call(l,o);return l.set(o,r),d?qt(r,u)&&At(l,"set",o,r):At(l,"add",o,r),this},delete(o){const r=_e(this),{has:l,get:c}=dn(r);let a=l.call(r,o);a||(o=_e(o),a=l.call(r,o)),c&&c.call(r,o);const d=r.delete(o);return a&&At(r,"delete",o,void 0),d},clear(){const o=_e(this),r=o.size!==0,l=o.clear();return r&&At(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=ja(o,e,t)}),s}function tr(e,t){const s=Va(e,t);return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(ye(s,o)&&o in n?s:n,o,r)}const Ba={get:tr(!1,!1)},Ua={get:tr(!1,!0)},Fa={get:tr(!0,!1)};const Ql=new WeakMap,Zl=new WeakMap,ei=new WeakMap,Ha=new WeakMap;function za(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qa(e){return e.__v_skip||!Object.isExtensible(e)?0:za(_a(e))}function wt(e){return Rt(e)?e:sr(e,!1,Ia,Ba,Ql)}function ti(e){return sr(e,!1,Na,Ua,Zl)}function Ao(e){return sr(e,!0,Da,Fa,ei)}function sr(e,t,s,n,o){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=qa(e);if(r===0)return e;const l=o.get(e);if(l)return l;const c=new Proxy(e,r===2?n:s);return o.set(e,c),c}function ns(e){return Rt(e)?ns(e.__v_raw):!!(e&&e.__v_isReactive)}function Rt(e){return!!(e&&e.__v_isReadonly)}function nt(e){return!!(e&&e.__v_isShallow)}function nr(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function si(e){return!ye(e,"__v_skip")&&Object.isExtensible(e)&&Nl(e,"__v_skip",!0),e}const dt=e=>xe(e)?wt(e):e,Ps=e=>xe(e)?Ao(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function Ee(e){return oi(e,!1)}function ni(e){return oi(e,!0)}function oi(e,t){return Ue(e)?e:new Wa(e,t)}class Wa{constructor(t,s){this.dep=new er,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:_e(t),this._value=s?t:dt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||nt(t)||Rt(t);t=n?t:_e(t),qt(t,s)&&(this._rawValue=t,this._value=n?t:dt(t),this.dep.trigger())}}function Be(e){return Ue(e)?e.value:e}const Ga={get:(e,t,s)=>t==="__v_raw"?e:Be(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Ue(o)&&!Ue(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function ri(e){return ns(e)?e:new Proxy(e,Ga)}class Ka{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new er(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=en-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return Hl(this,!0),!0}get value(){const t=this.dep.track();return Wl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ja(e,t,s=!1){let n,o;return ue(e)?n=e:(n=e.get,o=e.set),new Ka(n,o,s)}const pn={},Mn=new WeakMap;let Zt;function Ya(e,t=!1,s=Zt){if(s){let n=Mn.get(s);n||Mn.set(s,n=[]),n.push(e)}}function Xa(e,t,s=be){const{immediate:n,deep:o,once:r,scheduler:l,augmentJob:c,call:a}=s,d=A=>o?A:nt(A)||o===!1||o===0?Ct(A,1):Ct(A);let u,p,h,f,m=!1,y=!1;if(Ue(e)?(p=()=>e.value,m=nt(e)):ns(e)?(p=()=>d(e),m=!0):le(e)?(y=!0,m=e.some(A=>ns(A)||nt(A)),p=()=>e.map(A=>{if(Ue(A))return A.value;if(ns(A))return d(A);if(ue(A))return a?a(A,2):A()})):ue(e)?t?p=a?()=>a(e,2):e:p=()=>{if(h){Pt();try{h()}finally{Lt()}}const A=Zt;Zt=u;try{return a?a(e,3,[f]):e(f)}finally{Zt=A}}:p=bt,t&&o){const A=p,D=o===!0?1/0:o;p=()=>Ct(A(),D)}const x=Aa(),k=()=>{u.stop(),x&&x.active&&Ko(x.effects,u)};if(r&&t){const A=t;t=(...D)=>{A(...D),k()}}let R=y?new Array(e.length).fill(pn):pn;const $=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(t){const D=u.run();if(o||m||(y?D.some((V,N)=>qt(V,R[N])):qt(D,R))){h&&h();const V=Zt;Zt=u;try{const N=[D,R===pn?void 0:y&&R[0]===pn?[]:R,f];R=D,a?a(t,3,N):t(...N)}finally{Zt=V}}}else u.run()};return c&&c($),u=new Ul(p),u.scheduler=l?()=>l($,!1):$,f=A=>Ya(A,!1,u),h=u.onStop=()=>{const A=Mn.get(u);if(A){if(a)a(A,4);else for(const D of A)D();Mn.delete(u)}},t?n?$(!0):R=u.run():l?l($.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function Ct(e,t=1/0,s){if(t<=0||!xe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ue(e))Ct(e.value,t,s);else if(le(e))for(let n=0;n<e.length;n++)Ct(e[n],t,s);else if(Ds(e)||Es(e))e.forEach(n=>{Ct(n,t,s)});else if(Dl(e)){for(const n in e)Ct(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ct(e[n],t,s)}return e}function an(e,t,s,n){try{return n?e(...n):e()}catch(o){cn(o,t,s)}}function xt(e,t,s,n){if(ue(e)){const o=an(e,t,s,n);return o&&Ml(o)&&o.catch(r=>{cn(r,t,s)}),o}if(le(e)){const o=[];for(let r=0;r<e.length;r++)o.push(xt(e[r],t,s,n));return o}}function cn(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||be;if(t){let c=t.parent;const a=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const u=c.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,a,d)===!1)return}c=c.parent}if(r){Pt(),an(r,null,10,[e,a,d]),Lt();return}}Qa(e,s,o,n,l)}function Qa(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const We=[];let yt=-1;const As=[];let Bt=null,bs=0;const li=Promise.resolve();let In=null;function Jn(e){const t=In||li;return e?t.then(this?e.bind(this):e):t}function Za(e){let t=yt+1,s=We.length;for(;t<s;){const n=t+s>>>1,o=We[n],r=sn(o);r<e||r===e&&o.flags&2?t=n+1:s=n}return t}function or(e){if(!(e.flags&1)){const t=sn(e),s=We[We.length-1];!s||!(e.flags&2)&&t>=sn(s)?We.push(e):We.splice(Za(t),0,e),e.flags|=1,ii()}}function ii(){In||(In=li.then(ci))}function ec(e){le(e)?As.push(...e):Bt&&e.id===-1?Bt.splice(bs+1,0,e):e.flags&1||(As.push(e),e.flags|=1),ii()}function Ar(e,t,s=yt+1){for(;s<We.length;s++){const n=We[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;We.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ai(e){if(As.length){const t=[...new Set(As)].sort((s,n)=>sn(s)-sn(n));if(As.length=0,Bt){Bt.push(...t);return}for(Bt=t,bs=0;bs<Bt.length;bs++){const s=Bt[bs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Bt=null,bs=0}}const sn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ci(e){try{for(yt=0;yt<We.length;yt++){const t=We[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<We.length;yt++){const t=We[yt];t&&(t.flags&=-2)}yt=-1,We.length=0,ai(),In=null,(We.length||As.length)&&ci()}}let De=null,ui=null;function Dn(e){const t=De;return De=e,ui=e&&e.type.__scopeId||null,t}function ge(e,t=De,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Vn(-1);const r=Dn(t);let l;try{l=e(...o)}finally{Dn(r),n._d&&Vn(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function Q(e,t){if(De===null)return e;const s=Zn(De),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,l,c,a=be]=t[o];r&&(ue(r)&&(r={mounted:r,updated:r}),r.deep&&Ct(l),n.push({dir:r,instance:s,value:l,oldValue:void 0,arg:c,modifiers:a}))}return e}function Jt(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let l=0;l<o.length;l++){const c=o[l];r&&(c.oldValue=r[l].value);let a=c.dir[n];a&&(Pt(),xt(a,s,8,[e.el,c,e,t]),Lt())}}function An(e,t){if(Ie){let s=Ie.provides;const n=Ie.parent&&Ie.parent.provides;n===s&&(s=Ie.provides=Object.create(n)),s[e]=t}}function ct(e,t,s=!1){const n=Qc();if(n||Ts){let o=Ts?Ts._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&ue(t)?t.call(n&&n.proxy):t}}const tc=Symbol.for("v-scx"),sc=()=>ct(tc);function Qe(e,t,s){return di(e,t,s)}function di(e,t,s=be){const{immediate:n,deep:o,flush:r,once:l}=s,c=Fe({},s),a=t&&n||!t&&r!=="post";let d;if(Rs){if(r==="sync"){const f=sc();d=f.__watcherHandles||(f.__watcherHandles=[])}else if(!a){const f=()=>{};return f.stop=bt,f.resume=bt,f.pause=bt,f}}const u=Ie;c.call=(f,m,y)=>xt(f,u,m,y);let p=!1;r==="post"?c.scheduler=f=>{ze(f,u&&u.suspense)}:r!=="sync"&&(p=!0,c.scheduler=(f,m)=>{m?f():or(f)}),c.augmentJob=f=>{t&&(f.flags|=4),p&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Xa(e,t,c);return Rs&&(d?d.push(h):a&&h()),h}function nc(e,t,s){const n=this.proxy,o=Pe(e)?e.includes(".")?fi(n,e):()=>n[e]:e.bind(n,n);let r;ue(t)?r=t:(r=t.handler,s=t);const l=un(this),c=di(o,r.bind(n),s);return l(),c}function fi(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const pi=Symbol("_vte"),oc=e=>e.__isTeleport,Js=e=>e&&(e.disabled||e.disabled===""),Cr=e=>e&&(e.defer||e.defer===""),Tr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Pr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Co=(e,t)=>{const s=e&&e.to;return Pe(s)?t?t(s):null:s},hi={name:"Teleport",__isTeleport:!0,process(e,t,s,n,o,r,l,c,a,d){const{mc:u,pc:p,pbc:h,o:{insert:f,querySelector:m,createText:y,createComment:x}}=d,k=Js(t.props);let{shapeFlag:R,children:$,dynamicChildren:A}=t;if(e==null){const D=t.el=y(""),V=t.anchor=y("");f(D,s,n),f(V,s,n);const N=(se,Se)=>{R&16&&u($,se,Se,o,r,l,c,a)},B=()=>{const se=t.target=Co(t.props,m),Se=mi(se,t,y,f);se&&(l!=="svg"&&Tr(se)?l="svg":l!=="mathml"&&Pr(se)&&(l="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(se),k||(N(se,Se),Cn(t,!1)))};k&&(N(s,V),Cn(t,!0)),Cr(t.props)?(t.el.__isMounted=!1,ze(()=>{B(),delete t.el.__isMounted},r)):B()}else{if(Cr(t.props)&&e.el.__isMounted===!1){ze(()=>{hi.process(e,t,s,n,o,r,l,c,a,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const D=t.anchor=e.anchor,V=t.target=e.target,N=t.targetAnchor=e.targetAnchor,B=Js(e.props),se=B?s:V,Se=B?D:N;if(l==="svg"||Tr(V)?l="svg":(l==="mathml"||Pr(V))&&(l="mathml"),A?(h(e.dynamicChildren,A,se,o,r,l,c),fr(e,t,!0)):a||p(e,t,se,Se,o,r,l,c,!1),k)B?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hn(t,s,D,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Oe=t.target=Co(t.props,m);Oe&&hn(t,Oe,null,d,0)}else B&&hn(t,V,N,d,1);Cn(t,k)}},remove(e,t,s,{um:n,o:{remove:o}},r){const{shapeFlag:l,children:c,anchor:a,targetStart:d,targetAnchor:u,target:p,props:h}=e;if(p&&(o(d),o(u)),r&&o(a),l&16){const f=r||!Js(h);for(let m=0;m<c.length;m++){const y=c[m];n(y,t,s,f,!!y.dynamicChildren)}}},move:hn,hydrate:rc};function hn(e,t,s,{o:{insert:n},m:o},r=2){r===0&&n(e.targetAnchor,t,s);const{el:l,anchor:c,shapeFlag:a,children:d,props:u}=e,p=r===2;if(p&&n(l,t,s),(!p||Js(u))&&a&16)for(let h=0;h<d.length;h++)o(d[h],t,s,2);p&&n(c,t,s)}function rc(e,t,s,n,o,r,{o:{nextSibling:l,parentNode:c,querySelector:a,insert:d,createText:u}},p){function h(y,x,k,R){x.anchor=p(l(y),x,c(y),s,n,o,r),x.targetStart=k,x.targetAnchor=R}const f=t.target=Co(t.props,a),m=Js(t.props);if(f){const y=f._lpa||f.firstChild;if(t.shapeFlag&16)if(m)h(e,t,y,y&&l(y));else{t.anchor=l(e);let x=y;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")t.targetStart=x;else if(x.data==="teleport anchor"){t.targetAnchor=x,f._lpa=t.targetAnchor&&l(t.targetAnchor);break}}x=l(x)}t.targetAnchor||mi(f,t,u,d),p(y&&l(y),t,f,s,n,o,r)}Cn(t,m)}else m&&t.shapeFlag&16&&h(e,t,e,l(e));return t.anchor&&l(t.anchor)}const rr=hi;function Cn(e,t){const s=e.ctx;if(s&&s.ut){let n,o;for(t?(n=e.el,o=e.anchor):(n=e.targetStart,o=e.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function mi(e,t,s,n){const o=t.targetStart=s(""),r=t.targetAnchor=s("");return o[pi]=r,e&&(n(o,e),n(r,e)),r}const lc=Symbol("_leaveCb");function lr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,lr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ir(e,t){return ue(e)?Fe({name:e.name},t,{setup:e}):e}function ar(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Nn=new WeakMap;function Ys(e,t,s,n,o=!1){if(le(e)){e.forEach((m,y)=>Ys(m,t&&(le(t)?t[y]:t),s,n,o));return}if(Cs(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ys(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Zn(n.component):n.el,l=o?null:r,{i:c,r:a}=e,d=t&&t.r,u=c.refs===be?c.refs={}:c.refs,p=c.setupState,h=_e(p),f=p===be?Ol:m=>ye(h,m);if(d!=null&&d!==a){if(Lr(t),Pe(d))u[d]=null,f(d)&&(p[d]=null);else if(Ue(d)){d.value=null;const m=t;m.k&&(u[m.k]=null)}}if(ue(a))an(a,c,12,[l,u]);else{const m=Pe(a),y=Ue(a);if(m||y){const x=()=>{if(e.f){const k=m?f(a)?p[a]:u[a]:a.value;if(o)le(k)&&Ko(k,r);else if(le(k))k.includes(r)||k.push(r);else if(m)u[a]=[r],f(a)&&(p[a]=u[a]);else{const R=[r];a.value=R,e.k&&(u[e.k]=R)}}else m?(u[a]=l,f(a)&&(p[a]=l)):y&&(a.value=l,e.k&&(u[e.k]=l))};if(l){const k=()=>{x(),Nn.delete(e)};k.id=-1,Nn.set(e,k),ze(k,s)}else Lr(e),x()}}}function Lr(e){const t=Nn.get(e);t&&(t.flags|=8,Nn.delete(e))}const Rr=e=>e.nodeType===8;Gn().requestIdleCallback;Gn().cancelIdleCallback;function ic(e,t){if(Rr(e)&&e.data==="["){let s=1,n=e.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(Rr(n))if(n.data==="]"){if(--s===0)break}else n.data==="["&&s++;n=n.nextSibling}}else t(e)}const Cs=e=>!!e.type.__asyncLoader;function ac(e){ue(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:n,delay:o=200,hydrate:r,timeout:l,suspensible:c=!0,onError:a}=e;let d=null,u,p=0;const h=()=>(p++,d=null,f()),f=()=>{let m;return d||(m=d=t().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),a)return new Promise((x,k)=>{a(y,()=>x(h()),()=>k(y),p+1)});throw y}).then(y=>m!==d&&d?d:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),u=y,y)))};return ir({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(m,y,x){let k=!1;(y.bu||(y.bu=[])).push(()=>k=!0);const R=()=>{k||x()},$=r?()=>{const A=r(R,D=>ic(m,D));A&&(y.bum||(y.bum=[])).push(A)}:R;u?$():f().then(()=>!y.isUnmounted&&$())},get __asyncResolved(){return u},setup(){const m=Ie;if(ar(m),u)return()=>mn(u,m);const y=$=>{d=null,cn($,m,13,!n)};if(c&&m.suspense||Rs)return f().then($=>()=>mn($,m)).catch($=>(y($),()=>n?te(n,{error:$}):null));const x=Ee(!1),k=Ee(),R=Ee(!!o);return o&&setTimeout(()=>{R.value=!1},o),l!=null&&setTimeout(()=>{if(!x.value&&!k.value){const $=new Error(`Async component timed out after ${l}ms.`);y($),k.value=$}},l),f().then(()=>{x.value=!0,m.parent&&cr(m.parent.vnode)&&m.parent.update()}).catch($=>{y($),k.value=$}),()=>{if(x.value&&u)return mn(u,m);if(k.value&&n)return te(n,{error:k.value});if(s&&!R.value)return mn(s,m)}}})}function mn(e,t){const{ref:s,props:n,children:o,ce:r}=t.vnode,l=te(e,n,o);return l.ref=s,l.ce=r,delete t.vnode.ce,l}const cr=e=>e.type.__isKeepAlive;function cc(e,t){_i(e,"a",t)}function uc(e,t){_i(e,"da",t)}function _i(e,t,s=Ie){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Yn(t,n,s),s){let o=s.parent;for(;o&&o.parent;)cr(o.parent.vnode)&&dc(n,t,s,o),o=o.parent}}function dc(e,t,s,n){const o=Yn(t,e,n,!0);vi(()=>{Ko(n[t],o)},s)}function Yn(e,t,s=Ie,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...l)=>{Pt();const c=un(s),a=xt(t,s,e,l);return c(),Lt(),a});return n?o.unshift(r):o.push(r),r}}const It=e=>(t,s=Ie)=>{(!Rs||e==="sp")&&Yn(e,(...n)=>t(...n),s)},fc=It("bm"),Dt=It("m"),pc=It("bu"),hc=It("u"),yi=It("bum"),vi=It("um"),mc=It("sp"),_c=It("rtg"),yc=It("rtc");function vc(e,t=Ie){Yn("ec",e,t)}const gi="components";function Ne(e,t){return wi(gi,e,!0,t)||e}const bi=Symbol.for("v-ndc");function xi(e){return Pe(e)?wi(gi,e,!1)||e:e||bi}function wi(e,t,s=!0,n=!1){const o=De||Ie;if(o){const r=o.type;{const c=nu(r,!1);if(c&&(c===t||c===rt(t)||c===qn(rt(t))))return r}const l=Or(o[e]||r[e],t)||Or(o.appContext[e],t);return!l&&n?r:l}}function Or(e,t){return e&&(e[t]||e[rt(t)]||e[qn(rt(t))])}function Z(e,t,s,n){let o;const r=s,l=le(e);if(l||Pe(e)){const c=l&&ns(e);let a=!1,d=!1;c&&(a=!nt(e),d=Rt(e),e=Kn(e)),o=new Array(e.length);for(let u=0,p=e.length;u<p;u++)o[u]=t(a?d?Ps(dt(e[u])):dt(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,r)}else if(xe(e))if(e[Symbol.iterator])o=Array.from(e,(c,a)=>t(c,a,void 0,r));else{const c=Object.keys(e);o=new Array(c.length);for(let a=0,d=c.length;a<d;a++){const u=c[a];o[a]=t(e[u],u,a,r)}}else o=[];return o}function Si(e,t,s={},n,o){if(De.ce||De.parent&&Cs(De.parent)&&De.parent.ce){const d=Object.keys(s).length>0;return v(),Re(q,null,[te("slot",s,n)],d?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),v();const l=r&&ki(r(s)),c=s.key||l&&l.key,a=Re(q,{key:(c&&!ut(c)?c:`_${t}`)+(!l&&n?"_fb":"")},l||[],l&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ki(e){return e.some(t=>on(t)?!(t.type===Ot||t.type===q&&!ki(t.children)):!0)?e:null}const To=e=>e?Fi(e)?Zn(e):To(e.parent):null,Xs=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ei(e),$forceUpdate:e=>e.f||(e.f=()=>{or(e.update)}),$nextTick:e=>e.n||(e.n=Jn.bind(e.proxy)),$watch:e=>nc.bind(e)}),ao=(e,t)=>e!==be&&!e.__isScriptSetup&&ye(e,t),gc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:r,accessCache:l,type:c,appContext:a}=e;if(t[0]!=="$"){const h=l[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(ao(n,t))return l[t]=1,n[t];if(o!==be&&ye(o,t))return l[t]=2,o[t];if(ye(r,t))return l[t]=3,r[t];if(s!==be&&ye(s,t))return l[t]=4,s[t];Po&&(l[t]=0)}}const d=Xs[t];let u,p;if(d)return t==="$attrs"&&Ve(e.attrs,"get",""),d(e);if((u=c.__cssModules)&&(u=u[t]))return u;if(s!==be&&ye(s,t))return l[t]=4,s[t];if(p=a.config.globalProperties,ye(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return ao(o,t)?(o[t]=s,!0):n!==be&&ye(n,t)?(n[t]=s,!0):ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,props:r,type:l}},c){let a;return!!(s[c]||e!==be&&c[0]!=="$"&&ye(e,c)||ao(t,c)||ye(r,c)||ye(n,c)||ye(Xs,c)||ye(o.config.globalProperties,c)||(a=l.__cssModules)&&a[c])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ye(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Mr(e){return le(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Po=!0;function bc(e){const t=Ei(e),s=e.proxy,n=e.ctx;Po=!1,t.beforeCreate&&Ir(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:l,watch:c,provide:a,inject:d,created:u,beforeMount:p,mounted:h,beforeUpdate:f,updated:m,activated:y,deactivated:x,beforeDestroy:k,beforeUnmount:R,destroyed:$,unmounted:A,render:D,renderTracked:V,renderTriggered:N,errorCaptured:B,serverPrefetch:se,expose:Se,inheritAttrs:Oe,components:F,directives:O,filters:G}=t;if(d&&xc(d,n,null),l)for(const H in l){const M=l[H];ue(M)&&(n[H]=M.bind(s))}if(o){const H=o.call(s,s);xe(H)&&(e.data=wt(H))}if(Po=!0,r)for(const H in r){const M=r[H],Ce=ue(M)?M.bind(s,s):ue(M.get)?M.get.bind(s,s):bt,je=!ue(M)&&ue(M.set)?M.set.bind(s):bt,Me=U({get:Ce,set:je});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>Me.value,set:Ge=>Me.value=Ge})}if(c)for(const H in c)$i(c[H],n,s,H);if(a){const H=ue(a)?a.call(s):a;Reflect.ownKeys(H).forEach(M=>{An(M,H[M])})}u&&Ir(u,e,"c");function C(H,M){le(M)?M.forEach(Ce=>H(Ce.bind(s))):M&&H(M.bind(s))}if(C(fc,p),C(Dt,h),C(pc,f),C(hc,m),C(cc,y),C(uc,x),C(vc,B),C(yc,V),C(_c,N),C(yi,R),C(vi,A),C(mc,se),le(Se))if(Se.length){const H=e.exposed||(e.exposed={});Se.forEach(M=>{Object.defineProperty(H,M,{get:()=>s[M],set:Ce=>s[M]=Ce,enumerable:!0})})}else e.exposed||(e.exposed={});D&&e.render===bt&&(e.render=D),Oe!=null&&(e.inheritAttrs=Oe),F&&(e.components=F),O&&(e.directives=O),se&&ar(e)}function xc(e,t,s=bt){le(e)&&(e=Lo(e));for(const n in e){const o=e[n];let r;xe(o)?"default"in o?r=ct(o.from||n,o.default,!0):r=ct(o.from||n):r=ct(o),Ue(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[n]=r}}function Ir(e,t,s){xt(le(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function $i(e,t,s,n){let o=n.includes(".")?fi(s,n):()=>s[n];if(Pe(e)){const r=t[e];ue(r)&&Qe(o,r)}else if(ue(e))Qe(o,e.bind(s));else if(xe(e))if(le(e))e.forEach(r=>$i(r,t,s,n));else{const r=ue(e.handler)?e.handler.bind(s):t[e.handler];ue(r)&&Qe(o,r,e)}}function Ei(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,c=r.get(t);let a;return c?a=c:!o.length&&!s&&!n?a=t:(a={},o.length&&o.forEach(d=>jn(a,d,l,!0)),jn(a,t,l)),xe(t)&&r.set(t,a),a}function jn(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&jn(e,r,s,!0),o&&o.forEach(l=>jn(e,l,s,!0));for(const l in t)if(!(n&&l==="expose")){const c=wc[l]||s&&s[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const wc={data:Dr,props:Nr,emits:Nr,methods:zs,computed:zs,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:zs,directives:zs,watch:kc,provide:Dr,inject:Sc};function Dr(e,t){return t?e?function(){return Fe(ue(e)?e.call(this,this):e,ue(t)?t.call(this,this):t)}:t:e}function Sc(e,t){return zs(Lo(e),Lo(t))}function Lo(e){if(le(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function He(e,t){return e?[...new Set([].concat(e,t))]:t}function zs(e,t){return e?Fe(Object.create(null),e,t):t}function Nr(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:Fe(Object.create(null),Mr(e),Mr(t??{})):t}function kc(e,t){if(!e)return t;if(!t)return e;const s=Fe(Object.create(null),e);for(const n in t)s[n]=He(e[n],t[n]);return s}function Ai(){return{app:null,config:{isNativeTag:Ol,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Ec(e,t){return function(n,o=null){ue(n)||(n=Fe({},n)),o!=null&&!xe(o)&&(o=null);const r=Ai(),l=new WeakSet,c=[];let a=!1;const d=r.app={_uid:$c++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:ru,get config(){return r.config},set config(u){},use(u,...p){return l.has(u)||(u&&ue(u.install)?(l.add(u),u.install(d,...p)):ue(u)&&(l.add(u),u(d,...p))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,p){return p?(r.components[u]=p,d):r.components[u]},directive(u,p){return p?(r.directives[u]=p,d):r.directives[u]},mount(u,p,h){if(!a){const f=d._ceVNode||te(n,o);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(f,u,h),a=!0,d._container=u,u.__vue_app__=d,Zn(f.component)}},onUnmount(u){c.push(u)},unmount(){a&&(xt(c,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,p){return r.provides[u]=p,d},runWithContext(u){const p=Ts;Ts=d;try{return u()}finally{Ts=p}}};return d}}let Ts=null;const Ac=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rt(t)}Modifiers`]||e[`${is(t)}Modifiers`];function Cc(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||be;let o=s;const r=t.startsWith("update:"),l=r&&Ac(n,t.slice(7));l&&(l.trim&&(o=s.map(u=>Pe(u)?u.trim():u)),l.number&&(o=s.map(Wn)));let c,a=n[c=no(t)]||n[c=no(rt(t))];!a&&r&&(a=n[c=no(is(t))]),a&&xt(a,e,6,o);const d=n[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,xt(d,e,6,o)}}const Tc=new WeakMap;function Ci(e,t,s=!1){const n=s?Tc:t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let l={},c=!1;if(!ue(e)){const a=d=>{const u=Ci(d,t,!0);u&&(c=!0,Fe(l,u))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!c?(xe(e)&&n.set(e,null),null):(le(r)?r.forEach(a=>l[a]=null):Fe(l,r),xe(e)&&n.set(e,l),l)}function Xn(e,t){return!e||!Hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(e,t[0].toLowerCase()+t.slice(1))||ye(e,is(t))||ye(e,t))}function jr(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[r],slots:l,attrs:c,emit:a,render:d,renderCache:u,props:p,data:h,setupState:f,ctx:m,inheritAttrs:y}=e,x=Dn(e);let k,R;try{if(s.shapeFlag&4){const A=o||n,D=A;k=gt(d.call(D,A,u,p,f,h,m)),R=c}else{const A=t;k=gt(A.length>1?A(p,{attrs:c,slots:l,emit:a}):A(p,null)),R=t.props?c:Pc(c)}}catch(A){Qs.length=0,cn(A,e,1),k=te(Ot)}let $=k;if(R&&y!==!1){const A=Object.keys(R),{shapeFlag:D}=$;A.length&&D&7&&(r&&A.some(Go)&&(R=Lc(R,r)),$=Ls($,R,!1,!0))}return s.dirs&&($=Ls($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&lr($,s.transition),k=$,Dn(x),k}const Pc=e=>{let t;for(const s in e)(s==="class"||s==="style"||Hn(s))&&((t||(t={}))[s]=e[s]);return t},Lc=(e,t)=>{const s={};for(const n in e)(!Go(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Rc(e,t,s){const{props:n,children:o,component:r}=e,{props:l,children:c,patchFlag:a}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?Vr(n,l,d):!!l;if(a&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const h=u[p];if(l[h]!==n[h]&&!Xn(d,h))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:n===l?!1:n?l?Vr(n,l,d):!0:!!l;return!1}function Vr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!Xn(s,r))return!0}return!1}function Oc({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ti={},Pi=()=>Object.create(Ti),Li=e=>Object.getPrototypeOf(e)===Ti;function Mc(e,t,s,n=!1){const o={},r=Pi();e.propsDefaults=Object.create(null),Ri(e,t,o,r);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);s?e.props=n?o:ti(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Ic(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:l}}=e,c=_e(o),[a]=e.propsOptions;let d=!1;if((n||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let h=u[p];if(Xn(e.emitsOptions,h))continue;const f=t[h];if(a)if(ye(r,h))f!==r[h]&&(r[h]=f,d=!0);else{const m=rt(h);o[m]=Ro(a,c,m,f,e,!1)}else f!==r[h]&&(r[h]=f,d=!0)}}}else{Ri(e,t,o,r)&&(d=!0);let u;for(const p in c)(!t||!ye(t,p)&&((u=is(p))===p||!ye(t,u)))&&(a?s&&(s[p]!==void 0||s[u]!==void 0)&&(o[p]=Ro(a,c,p,void 0,e,!0)):delete o[p]);if(r!==c)for(const p in r)(!t||!ye(t,p))&&(delete r[p],d=!0)}d&&At(e.attrs,"set","")}function Ri(e,t,s,n){const[o,r]=e.propsOptions;let l=!1,c;if(t)for(let a in t){if(Ws(a))continue;const d=t[a];let u;o&&ye(o,u=rt(a))?!r||!r.includes(u)?s[u]=d:(c||(c={}))[u]=d:Xn(e.emitsOptions,a)||(!(a in n)||d!==n[a])&&(n[a]=d,l=!0)}if(r){const a=_e(s),d=c||be;for(let u=0;u<r.length;u++){const p=r[u];s[p]=Ro(o,a,p,d[p],e,!ye(d,p))}}return l}function Ro(e,t,s,n,o,r){const l=e[s];if(l!=null){const c=ye(l,"default");if(c&&n===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&ue(a)){const{propsDefaults:d}=o;if(s in d)n=d[s];else{const u=un(o);n=d[s]=a.call(null,t),u()}}else n=a;o.ce&&o.ce._setProp(s,n)}l[0]&&(r&&!c?n=!1:l[1]&&(n===""||n===is(s))&&(n=!0))}return n}const Dc=new WeakMap;function Oi(e,t,s=!1){const n=s?Dc:t.propsCache,o=n.get(e);if(o)return o;const r=e.props,l={},c=[];let a=!1;if(!ue(e)){const u=p=>{a=!0;const[h,f]=Oi(p,t,!0);Fe(l,h),f&&c.push(...f)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return xe(e)&&n.set(e,$s),$s;if(le(r))for(let u=0;u<r.length;u++){const p=rt(r[u]);Br(p)&&(l[p]=be)}else if(r)for(const u in r){const p=rt(u);if(Br(p)){const h=r[u],f=l[p]=le(h)||ue(h)?{type:h}:Fe({},h),m=f.type;let y=!1,x=!0;if(le(m))for(let k=0;k<m.length;++k){const R=m[k],$=ue(R)&&R.name;if($==="Boolean"){y=!0;break}else $==="String"&&(x=!1)}else y=ue(m)&&m.name==="Boolean";f[0]=y,f[1]=x,(y||ye(f,"default"))&&c.push(p)}}const d=[l,c];return xe(e)&&n.set(e,d),d}function Br(e){return e[0]!=="$"&&!Ws(e)}const ur=e=>e==="_"||e==="_ctx"||e==="$stable",dr=e=>le(e)?e.map(gt):[gt(e)],Nc=(e,t,s)=>{if(t._n)return t;const n=ge((...o)=>dr(t(...o)),s);return n._c=!1,n},Mi=(e,t,s)=>{const n=e._ctx;for(const o in e){if(ur(o))continue;const r=e[o];if(ue(r))t[o]=Nc(o,r,n);else if(r!=null){const l=dr(r);t[o]=()=>l}}},Ii=(e,t)=>{const s=dr(t);e.slots.default=()=>s},Di=(e,t,s)=>{for(const n in t)(s||!ur(n))&&(e[n]=t[n])},jc=(e,t,s)=>{const n=e.slots=Pi();if(e.vnode.shapeFlag&32){const o=t._;o?(Di(n,t,s),s&&Nl(n,"_",o,!0)):Mi(t,n)}else t&&Ii(e,t)},Vc=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,l=be;if(n.shapeFlag&32){const c=t._;c?s&&c===1?r=!1:Di(o,t,s):(r=!t.$stable,Mi(t,o)),l=t}else t&&(Ii(e,t),l={default:1});if(r)for(const c in o)!ur(c)&&l[c]==null&&delete o[c]},ze=zc;function Bc(e){return Uc(e)}function Uc(e,t){const s=Gn();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:l,createText:c,createComment:a,setText:d,setElementText:u,parentNode:p,nextSibling:h,setScopeId:f=bt,insertStaticContent:m}=e,y=(_,b,S,T=null,I=null,P=null,K=void 0,W=null,z=!!b.dynamicChildren)=>{if(_===b)return;_&&!Vs(_,b)&&(T=L(_),Ge(_,I,P,!0),_=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:j,ref:re,shapeFlag:Y}=b;switch(j){case Qn:x(_,b,S,T);break;case Ot:k(_,b,S,T);break;case Tn:_==null&&R(b,S,T,K);break;case q:F(_,b,S,T,I,P,K,W,z);break;default:Y&1?D(_,b,S,T,I,P,K,W,z):Y&6?O(_,b,S,T,I,P,K,W,z):(Y&64||Y&128)&&j.process(_,b,S,T,I,P,K,W,z,ne)}re!=null&&I?Ys(re,_&&_.ref,P,b||_,!b):re==null&&_&&_.ref!=null&&Ys(_.ref,null,P,_,!0)},x=(_,b,S,T)=>{if(_==null)n(b.el=c(b.children),S,T);else{const I=b.el=_.el;b.children!==_.children&&d(I,b.children)}},k=(_,b,S,T)=>{_==null?n(b.el=a(b.children||""),S,T):b.el=_.el},R=(_,b,S,T)=>{[_.el,_.anchor]=m(_.children,b,S,T,_.el,_.anchor)},$=({el:_,anchor:b},S,T)=>{let I;for(;_&&_!==b;)I=h(_),n(_,S,T),_=I;n(b,S,T)},A=({el:_,anchor:b})=>{let S;for(;_&&_!==b;)S=h(_),o(_),_=S;o(b)},D=(_,b,S,T,I,P,K,W,z)=>{if(b.type==="svg"?K="svg":b.type==="math"&&(K="mathml"),_==null)V(b,S,T,I,P,K,W,z);else{const j=_.el&&_.el._isVueCE?_.el:null;try{j&&j._beginPatch(),se(_,b,I,P,K,W,z)}finally{j&&j._endPatch()}}},V=(_,b,S,T,I,P,K,W)=>{let z,j;const{props:re,shapeFlag:Y,transition:oe,dirs:ae}=_;if(z=_.el=l(_.type,P,re&&re.is,re),Y&8?u(z,_.children):Y&16&&B(_.children,z,null,T,I,co(_,P),K,W),ae&&Jt(_,null,T,"created"),N(z,_,_.scopeId,K,T),re){for(const ke in re)ke!=="value"&&!Ws(ke)&&r(z,ke,null,re[ke],P,T);"value"in re&&r(z,"value",null,re.value,P),(j=re.onVnodeBeforeMount)&&_t(j,T,_)}ae&&Jt(_,null,T,"beforeMount");const he=Fc(I,oe);he&&oe.beforeEnter(z),n(z,b,S),((j=re&&re.onVnodeMounted)||he||ae)&&ze(()=>{j&&_t(j,T,_),he&&oe.enter(z),ae&&Jt(_,null,T,"mounted")},I)},N=(_,b,S,T,I)=>{if(S&&f(_,S),T)for(let P=0;P<T.length;P++)f(_,T[P]);if(I){let P=I.subTree;if(b===P||Vi(P.type)&&(P.ssContent===b||P.ssFallback===b)){const K=I.vnode;N(_,K,K.scopeId,K.slotScopeIds,I.parent)}}},B=(_,b,S,T,I,P,K,W,z=0)=>{for(let j=z;j<_.length;j++){const re=_[j]=W?Ut(_[j]):gt(_[j]);y(null,re,b,S,T,I,P,K,W)}},se=(_,b,S,T,I,P,K)=>{const W=b.el=_.el;let{patchFlag:z,dynamicChildren:j,dirs:re}=b;z|=_.patchFlag&16;const Y=_.props||be,oe=b.props||be;let ae;if(S&&Yt(S,!1),(ae=oe.onVnodeBeforeUpdate)&&_t(ae,S,b,_),re&&Jt(b,_,S,"beforeUpdate"),S&&Yt(S,!0),(Y.innerHTML&&oe.innerHTML==null||Y.textContent&&oe.textContent==null)&&u(W,""),j?Se(_.dynamicChildren,j,W,S,T,co(b,I),P):K||M(_,b,W,null,S,T,co(b,I),P,!1),z>0){if(z&16)Oe(W,Y,oe,S,I);else if(z&2&&Y.class!==oe.class&&r(W,"class",null,oe.class,I),z&4&&r(W,"style",Y.style,oe.style,I),z&8){const he=b.dynamicProps;for(let ke=0;ke<he.length;ke++){const ve=he[ke],Ke=Y[ve],Je=oe[ve];(Je!==Ke||ve==="value")&&r(W,ve,Ke,Je,I,S)}}z&1&&_.children!==b.children&&u(W,b.children)}else!K&&j==null&&Oe(W,Y,oe,S,I);((ae=oe.onVnodeUpdated)||re)&&ze(()=>{ae&&_t(ae,S,b,_),re&&Jt(b,_,S,"updated")},T)},Se=(_,b,S,T,I,P,K)=>{for(let W=0;W<b.length;W++){const z=_[W],j=b[W],re=z.el&&(z.type===q||!Vs(z,j)||z.shapeFlag&198)?p(z.el):S;y(z,j,re,null,T,I,P,K,!0)}},Oe=(_,b,S,T,I)=>{if(b!==S){if(b!==be)for(const P in b)!Ws(P)&&!(P in S)&&r(_,P,b[P],null,I,T);for(const P in S){if(Ws(P))continue;const K=S[P],W=b[P];K!==W&&P!=="value"&&r(_,P,W,K,I,T)}"value"in S&&r(_,"value",b.value,S.value,I)}},F=(_,b,S,T,I,P,K,W,z)=>{const j=b.el=_?_.el:c(""),re=b.anchor=_?_.anchor:c("");let{patchFlag:Y,dynamicChildren:oe,slotScopeIds:ae}=b;ae&&(W=W?W.concat(ae):ae),_==null?(n(j,S,T),n(re,S,T),B(b.children||[],S,re,I,P,K,W,z)):Y>0&&Y&64&&oe&&_.dynamicChildren&&_.dynamicChildren.length===oe.length?(Se(_.dynamicChildren,oe,S,I,P,K,W),(b.key!=null||I&&b===I.subTree)&&fr(_,b,!0)):M(_,b,S,re,I,P,K,W,z)},O=(_,b,S,T,I,P,K,W,z)=>{b.slotScopeIds=W,_==null?b.shapeFlag&512?I.ctx.activate(b,S,T,K,z):G(b,S,T,I,P,K,z):E(_,b,z)},G=(_,b,S,T,I,P,K)=>{const W=_.component=Xc(_,T,I);if(cr(_)&&(W.ctx.renderer=ne),Zc(W,!1,K),W.asyncDep){if(I&&I.registerDep(W,C,K),!_.el){const z=W.subTree=te(Ot);k(null,z,b,S),_.placeholder=z.el}}else C(W,_,b,S,I,P,K)},E=(_,b,S)=>{const T=b.component=_.component;if(Rc(_,b,S))if(T.asyncDep&&!T.asyncResolved){H(T,b,S);return}else T.next=b,T.update();else b.el=_.el,T.vnode=b},C=(_,b,S,T,I,P,K)=>{const W=()=>{if(_.isMounted){let{next:Y,bu:oe,u:ae,parent:he,vnode:ke}=_;{const ht=Ni(_);if(ht){Y&&(Y.el=ke.el,H(_,Y,K)),ht.asyncDep.then(()=>{_.isUnmounted||W()});return}}let ve=Y,Ke;Yt(_,!1),Y?(Y.el=ke.el,H(_,Y,K)):Y=ke,oe&&En(oe),(Ke=Y.props&&Y.props.onVnodeBeforeUpdate)&&_t(Ke,he,Y,ke),Yt(_,!0);const Je=jr(_),pt=_.subTree;_.subTree=Je,y(pt,Je,p(pt.el),L(pt),_,I,P),Y.el=Je.el,ve===null&&Oc(_,Je.el),ae&&ze(ae,I),(Ke=Y.props&&Y.props.onVnodeUpdated)&&ze(()=>_t(Ke,he,Y,ke),I)}else{let Y;const{el:oe,props:ae}=b,{bm:he,m:ke,parent:ve,root:Ke,type:Je}=_,pt=Cs(b);Yt(_,!1),he&&En(he),!pt&&(Y=ae&&ae.onVnodeBeforeMount)&&_t(Y,ve,b),Yt(_,!0);{Ke.ce&&Ke.ce._def.shadowRoot!==!1&&Ke.ce._injectChildStyle(Je);const ht=_.subTree=jr(_);y(null,ht,S,T,_,I,P),b.el=ht.el}if(ke&&ze(ke,I),!pt&&(Y=ae&&ae.onVnodeMounted)){const ht=b;ze(()=>_t(Y,ve,ht),I)}(b.shapeFlag&256||ve&&Cs(ve.vnode)&&ve.vnode.shapeFlag&256)&&_.a&&ze(_.a,I),_.isMounted=!0,b=S=T=null}};_.scope.on();const z=_.effect=new Ul(W);_.scope.off();const j=_.update=z.run.bind(z),re=_.job=z.runIfDirty.bind(z);re.i=_,re.id=_.uid,z.scheduler=()=>or(re),Yt(_,!0),j()},H=(_,b,S)=>{b.component=_;const T=_.vnode.props;_.vnode=b,_.next=null,Ic(_,b.props,T,S),Vc(_,b.children,S),Pt(),Ar(_),Lt()},M=(_,b,S,T,I,P,K,W,z=!1)=>{const j=_&&_.children,re=_?_.shapeFlag:0,Y=b.children,{patchFlag:oe,shapeFlag:ae}=b;if(oe>0){if(oe&128){je(j,Y,S,T,I,P,K,W,z);return}else if(oe&256){Ce(j,Y,S,T,I,P,K,W,z);return}}ae&8?(re&16&&tt(j,I,P),Y!==j&&u(S,Y)):re&16?ae&16?je(j,Y,S,T,I,P,K,W,z):tt(j,I,P,!0):(re&8&&u(S,""),ae&16&&B(Y,S,T,I,P,K,W,z))},Ce=(_,b,S,T,I,P,K,W,z)=>{_=_||$s,b=b||$s;const j=_.length,re=b.length,Y=Math.min(j,re);let oe;for(oe=0;oe<Y;oe++){const ae=b[oe]=z?Ut(b[oe]):gt(b[oe]);y(_[oe],ae,S,null,I,P,K,W,z)}j>re?tt(_,I,P,!0,!1,Y):B(b,S,T,I,P,K,W,z,Y)},je=(_,b,S,T,I,P,K,W,z)=>{let j=0;const re=b.length;let Y=_.length-1,oe=re-1;for(;j<=Y&&j<=oe;){const ae=_[j],he=b[j]=z?Ut(b[j]):gt(b[j]);if(Vs(ae,he))y(ae,he,S,null,I,P,K,W,z);else break;j++}for(;j<=Y&&j<=oe;){const ae=_[Y],he=b[oe]=z?Ut(b[oe]):gt(b[oe]);if(Vs(ae,he))y(ae,he,S,null,I,P,K,W,z);else break;Y--,oe--}if(j>Y){if(j<=oe){const ae=oe+1,he=ae<re?b[ae].el:T;for(;j<=oe;)y(null,b[j]=z?Ut(b[j]):gt(b[j]),S,he,I,P,K,W,z),j++}}else if(j>oe)for(;j<=Y;)Ge(_[j],I,P,!0),j++;else{const ae=j,he=j,ke=new Map;for(j=he;j<=oe;j++){const Ze=b[j]=z?Ut(b[j]):gt(b[j]);Ze.key!=null&&ke.set(Ze.key,j)}let ve,Ke=0;const Je=oe-he+1;let pt=!1,ht=0;const Ns=new Array(Je);for(j=0;j<Je;j++)Ns[j]=0;for(j=ae;j<=Y;j++){const Ze=_[j];if(Ke>=Je){Ge(Ze,I,P,!0);continue}let mt;if(Ze.key!=null)mt=ke.get(Ze.key);else for(ve=he;ve<=oe;ve++)if(Ns[ve-he]===0&&Vs(Ze,b[ve])){mt=ve;break}mt===void 0?Ge(Ze,I,P,!0):(Ns[mt-he]=j+1,mt>=ht?ht=mt:pt=!0,y(Ze,b[mt],S,null,I,P,K,W,z),Ke++)}const br=pt?Hc(Ns):$s;for(ve=br.length-1,j=Je-1;j>=0;j--){const Ze=he+j,mt=b[Ze],xr=b[Ze+1],wr=Ze+1<re?xr.el||ji(xr):T;Ns[j]===0?y(null,mt,S,wr,I,P,K,W,z):pt&&(ve<0||j!==br[ve]?Me(mt,S,wr,2):ve--)}}},Me=(_,b,S,T,I=null)=>{const{el:P,type:K,transition:W,children:z,shapeFlag:j}=_;if(j&6){Me(_.component.subTree,b,S,T);return}if(j&128){_.suspense.move(b,S,T);return}if(j&64){K.move(_,b,S,ne);return}if(K===q){n(P,b,S);for(let Y=0;Y<z.length;Y++)Me(z[Y],b,S,T);n(_.anchor,b,S);return}if(K===Tn){$(_,b,S);return}if(T!==2&&j&1&&W)if(T===0)W.beforeEnter(P),n(P,b,S),ze(()=>W.enter(P),I);else{const{leave:Y,delayLeave:oe,afterLeave:ae}=W,he=()=>{_.ctx.isUnmounted?o(P):n(P,b,S)},ke=()=>{P._isLeaving&&P[lc](!0),Y(P,()=>{he(),ae&&ae()})};oe?oe(P,he,ke):ke()}else n(P,b,S)},Ge=(_,b,S,T=!1,I=!1)=>{const{type:P,props:K,ref:W,children:z,dynamicChildren:j,shapeFlag:re,patchFlag:Y,dirs:oe,cacheIndex:ae}=_;if(Y===-2&&(I=!1),W!=null&&(Pt(),Ys(W,null,S,_,!0),Lt()),ae!=null&&(b.renderCache[ae]=void 0),re&256){b.ctx.deactivate(_);return}const he=re&1&&oe,ke=!Cs(_);let ve;if(ke&&(ve=K&&K.onVnodeBeforeUnmount)&&_t(ve,b,_),re&6)Kt(_.component,S,T);else{if(re&128){_.suspense.unmount(S,T);return}he&&Jt(_,null,b,"beforeUnmount"),re&64?_.type.remove(_,b,S,ne,T):j&&!j.hasOnce&&(P!==q||Y>0&&Y&64)?tt(j,b,S,!1,!0):(P===q&&Y&384||!I&&re&16)&&tt(z,b,S),T&&as(_)}(ke&&(ve=K&&K.onVnodeUnmounted)||he)&&ze(()=>{ve&&_t(ve,b,_),he&&Jt(_,null,b,"unmounted")},S)},as=_=>{const{type:b,el:S,anchor:T,transition:I}=_;if(b===q){cs(S,T);return}if(b===Tn){A(_);return}const P=()=>{o(S),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(_.shapeFlag&1&&I&&!I.persisted){const{leave:K,delayLeave:W}=I,z=()=>K(S,P);W?W(_.el,P,z):z()}else P()},cs=(_,b)=>{let S;for(;_!==b;)S=h(_),o(_),_=S;o(b)},Kt=(_,b,S)=>{const{bum:T,scope:I,job:P,subTree:K,um:W,m:z,a:j}=_;Ur(z),Ur(j),T&&En(T),I.stop(),P&&(P.flags|=8,Ge(K,_,b,S)),W&&ze(W,b),ze(()=>{_.isUnmounted=!0},b)},tt=(_,b,S,T=!1,I=!1,P=0)=>{for(let K=P;K<_.length;K++)Ge(_[K],b,S,T,I)},L=_=>{if(_.shapeFlag&6)return L(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=h(_.anchor||_.el),S=b&&b[pi];return S?h(S):b};let X=!1;const J=(_,b,S)=>{let T;_==null?b._vnode&&(Ge(b._vnode,null,null,!0),T=b._vnode.component):y(b._vnode||null,_,b,null,null,null,S),b._vnode=_,X||(X=!0,Ar(T),ai(),X=!1)},ne={p:y,um:Ge,m:Me,r:as,mt:G,mc:B,pc:M,pbc:Se,n:L,o:e};return{render:J,hydrate:void 0,createApp:Ec(J)}}function co({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Yt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function fr(e,t,s=!1){const n=e.children,o=t.children;if(le(n)&&le(o))for(let r=0;r<n.length;r++){const l=n[r];let c=o[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[r]=Ut(o[r]),c.el=l.el),!s&&c.patchFlag!==-2&&fr(l,c)),c.type===Qn&&(c.patchFlag!==-1?c.el=l.el:c.__elIndex=r+(e.type===q?1:0)),c.type===Ot&&!c.el&&(c.el=l.el)}}function Hc(e){const t=e.slice(),s=[0];let n,o,r,l,c;const a=e.length;for(n=0;n<a;n++){const d=e[n];if(d!==0){if(o=s[s.length-1],e[o]<d){t[n]=o,s.push(n);continue}for(r=0,l=s.length-1;r<l;)c=r+l>>1,e[s[c]]<d?r=c+1:l=c;d<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,l=s[r-1];r-- >0;)s[r]=l,l=t[l];return s}function Ni(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ni(t)}function Ur(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ji(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?ji(t.subTree):null}const Vi=e=>e.__isSuspense;function zc(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):ec(e)}const q=Symbol.for("v-fgt"),Qn=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Tn=Symbol.for("v-stc"),Qs=[];let et=null;function v(e=!1){Qs.push(et=e?null:[])}function qc(){Qs.pop(),et=Qs[Qs.length-1]||null}let nn=1;function Vn(e,t=!1){nn+=e,e<0&&et&&t&&(et.hasOnce=!0)}function Bi(e){return e.dynamicChildren=nn>0?et||$s:null,qc(),nn>0&&et&&et.push(e),e}function g(e,t,s,n,o,r){return Bi(i(e,t,s,n,o,r,!0))}function Re(e,t,s,n,o){return Bi(te(e,t,s,n,o,!0))}function on(e){return e?e.__v_isVNode===!0:!1}function Vs(e,t){return e.type===t.type&&e.key===t.key}const Ui=({key:e})=>e??null,Pn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||Ue(e)||ue(e)?{i:De,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,n=0,o=null,r=e===q?0:1,l=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ui(t),ref:t&&Pn(t),scopeId:ui,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:De};return c?(hr(a,s),r&128&&e.normalize(a)):s&&(a.shapeFlag|=Pe(s)?8:16),nn>0&&!l&&et&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&et.push(a),a}const te=Wc;function Wc(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===bi)&&(e=Ot),on(e)){const c=Ls(e,t,!0);return s&&hr(c,s),nn>0&&!r&&et&&(c.shapeFlag&6?et[et.indexOf(e)]=c:et.push(c)),c.patchFlag=-2,c}if(ou(e)&&(e=e.__vccOpts),t){t=Gc(t);let{class:c,style:a}=t;c&&!Pe(c)&&(t.class=fe(c)),xe(a)&&(nr(a)&&!le(a)&&(a=Fe({},a)),t.style=it(a))}const l=Pe(e)?1:Vi(e)?128:oc(e)?64:xe(e)?4:ue(e)?2:0;return i(e,t,s,n,o,l,r,!0)}function Gc(e){return e?nr(e)||Li(e)?Fe({},e):e:null}function Ls(e,t,s=!1,n=!1){const{props:o,ref:r,patchFlag:l,children:c,transition:a}=e,d=t?Kc(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Ui(d),ref:t&&t.ref?s&&r?le(r)?r.concat(Pn(t)):[r,Pn(t)]:Pn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==q?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ls(e.ssContent),ssFallback:e.ssFallback&&Ls(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&n&&lr(u,a.clone(u)),u}function ce(e=" ",t=0){return te(Qn,null,e,t)}function pr(e,t){const s=te(Tn,null,e);return s.staticCount=t,s}function ee(e="",t=!1){return t?(v(),Re(Ot,null,e)):te(Ot,null,e)}function gt(e){return e==null||typeof e=="boolean"?te(Ot):le(e)?te(q,null,e.slice()):on(e)?Ut(e):te(Qn,null,String(e))}function Ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ls(e)}function hr(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(le(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),hr(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Li(t)?t._ctx=De:o===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ue(t)?(t={default:t,_ctx:De},s=32):(t=String(t),n&64?(s=16,t=[ce(t)]):s=8);e.children=t,e.shapeFlag|=s}function Kc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=fe([t.class,n.class]));else if(o==="style")t.style=it([t.style,n.style]);else if(Hn(o)){const r=t[o],l=n[o];l&&r!==l&&!(le(r)&&r.includes(l))&&(t[o]=r?[].concat(r,l):l)}else o!==""&&(t[o]=n[o])}return t}function _t(e,t,s,n=null){xt(e,t,7,[s,n])}const Jc=Ai();let Yc=0;function Xc(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||Jc,r={uid:Yc++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ea(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oi(n,o),emitsOptions:Ci(n,o),emit:null,emitted:null,propsDefaults:be,inheritAttrs:n.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Cc.bind(null,r),e.ce&&e.ce(r),r}let Ie=null;const Qc=()=>Ie||De;let Bn,Oo;{const e=Gn(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),r=>{o.length>1?o.forEach(l=>l(r)):o[0](r)}};Bn=t("__VUE_INSTANCE_SETTERS__",s=>Ie=s),Oo=t("__VUE_SSR_SETTERS__",s=>Rs=s)}const un=e=>{const t=Ie;return Bn(e),e.scope.on(),()=>{e.scope.off(),Bn(t)}},Fr=()=>{Ie&&Ie.scope.off(),Bn(null)};function Fi(e){return e.vnode.shapeFlag&4}let Rs=!1;function Zc(e,t=!1,s=!1){t&&Oo(t);const{props:n,children:o}=e.vnode,r=Fi(e);Mc(e,n,r,t),jc(e,o,s||t);const l=r?eu(e,t):void 0;return t&&Oo(!1),l}function eu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gc);const{setup:n}=s;if(n){Pt();const o=e.setupContext=n.length>1?su(e):null,r=un(e),l=an(n,e,0,[e.props,o]),c=Ml(l);if(Lt(),r(),(c||e.sp)&&!Cs(e)&&ar(e),c){if(l.then(Fr,Fr),t)return l.then(a=>{Hr(e,a)}).catch(a=>{cn(a,e,0)});e.asyncDep=l}else Hr(e,l)}else Hi(e)}function Hr(e,t,s){ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=ri(t)),Hi(e)}function Hi(e,t,s){const n=e.type;e.render||(e.render=n.render||bt);{const o=un(e);Pt();try{bc(e)}finally{Lt(),o()}}}const tu={get(e,t){return Ve(e,"get",""),e[t]}};function su(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,tu),slots:e.slots,emit:e.emit,expose:t}}function Zn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ri(si(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Xs)return Xs[s](e)},has(t,s){return s in t||s in Xs}})):e.proxy}function nu(e,t=!0){return ue(e)?e.displayName||e.name:e.name||t&&e.__name}function ou(e){return ue(e)&&"__vccOpts"in e}const U=(e,t)=>Ja(e,t,Rs);function zi(e,t,s){try{Vn(-1);const n=arguments.length;return n===2?xe(t)&&!le(t)?on(t)?te(e,null,[t]):te(e,t):te(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&on(s)&&(s=[s]),te(e,t,s))}finally{Vn(1)}}const ru="3.5.26";let Mo;const zr=typeof window<"u"&&window.trustedTypes;if(zr)try{Mo=zr.createPolicy("vue",{createHTML:e=>e})}catch{}const qi=Mo?e=>Mo.createHTML(e):e=>e,lu="http://www.w3.org/2000/svg",iu="http://www.w3.org/1998/Math/MathML",Et=typeof document<"u"?document:null,qr=Et&&Et.createElement("template"),au={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?Et.createElementNS(lu,e):t==="mathml"?Et.createElementNS(iu,e):s?Et.createElement(e,{is:s}):Et.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Et.createTextNode(e),createComment:e=>Et.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Et.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,r){const l=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{qr.innerHTML=qi(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const c=qr.content;if(n==="svg"||n==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},cu=Symbol("_vtc");function uu(e,t,s){const n=e[cu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Un=Symbol("_vod"),Wi=Symbol("_vsh"),vt={name:"show",beforeMount(e,{value:t},{transition:s}){e[Un]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Bs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Bs(e,!0),n.enter(e)):n.leave(e,()=>{Bs(e,!1)}):Bs(e,t))},beforeUnmount(e,{value:t}){Bs(e,t)}};function Bs(e,t){e.style.display=t?e[Un]:"none",e[Wi]=!t}const du=Symbol(""),fu=/(?:^|;)\s*display\s*:/;function pu(e,t,s){const n=e.style,o=Pe(s);let r=!1;if(s&&!o){if(t)if(Pe(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();s[c]==null&&Ln(n,c,"")}else for(const l in t)s[l]==null&&Ln(n,l,"");for(const l in s)l==="display"&&(r=!0),Ln(n,l,s[l])}else if(o){if(t!==s){const l=n[du];l&&(s+=";"+l),n.cssText=s,r=fu.test(s)}}else t&&e.removeAttribute("style");Un in e&&(e[Un]=r?n.display:"",e[Wi]&&(n.display="none"))}const Wr=/\s*!important$/;function Ln(e,t,s){if(le(s))s.forEach(n=>Ln(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=hu(e,t);Wr.test(s)?e.setProperty(is(n),s.replace(Wr,""),"important"):e[n]=s}}const Gr=["Webkit","Moz","ms"],uo={};function hu(e,t){const s=uo[t];if(s)return s;let n=rt(t);if(n!=="filter"&&n in e)return uo[t]=n;n=qn(n);for(let o=0;o<Gr.length;o++){const r=Gr[o]+n;if(r in e)return uo[t]=r}return t}const Kr="http://www.w3.org/1999/xlink";function Jr(e,t,s,n,o,r=ka(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Kr,t.slice(6,t.length)):e.setAttributeNS(Kr,t,s):s==null||r&&!jl(s)?e.removeAttribute(t):e.setAttribute(t,r?"":ut(s)?String(s):s)}function Yr(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?qi(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(c!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=jl(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(o||t)}function Tt(e,t,s,n){e.addEventListener(t,s,n)}function mu(e,t,s,n){e.removeEventListener(t,s,n)}const Xr=Symbol("_vei");function _u(e,t,s,n,o=null){const r=e[Xr]||(e[Xr]={}),l=r[t];if(n&&l)l.value=n;else{const[c,a]=yu(t);if(n){const d=r[t]=bu(n,o);Tt(e,c,d,a)}else l&&(mu(e,c,l,a),r[t]=void 0)}}const Qr=/(?:Once|Passive|Capture)$/;function yu(e){let t;if(Qr.test(e)){t={};let n;for(;n=e.match(Qr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):is(e.slice(2)),t]}let fo=0;const vu=Promise.resolve(),gu=()=>fo||(vu.then(()=>fo=0),fo=Date.now());function bu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;xt(xu(n,s.value),t,5,[n])};return s.value=e,s.attached=gu(),s}function xu(e,t){if(le(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Zr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,wu=(e,t,s,n,o,r)=>{const l=o==="svg";t==="class"?uu(e,n,l):t==="style"?pu(e,s,n):Hn(t)?Go(t)||_u(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Su(e,t,n,l))?(Yr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Jr(e,t,n,l,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Pe(n))?Yr(e,rt(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Jr(e,t,n,l))};function Su(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Zr(t)&&ue(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Zr(t)&&Pe(s)?!1:t in e}const Wt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?s=>En(t,s):t};function ku(e){e.target.composing=!0}function el(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ot=Symbol("_assign");function tl(e,t,s){return t&&(e=e.trim()),s&&(e=Wn(e)),e}const de={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[ot]=Wt(o);const r=n||o.props&&o.props.type==="number";Tt(e,t?"change":"input",l=>{l.target.composing||e[ot](tl(e.value,s,r))}),(s||r)&&Tt(e,"change",()=>{e.value=tl(e.value,s,r)}),t||(Tt(e,"compositionstart",ku),Tt(e,"compositionend",el),Tt(e,"change",el))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:r}},l){if(e[ot]=Wt(l),e.composing)return;const c=(r||e.type==="number")&&!/^0\d/.test(e.value)?Wn(e.value):e.value,a=t??"";c!==a&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===a)||(e.value=a))}},$u={deep:!0,created(e,t,s){e[ot]=Wt(s),Tt(e,"change",()=>{const n=e._modelValue,o=Os(e),r=e.checked,l=e[ot];if(le(n)){const c=Yo(n,o),a=c!==-1;if(r&&!a)l(n.concat(o));else if(!r&&a){const d=[...n];d.splice(c,1),l(d)}}else if(Ds(n)){const c=new Set(n);r?c.add(o):c.delete(o),l(c)}else l(Gi(e,r))})},mounted:sl,beforeUpdate(e,t,s){e[ot]=Wt(s),sl(e,t,s)}};function sl(e,{value:t,oldValue:s},n){e._modelValue=t;let o;if(le(t))o=Yo(t,n.props.value)>-1;else if(Ds(t))o=t.has(n.props.value);else{if(t===s)return;o=rs(t,Gi(e,!0))}e.checked!==o&&(e.checked=o)}const ks={created(e,{value:t},s){e.checked=rs(t,s.props.value),e[ot]=Wt(s),Tt(e,"change",()=>{e[ot](Os(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[ot]=Wt(n),t!==s&&(e.checked=rs(t,n.props.value))}},Mt={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=Ds(t);Tt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Wn(Os(l)):Os(l));e[ot](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Jn(()=>{e._assigning=!1})}),e[ot]=Wt(n)},mounted(e,{value:t}){nl(e,t)},beforeUpdate(e,t,s){e[ot]=Wt(s)},updated(e,{value:t}){e._assigning||nl(e,t)}};function nl(e,t){const s=e.multiple,n=le(t);if(!(s&&!n&&!Ds(t))){for(let o=0,r=e.options.length;o<r;o++){const l=e.options[o],c=Os(l);if(s)if(n){const a=typeof c;a==="string"||a==="number"?l.selected=t.some(d=>String(d)===String(c)):l.selected=Yo(t,c)>-1}else l.selected=t.has(c);else if(rs(Os(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Os(e){return"_value"in e?e._value:e.value}function Gi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Eu=["ctrl","shift","alt","meta"],Au={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Eu.some(s=>e[`${s}Key`]&&!t.includes(s))},Gt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((o,...r)=>{for(let l=0;l<t.length;l++){const c=Au[t[l]];if(c&&c(o,t))return}return e(o,...r)}))},Cu=Fe({patchProp:wu},au);let ol;function Tu(){return ol||(ol=Bc(Cu))}const Pu=((...e)=>{const t=Tu().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=Ru(n);if(!o)return;const r=t._component;!ue(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=s(o,!1,Lu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t});function Lu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ru(e){return Pe(e)?document.querySelector(e):e}const Io=ni(null),Ou={get(){return Io.value},set(e){Io.value=e}},Mu={__name:"App",props:{projectConfig:Object,discoveredModules:Array},setup(e){const t=U(()=>Io.value);return(s,n)=>{const o=Ne("RouterView");return v(),Re(xi(t.value?.component),{"project-config":e.projectConfig,"discovered-modules":e.discoveredModules},{default:ge(()=>[te(o)]),_:1},8,["project-config","discovered-modules"])}}},Iu="modulepreload",Du=function(e){return"/"+e},rl={},Ae=function(t,s,n){let o=Promise.resolve();if(s&&s.length>0){let a=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=a(s.map(d=>{if(d=Du(d),d in rl)return;rl[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Iu,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})},Rn=new Map,Ki=Ee(0);function ll(e,t){!e||!t||(Rn.has(e)||Rn.set(e,[]),Rn.get(e).push(t),Ki.value+=1)}function Nu(e){return Rn.get(e)||[]}const ju=Object.assign({"./dashboard/index.js":()=>Ae(()=>Promise.resolve().then(()=>mp),void 0),"./employee/index.js":()=>Ae(()=>Promise.resolve().then(()=>bp),void 0),"./mtk2mad/index.js":()=>Ae(()=>Promise.resolve().then(()=>Sp),void 0),"./notification/index.js":()=>Ae(()=>Promise.resolve().then(()=>eh),void 0),"./shell/index.js":()=>Ae(()=>Promise.resolve().then(()=>nh),void 0),"./task/index.js":()=>Ae(()=>Promise.resolve().then(()=>ih),void 0),"./vote/index.js":()=>Ae(()=>Promise.resolve().then(()=>dh),void 0),"./welcome/index.js":()=>Ae(()=>Promise.resolve().then(()=>$h),void 0)}),mr=Object.fromEntries(Object.entries(ju).filter(([e])=>!e.includes("/_archive/")).map(([e,t])=>[e.split("/")[1],t])),po=new Map,il=new Set;async function Ji(){for(const[e,t]of Object.entries(mr)){if(po.has(e)||typeof t!="function")continue;const s=await t();po.set(e,s?.default||null)}return po}function Do(){return Object.keys(mr).map(e=>({name:e}))}async function Vu({register:e},{allowList:t=[]}={}){const s=await Ji(),n=Array.isArray(t)?new Set(t):null;for(const[o,r]of s.entries()){if(!r||n&&!n.has(o)||il.has(o))continue;const l=r.setup||{},{stores:c,routes:a,ui:d}=l;if(c)for(const[u,p]of Object.entries(c))e.store(u,p);if(Array.isArray(a)){const u=a.map(p=>p&&!p.component?{...p,component:r.view}:p);e.routes(u)}if(d?.slots&&typeof d.slots=="object")for(const[u,p]of Object.entries(d.slots))Array.isArray(p)?p.forEach(h=>ll(u,h)):ll(u,p);il.add(o)}}function Bu(){return{routes:[...(window.__MODULE_ROUTES__||{all:[]}).all||[]]}}const Uu=Object.freeze(Object.defineProperty({__proto__:null,buildModuleRoutes:Bu,installModules:Vu,listModules:Do,loadModules:Ji,moduleLoaders:mr},Symbol.toStringTag,{value:"Module"}));function Fu(e){return Array.isArray(e)?e.map(t=>typeof t=="string"?{name:t}:t):null}function Hu(e){const t=typeof Do=="function"?Do():null,s=Fu(t??e?.modules??[]);if(!s)throw new Error("[World] project modules registry must be an array");return s.map(n=>({name:n.name,status:"declared"}))}function zu(){return Uu}function Yi(e){const t=e?.access||{},s=typeof t.public=="boolean"?t.public:e?.public,n=typeof t.auth=="boolean"?t.auth:e?.auth;return{public:s,auth:n}}function al(e,t,s,n){const o=Yi(s);return{path:e.path,label:t.label||n,order:Number.isFinite(t.order)?t.order:0,parent:t.parent||s?.navParent||null,link:t.link!==!1,access:o}}function qu(e=[],{defaultAreas:t=["sidebar"]}={}){const s={topbar:[],sidebar:[]};return e.forEach(n=>{if(!n||!n.path)return;const o=n.meta||{},r=Array.isArray(o.nav),l=r?o.nav:null,c=o.label||n.name||n.path;if(r&&l.length===0)return;if(l&&l.length>0){l.forEach(u=>{!u||!u.area||(s[u.area]||(s[u.area]=[]),s[u.area].push(al(n,u,o,c)))});return}const a=Yi(o);typeof a.public=="boolean"&&typeof a.auth=="boolean"&&t.forEach(u=>{s[u]||(s[u]=[]),s[u].push(al(n,{},o,c))})}),Object.keys(s).forEach(n=>{s[n].sort((o,r)=>{const l=o.order-r.order;return l!==0?l:String(o.label||"").localeCompare(String(r.label||""))})}),s}function Wu(){const e=new Map;return{on(t,s){if(!t||typeof s!="function")return;const n=e.get(t)??new Set;n.add(s),e.set(t,n)},off(t,s){const n=e.get(t);!n||!s||(n.delete(s),n.size===0&&e.delete(t))},emit(t,s){const n=e.get(t);if(n)for(const o of[...n])try{o(s)}catch(r){console.error("[EventBus] handler error",r)}}}}const Gu=Wu(),Ku={resolveNavProjection:qu,eventBus:Gu};class Ju{constructor(){this.factories=new Map,this.instances=new Map,this.services=Ku}register(t,s){if(this.factories.has(t)){console.warn(`[Container] "${t}" already registered`);return}this.factories.set(t,s)}resolve(t){if(this.instances.has(t))return this.instances.get(t);const s=this.factories.get(t);if(!s)throw new Error(`[Container] "${t}" not registered`);const n=s();return this.instances.set(t,n),n}getService(t){const s=this.services[t];if(!s)throw new Error(`[Container] service "${t}" not found`);return s}list(){return{stores:[...this.factories.keys()],instances:[...this.instances.keys()],services:Object.keys(this.services)}}}const ie=new Ju;let No=null;function Yu(e){No=e}function Xu(){if(!No)throw new Error("[RouterHolder] router not ready");return No}const Qu="__MODULE_ROUTES__",Zu=[],ed=[];function td(){const e=typeof window<"u"?window[Qu]:null;return e?{public:Array.isArray(e.public)?e.public:[],auth:Array.isArray(e.auth)?e.auth:[],all:Array.isArray(e.all)?e.all:[]}:{public:[],auth:[],all:[]}}async function sd(){const{public:e,auth:t}=td(),s=[...Zu,...e,...ed,...t,{path:"404",name:"not-found",component:()=>Ae(()=>Promise.resolve().then(()=>Rh),void 0)},{path:":pathMatch(.*)*",redirect:"/404"}];return[{path:"/",name:"root",component:()=>Ae(()=>Promise.resolve().then(()=>_h),void 0),children:s}]}function cl(e=""){return e.startsWith("/")?e:"/"+e}function nd(e){const t="__MODULE_ROUTES__";function s(){return window[t]||(window[t]={public:[],auth:[],all:[]}),window[t]}function n(r={}){const l=r.access||{},c=typeof l.public=="boolean"?l.public:r.public,a=typeof l.auth=="boolean"?l.auth:r.auth;if(!(typeof c=="boolean")||!(typeof a=="boolean"))throw new Error("[Routes] meta.public/meta.auth ");const p=c===!0,h=a===!0;if(p&&r.auth===!1)throw new Error("[Routes] meta { public: true, auth: false } ");return{isPublic:p,isAuth:h}}function o(r=[],l=""){const c=[];return r.forEach(a=>{if(!a||typeof a!="object")return;const d=a.path||"",u=l?cl(l).replace(/\/$/,""):"",p=d.startsWith("/"),h=u,f=p?d:cl(h?`${h}/${d}`:d),m=a.meta?{...a.meta}:{};l&&(m.navParent=u||null);const y=Array.isArray(m.child)?m.child:[];m.child&&delete m.child;const{children:x,...k}=a,R={...k,path:f,meta:m};c.push(R);const $=[...Array.isArray(x)?x:[],...y];$.length>0&&c.push(...o($,f))}),c}return{store(r,l){e.register(r,l)},routes(r=[],{meta:l={}}={}){if(!Array.isArray(r)||r.length===0)return;const c=s(),a=o(r),d=h=>{const{isPublic:f,isAuth:m}=n(h.meta||{});if(!f&&!m)return;(f?c.public:c.auth).push(h),c.all.push(h)},u=h=>{const m=(h?.meta||{}).order;return Number.isFinite(m)?m:0},p=[...a].sort((h,f)=>{const m=u(h)-u(f);return m!==0?m:String(h.path||"").localeCompare(String(f.path||""))});p.forEach(d);try{const h=Xu();p.forEach(f=>h.addRoute("root",f))}catch{}window.dispatchEvent(new CustomEvent("moducore:routes-updated"))}}}const xs=typeof document<"u";function Xi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function od(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Xi(e.default)}const me=Object.assign;function ho(e,t){const s={};for(const n in t){const o=t[n];s[n]=ft(o)?o.map(e):e(o)}return s}const Zs=()=>{},ft=Array.isArray;function ul(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const Qi=/#/g,rd=/&/g,ld=/\//g,id=/=/g,ad=/\?/g,Zi=/\+/g,cd=/%5B/g,ud=/%5D/g,ea=/%5E/g,dd=/%60/g,ta=/%7B/g,fd=/%7C/g,sa=/%7D/g,pd=/%20/g;function _r(e){return e==null?"":encodeURI(""+e).replace(fd,"|").replace(cd,"[").replace(ud,"]")}function hd(e){return _r(e).replace(ta,"{").replace(sa,"}").replace(ea,"^")}function jo(e){return _r(e).replace(Zi,"%2B").replace(pd,"+").replace(Qi,"%23").replace(rd,"%26").replace(dd,"`").replace(ta,"{").replace(sa,"}").replace(ea,"^")}function md(e){return jo(e).replace(id,"%3D")}function _d(e){return _r(e).replace(Qi,"%23").replace(ad,"%3F")}function yd(e){return _d(e).replace(ld,"%2F")}function rn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const vd=/\/$/,gd=e=>e.replace(vd,"");function mo(e,t,s="/"){let n,o={},r="",l="";const c=t.indexOf("#");let a=t.indexOf("?");return a=c>=0&&a>c?-1:a,a>=0&&(n=t.slice(0,a),r=t.slice(a,c>0?c:t.length),o=e(r.slice(1))),c>=0&&(n=n||t.slice(0,c),l=t.slice(c,t.length)),n=Sd(n??t,s),{fullPath:n+r+l,path:n,query:o,hash:rn(l)}}function bd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function dl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xd(e,t,s){const n=t.matched.length-1,o=s.matched.length-1;return n>-1&&n===o&&Ms(t.matched[n],s.matched[o])&&na(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ms(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function na(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!wd(e[s],t[s]))return!1;return!0}function wd(e,t){return ft(e)?fl(e,t):ft(t)?fl(t,e):e?.valueOf()===t?.valueOf()}function fl(e,t){return ft(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Sd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let r=s.length-1,l,c;for(l=0;l<n.length;l++)if(c=n[l],c!==".")if(c==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(l).join("/")}const jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Vo=(function(e){return e.pop="pop",e.push="push",e})({}),_o=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function kd(e){if(!e)if(xs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),gd(e)}const $d=/^[^#]+#/;function Ed(e,t){return e.replace($d,"#")+t}function Ad(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const eo=()=>({left:window.scrollX,top:window.scrollY});function Cd(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=Ad(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function pl(e,t){return(history.state?history.state.position-t:-1)+e}const Bo=new Map;function Td(e,t){Bo.set(e,t)}function Pd(e){const t=Bo.get(e);return Bo.delete(e),t}function Ld(e){return typeof e=="string"||e&&typeof e=="object"}function oa(e){return typeof e=="string"||typeof e=="symbol"}let Te=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const ra=Symbol("");Te.MATCHER_NOT_FOUND+"",Te.NAVIGATION_GUARD_REDIRECT+"",Te.NAVIGATION_ABORTED+"",Te.NAVIGATION_CANCELLED+"",Te.NAVIGATION_DUPLICATED+"";function Is(e,t){return me(new Error,{type:e,[ra]:!0},t)}function kt(e,t){return e instanceof Error&&ra in e&&(t==null||!!(e.type&t))}const Rd=["params","query","hash"];function Od(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of Rd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function Md(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const o=s[n].replace(Zi," "),r=o.indexOf("="),l=rn(r<0?o:o.slice(0,r)),c=r<0?null:rn(o.slice(r+1));if(l in t){let a=t[l];ft(a)||(a=t[l]=[a]),a.push(c)}else t[l]=c}return t}function hl(e){let t="";for(let s in e){const n=e[s];if(s=md(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(ft(n)?n.map(o=>o&&jo(o)):[n&&jo(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function Id(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=ft(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return t}const Dd=Symbol(""),ml=Symbol(""),to=Symbol(""),yr=Symbol(""),Uo=Symbol("");function Us(){let e=[];function t(n){return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ft(e,t,s,n,o,r=l=>l()){const l=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((c,a)=>{const d=h=>{h===!1?a(Is(Te.NAVIGATION_ABORTED,{from:s,to:t})):h instanceof Error?a(h):Ld(h)?a(Is(Te.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(l&&n.enterCallbacks[o]===l&&typeof h=="function"&&l.push(h),c())},u=r(()=>e.call(n&&n.instances[o],t,s,d));let p=Promise.resolve(u);e.length<3&&(p=p.then(d)),p.catch(h=>a(h))})}function yo(e,t,s,n,o=r=>r()){const r=[];for(const l of e)for(const c in l.components){let a=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if(Xi(a)){const d=(a.__vccOpts||a)[t];d&&r.push(Ft(d,s,n,l,c,o))}else{let d=a();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${c}" at "${l.path}"`);const p=od(u)?u.default:u;l.mods[c]=u,l.components[c]=p;const h=(p.__vccOpts||p)[t];return h&&Ft(h,s,n,l,c,o)()}))}}return r}function Nd(e,t){const s=[],n=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let l=0;l<r;l++){const c=t.matched[l];c&&(e.matched.find(d=>Ms(d,c))?n.push(c):s.push(c));const a=e.matched[l];a&&(t.matched.find(d=>Ms(d,a))||o.push(a))}return[s,n,o]}let jd=()=>location.protocol+"//"+location.host;function la(e,t){const{pathname:s,search:n,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),dl(c,"")}return dl(s,e)+n+o}function Vd(e,t,s,n){let o=[],r=[],l=null;const c=({state:h})=>{const f=la(e,location),m=s.value,y=t.value;let x=0;if(h){if(s.value=f,t.value=h,l&&l===m){l=null;return}x=y?h.position-y.position:0}else n(f);o.forEach(k=>{k(s.value,m,{delta:x,type:Vo.pop,direction:x?x>0?_o.forward:_o.back:_o.unknown})})};function a(){l=s.value}function d(h){o.push(h);const f=()=>{const m=o.indexOf(h);m>-1&&o.splice(m,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(me({},h.state,{scroll:eo()}),"")}}function p(){for(const h of r)h();r=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:a,listen:d,destroy:p}}function _l(e,t,s,n=!1,o=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:o?eo():null}}function Bd(e){const{history:t,location:s}=window,n={value:la(e,s)},o={value:t.state};o.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(a,d,u){const p=e.indexOf("#"),h=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+a:jd()+e+a;try{t[u?"replaceState":"pushState"](d,"",h),o.value=d}catch(f){console.error(f),s[u?"replace":"assign"](h)}}function l(a,d){r(a,me({},t.state,_l(o.value.back,a,o.value.forward,!0),d,{position:o.value.position}),!0),n.value=a}function c(a,d){const u=me({},o.value,t.state,{forward:a,scroll:eo()});r(u.current,u,!0),r(a,me({},_l(n.value,a,null),{position:u.position+1},d),!1),n.value=a}return{location:n,state:o,push:c,replace:l}}function Ud(e){e=kd(e);const t=Bd(e),s=Vd(e,t.state,t.location,t.replace);function n(r,l=!0){l||s.pauseListeners(),history.go(r)}const o=me({location:"",base:e,go:n,createHref:Ed.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let ts=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Le=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Le||{});const Fd={type:ts.Static,value:""},Hd=/[a-zA-Z0-9_]/;function zd(e){if(!e)return[[]];if(e==="/")return[[Fd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${s})/"${d}": ${f}`)}let s=Le.Static,n=s;const o=[];let r;function l(){r&&o.push(r),r=[]}let c=0,a,d="",u="";function p(){d&&(s===Le.Static?r.push({type:ts.Static,value:d}):s===Le.Param||s===Le.ParamRegExp||s===Le.ParamRegExpEnd?(r.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:ts.Param,value:d,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=a}for(;c<e.length;){if(a=e[c++],a==="\\"&&s!==Le.ParamRegExp){n=s,s=Le.EscapeNext;continue}switch(s){case Le.Static:a==="/"?(d&&p(),l()):a===":"?(p(),s=Le.Param):h();break;case Le.EscapeNext:h(),s=n;break;case Le.Param:a==="("?s=Le.ParamRegExp:Hd.test(a)?h():(p(),s=Le.Static,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case Le.ParamRegExp:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:s=Le.ParamRegExpEnd:u+=a;break;case Le.ParamRegExpEnd:p(),s=Le.Static,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:t("Unknown state");break}}return s===Le.ParamRegExp&&t(`Unfinished custom RegExp for param "${d}"`),p(),l(),o}const yl="[^/]+?",qd={sensitive:!1,strict:!1,start:!0,end:!0};var qe=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(qe||{});const Wd=/[.+*?^${}()[\]/\\]/g;function Gd(e,t){const s=me({},qd,t),n=[];let o=s.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[qe.Root];s.strict&&!d.length&&(o+="/");for(let p=0;p<d.length;p++){const h=d[p];let f=qe.Segment+(s.sensitive?qe.BonusCaseSensitive:0);if(h.type===ts.Static)p||(o+="/"),o+=h.value.replace(Wd,"\\$&"),f+=qe.Static;else if(h.type===ts.Param){const{value:m,repeatable:y,optional:x,regexp:k}=h;r.push({name:m,repeatable:y,optional:x});const R=k||yl;if(R!==yl){f+=qe.BonusCustomRegExp;try{`${R}`}catch(A){throw new Error(`Invalid custom RegExp for param "${m}" (${R}): `+A.message)}}let $=y?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;p||($=x&&d.length<2?`(?:/${$})`:"/"+$),x&&($+="?"),o+=$,f+=qe.Dynamic,x&&(f+=qe.BonusOptional),y&&(f+=qe.BonusRepeatable),R===".*"&&(f+=qe.BonusWildcard)}u.push(f)}n.push(u)}if(s.strict&&s.end){const d=n.length-1;n[d][n[d].length-1]+=qe.BonusStrict}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,s.sensitive?"":"i");function c(d){const u=d.match(l),p={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",m=r[h-1];p[m.name]=f&&m.repeatable?f.split("/"):f}return p}function a(d){let u="",p=!1;for(const h of e){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const f of h)if(f.type===ts.Static)u+=f.value;else if(f.type===ts.Param){const{value:m,repeatable:y,optional:x}=f,k=m in d?d[m]:"";if(ft(k)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const R=ft(k)?k.join("/"):k;if(!R)if(x)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${m}"`);u+=R}}return u||"/"}return{re:l,score:n,keys:r,parse:c,stringify:a}}function Kd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===qe.Static+qe.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===qe.Static+qe.Segment?1:-1:0}function ia(e,t){let s=0;const n=e.score,o=t.score;for(;s<n.length&&s<o.length;){const r=Kd(n[s],o[s]);if(r)return r;s++}if(Math.abs(o.length-n.length)===1){if(vl(n))return 1;if(vl(o))return-1}return o.length-n.length}function vl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Jd={strict:!1,end:!0,sensitive:!1};function Yd(e,t,s){const n=Gd(zd(e.path),s),o=me(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Xd(e,t){const s=[],n=new Map;t=ul(Jd,t);function o(p){return n.get(p)}function r(p,h,f){const m=!f,y=bl(p);y.aliasOf=f&&f.record;const x=ul(t,p),k=[y];if("alias"in p){const A=typeof p.alias=="string"?[p.alias]:p.alias;for(const D of A)k.push(bl(me({},y,{components:f?f.record.components:y.components,path:D,aliasOf:f?f.record:y})))}let R,$;for(const A of k){const{path:D}=A;if(h&&D[0]!=="/"){const V=h.record.path,N=V[V.length-1]==="/"?"":"/";A.path=h.record.path+(D&&N+D)}if(R=Yd(A,h,x),f?f.alias.push(R):($=$||R,$!==R&&$.alias.push(R),m&&p.name&&!xl(R)&&l(p.name)),aa(R)&&a(R),y.children){const V=y.children;for(let N=0;N<V.length;N++)r(V[N],R,f&&f.children[N])}f=f||R}return $?()=>{l($)}:Zs}function l(p){if(oa(p)){const h=n.get(p);h&&(n.delete(p),s.splice(s.indexOf(h),1),h.children.forEach(l),h.alias.forEach(l))}else{const h=s.indexOf(p);h>-1&&(s.splice(h,1),p.record.name&&n.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return s}function a(p){const h=ef(p,s);s.splice(h,0,p),p.record.name&&!xl(p)&&n.set(p.record.name,p)}function d(p,h){let f,m={},y,x;if("name"in p&&p.name){if(f=n.get(p.name),!f)throw Is(Te.MATCHER_NOT_FOUND,{location:p});x=f.record.name,m=me(gl(h.params,f.keys.filter($=>!$.optional).concat(f.parent?f.parent.keys.filter($=>$.optional):[]).map($=>$.name)),p.params&&gl(p.params,f.keys.map($=>$.name))),y=f.stringify(m)}else if(p.path!=null)y=p.path,f=s.find($=>$.re.test(y)),f&&(m=f.parse(y),x=f.record.name);else{if(f=h.name?n.get(h.name):s.find($=>$.re.test(h.path)),!f)throw Is(Te.MATCHER_NOT_FOUND,{location:p,currentLocation:h});x=f.record.name,m=me({},h.params,p.params),y=f.stringify(m)}const k=[];let R=f;for(;R;)k.unshift(R.record),R=R.parent;return{name:x,path:y,params:m,matched:k,meta:Zd(k)}}e.forEach(p=>r(p));function u(){s.length=0,n.clear()}return{addRoute:r,resolve:d,removeRoute:l,clearRoutes:u,getRoutes:c,getRecordMatcher:o}}function gl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function bl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Qd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Qd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function xl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Zd(e){return e.reduce((t,s)=>me(t,s.meta),{})}function ef(e,t){let s=0,n=t.length;for(;s!==n;){const r=s+n>>1;ia(e,t[r])<0?n=r:s=r+1}const o=tf(e);return o&&(n=t.lastIndexOf(o,n-1)),n}function tf(e){let t=e;for(;t=t.parent;)if(aa(t)&&ia(e,t)===0)return t}function aa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function wl(e){const t=ct(to),s=ct(yr),n=U(()=>{const a=Be(e.to);return t.resolve(a)}),o=U(()=>{const{matched:a}=n.value,{length:d}=a,u=a[d-1],p=s.matched;if(!u||!p.length)return-1;const h=p.findIndex(Ms.bind(null,u));if(h>-1)return h;const f=Sl(a[d-2]);return d>1&&Sl(u)===f&&p[p.length-1].path!==f?p.findIndex(Ms.bind(null,a[d-2])):h}),r=U(()=>o.value>-1&&lf(s.params,n.value.params)),l=U(()=>o.value>-1&&o.value===s.matched.length-1&&na(s.params,n.value.params));function c(a={}){if(rf(a)){const d=t[Be(e.replace)?"replace":"push"](Be(e.to)).catch(Zs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:U(()=>n.value.href),isActive:r,isExactActive:l,navigate:c}}function sf(e){return e.length===1?e[0]:e}const nf=ir({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:wl,setup(e,{slots:t}){const s=wt(wl(e)),{options:n}=ct(to),o=U(()=>({[kl(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[kl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=t.default&&sf(t.default(s));return e.custom?r:zi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},r)}}}),of=nf;function rf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lf(e,t){for(const s in t){const n=t[s],o=e[s];if(typeof n=="string"){if(n!==o)return!1}else if(!ft(o)||o.length!==n.length||n.some((r,l)=>r.valueOf()!==o[l].valueOf()))return!1}return!0}function Sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const kl=(e,t,s)=>e??t??s,af=ir({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ct(Uo),o=U(()=>e.route||n.value),r=ct(ml,0),l=U(()=>{let d=Be(r);const{matched:u}=o.value;let p;for(;(p=u[d])&&!p.components;)d++;return d}),c=U(()=>o.value.matched[l.value]);An(ml,U(()=>l.value+1)),An(Dd,c),An(Uo,o);const a=Ee();return Qe(()=>[a.value,c.value,e.name],([d,u,p],[h,f,m])=>{u&&(u.instances[p]=d,f&&f!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),d&&u&&(!f||!Ms(u,f)||!h)&&(u.enterCallbacks[p]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,p=c.value,h=p&&p.components[u];if(!h)return $l(s.default,{Component:h,route:d});const f=p.props[u],m=f?f===!0?d.params:typeof f=="function"?f(d):f:null,x=zi(h,me({},m,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[u]=null)},ref:a}));return $l(s.default,{Component:x,route:d})||x}}});function $l(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const cf=af;function uf(e){const t=Xd(e.routes,e),s=e.parseQuery||Md,n=e.stringifyQuery||hl,o=e.history,r=Us(),l=Us(),c=Us(),a=ni(jt);let d=jt;xs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ho.bind(null,L=>""+L),p=ho.bind(null,yd),h=ho.bind(null,rn);function f(L,X){let J,ne;return oa(L)?(J=t.getRecordMatcher(L),ne=X):ne=L,t.addRoute(ne,J)}function m(L){const X=t.getRecordMatcher(L);X&&t.removeRoute(X)}function y(){return t.getRoutes().map(L=>L.record)}function x(L){return!!t.getRecordMatcher(L)}function k(L,X){if(X=me({},X||a.value),typeof L=="string"){const S=mo(s,L,X.path),T=t.resolve({path:S.path},X),I=o.createHref(S.fullPath);return me(S,T,{params:h(T.params),hash:rn(S.hash),redirectedFrom:void 0,href:I})}let J;if(L.path!=null)J=me({},L,{path:mo(s,L.path,X.path).path});else{const S=me({},L.params);for(const T in S)S[T]==null&&delete S[T];J=me({},L,{params:p(S)}),X.params=p(X.params)}const ne=t.resolve(J,X),pe=L.hash||"";ne.params=u(h(ne.params));const _=bd(n,me({},L,{hash:hd(pe),path:ne.path})),b=o.createHref(_);return me({fullPath:_,hash:pe,query:n===hl?Id(L.query):L.query||{}},ne,{redirectedFrom:void 0,href:b})}function R(L){return typeof L=="string"?mo(s,L,a.value.path):me({},L)}function $(L,X){if(d!==L)return Is(Te.NAVIGATION_CANCELLED,{from:X,to:L})}function A(L){return N(L)}function D(L){return A(me(R(L),{replace:!0}))}function V(L,X){const J=L.matched[L.matched.length-1];if(J&&J.redirect){const{redirect:ne}=J;let pe=typeof ne=="function"?ne(L,X):ne;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=R(pe):{path:pe},pe.params={}),me({query:L.query,hash:L.hash,params:pe.path!=null?{}:L.params},pe)}}function N(L,X){const J=d=k(L),ne=a.value,pe=L.state,_=L.force,b=L.replace===!0,S=V(J,ne);if(S)return N(me(R(S),{state:typeof S=="object"?me({},pe,S.state):pe,force:_,replace:b}),X||J);const T=J;T.redirectedFrom=X;let I;return!_&&xd(n,ne,J)&&(I=Is(Te.NAVIGATION_DUPLICATED,{to:T,from:ne}),Me(ne,ne,!0,!1)),(I?Promise.resolve(I):Se(T,ne)).catch(P=>kt(P)?kt(P,Te.NAVIGATION_GUARD_REDIRECT)?P:je(P):M(P,T,ne)).then(P=>{if(P){if(kt(P,Te.NAVIGATION_GUARD_REDIRECT))return N(me({replace:b},R(P.to),{state:typeof P.to=="object"?me({},pe,P.to.state):pe,force:_}),X||T)}else P=F(T,ne,!0,b,pe);return Oe(T,ne,P),P})}function B(L,X){const J=$(L,X);return J?Promise.reject(J):Promise.resolve()}function se(L){const X=cs.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(L):L()}function Se(L,X){let J;const[ne,pe,_]=Nd(L,X);J=yo(ne.reverse(),"beforeRouteLeave",L,X);for(const S of ne)S.leaveGuards.forEach(T=>{J.push(Ft(T,L,X))});const b=B.bind(null,L,X);return J.push(b),tt(J).then(()=>{J=[];for(const S of r.list())J.push(Ft(S,L,X));return J.push(b),tt(J)}).then(()=>{J=yo(pe,"beforeRouteUpdate",L,X);for(const S of pe)S.updateGuards.forEach(T=>{J.push(Ft(T,L,X))});return J.push(b),tt(J)}).then(()=>{J=[];for(const S of _)if(S.beforeEnter)if(ft(S.beforeEnter))for(const T of S.beforeEnter)J.push(Ft(T,L,X));else J.push(Ft(S.beforeEnter,L,X));return J.push(b),tt(J)}).then(()=>(L.matched.forEach(S=>S.enterCallbacks={}),J=yo(_,"beforeRouteEnter",L,X,se),J.push(b),tt(J))).then(()=>{J=[];for(const S of l.list())J.push(Ft(S,L,X));return J.push(b),tt(J)}).catch(S=>kt(S,Te.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function Oe(L,X,J){c.list().forEach(ne=>se(()=>ne(L,X,J)))}function F(L,X,J,ne,pe){const _=$(L,X);if(_)return _;const b=X===jt,S=xs?history.state:{};J&&(ne||b?o.replace(L.fullPath,me({scroll:b&&S&&S.scroll},pe)):o.push(L.fullPath,pe)),a.value=L,Me(L,X,J,b),je()}let O;function G(){O||(O=o.listen((L,X,J)=>{if(!Kt.listening)return;const ne=k(L),pe=V(ne,Kt.currentRoute.value);if(pe){N(me(pe,{replace:!0,force:!0}),ne).catch(Zs);return}d=ne;const _=a.value;xs&&Td(pl(_.fullPath,J.delta),eo()),Se(ne,_).catch(b=>kt(b,Te.NAVIGATION_ABORTED|Te.NAVIGATION_CANCELLED)?b:kt(b,Te.NAVIGATION_GUARD_REDIRECT)?(N(me(R(b.to),{force:!0}),ne).then(S=>{kt(S,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===Vo.pop&&o.go(-1,!1)}).catch(Zs),Promise.reject()):(J.delta&&o.go(-J.delta,!1),M(b,ne,_))).then(b=>{b=b||F(ne,_,!1),b&&(J.delta&&!kt(b,Te.NAVIGATION_CANCELLED)?o.go(-J.delta,!1):J.type===Vo.pop&&kt(b,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),Oe(ne,_,b)}).catch(Zs)}))}let E=Us(),C=Us(),H;function M(L,X,J){je(L);const ne=C.list();return ne.length?ne.forEach(pe=>pe(L,X,J)):console.error(L),Promise.reject(L)}function Ce(){return H&&a.value!==jt?Promise.resolve():new Promise((L,X)=>{E.add([L,X])})}function je(L){return H||(H=!L,G(),E.list().forEach(([X,J])=>L?J(L):X()),E.reset()),L}function Me(L,X,J,ne){const{scrollBehavior:pe}=e;if(!xs||!pe)return Promise.resolve();const _=!J&&Pd(pl(L.fullPath,0))||(ne||!J)&&history.state&&history.state.scroll||null;return Jn().then(()=>pe(L,X,_)).then(b=>b&&Cd(b)).catch(b=>M(b,L,X))}const Ge=L=>o.go(L);let as;const cs=new Set,Kt={currentRoute:a,listening:!0,addRoute:f,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:y,resolve:k,options:e,push:A,replace:D,go:Ge,back:()=>Ge(-1),forward:()=>Ge(1),beforeEach:r.add,beforeResolve:l.add,afterEach:c.add,onError:C.add,isReady:Ce,install(L){L.component("RouterLink",of),L.component("RouterView",cf),L.config.globalProperties.$router=Kt,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(a)}),xs&&!as&&a.value===jt&&(as=!0,A(o.location).catch(ne=>{}));const X={};for(const ne in jt)Object.defineProperty(X,ne,{get:()=>a.value[ne],enumerable:!0});L.provide(to,Kt),L.provide(yr,ti(X)),L.provide(Uo,a);const J=L.unmount;cs.add(L),L.unmount=function(){cs.delete(L),cs.size<1&&(d=jt,O&&O(),O=null,a.value=jt,as=!1,H=!1),J()}}};function tt(L){return L.reduce((X,J)=>X.then(()=>se(J)),Promise.resolve())}return Kt}function so(){return ct(to)}function vr(e){return ct(yr)}function gr(){return{get(e,t={}){return zt(e,{...t,method:"GET"})},post(e,t,s={}){return zt(e,{...s,method:"POST",body:t})}}}const _n={get(e,t={}){return zt(e,{...t,method:"GET"})},post(e,t,s={}){return zt(e,{...s,method:"POST",body:t})}},df={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_MODE:"real",VITE_PROJECT:"project-b",VITE_USE_MOCK_NOTIFICATION:"false"},ff=new Set(["true","1","yes","on"]),pf=new Set(["false","0","no","off"]);function hf(e,t=!0){const s=df?.[e],n=String(s).trim().toLowerCase();return ff.has(n)?!0:pf.has(n)?!1:t}let Fo=null;function mf({projectName:e}={}){typeof e=="string"&&e.trim()&&(Fo=e.trim())}function Ht(e){try{return ie.resolve(e)}catch{return null}}async function zt(e,t={}){const{method:s="GET",body:n,headers:o={},requireProject:r=!0,tokenQuery:l=!1}=t;if(r&&!Fo)throw new Error("[API] ");const c=Ht("token"),a=Ht("auth"),d=c?.getToken?.(),u={...o};r&&(u["X-Project"]=Fo),d&&(u.Authorization=`Bearer ${d}`);let p=e;if(d&&l){const y=p.includes("?")?"&":"?";p=`${p}${y}token=${encodeURIComponent(d)}`}let h;n!==void 0&&(u["Content-Type"]=u["Content-Type"]??"application/json",h=typeof n=="string"?n:JSON.stringify(n));const f=await fetch(p,{method:s,headers:u,body:h}),m=await f.json().catch(()=>({}));return f.status===401&&(a?.logout?.(),c?.setToken?.(null)),{ok:f.ok,status:f.status,data:m}}function El(e,t,s,n){return s?.authenticated&&s.user?(e?.login?.(s.user),t?.setToken?.(s.token||n||null),!0):(e?.logout?.(),t?.setToken?.(null),!1)}const vo={async login(e){const t=await zt("/api/login",{method:"POST",body:e});if(t.ok&&t.data?.success!==!1){const s=Ht("auth"),n=Ht("token");El(s,n,{authenticated:!0,user:t.data?.user,token:t.data?.token})}return t},async logout(){const e=await zt("/api/logout",{method:"POST"}),t=Ht("auth"),s=Ht("token");return t?.logout?.(),s?.setToken?.(null),e},async session(){return zt("/api/session",{tokenQuery:!0})},async restoreSession(){const e=Ht("token"),t=Ht("auth"),s=e?.getToken?.();if(!s)return{ok:!0,status:204,data:null};const n=await zt("/api/session",{tokenQuery:!0});return El(t,e,n.data,s),n}},we=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},_f={class:"platform-login-panel"},yf={class:"panel-actions"},vf={class:"login-anchor"},gf=["disabled"],bf=["disabled"],xf={key:0,class:"status-text"},wf={key:0,class:"login-popover"},Sf={class:"login-actions"},kf=["disabled"],$f={key:0,class:"panel-message error"},Ef={__name:"PlatformLoginPanel",setup(e){const t=ie.resolve("auth"),s=Ee("admin"),n=Ee("5678"),o=Ee(!1),r=Ee(""),l=Ee(!1),c=U(()=>t.state.user),a=U(()=>t.isLoggedIn());async function d(){o.value=!0,r.value="";const{ok:h,data:f}=await vo.restoreSession();if(!h){r.value="Session ",o.value=!1;return}o.value=!1}async function u(){if(o.value)return;o.value=!0,r.value="";const h={username:s.value,password:n.value},{ok:f,data:m}=await vo.login(h);if(!f||m.success===!1){r.value=m.message||"",o.value=!1;return}l.value=!1,o.value=!1}async function p(){o.value||(o.value=!0,r.value="",await vo.logout(),o.value=!1)}return Dt(()=>{d()}),(h,f)=>(v(),g("div",_f,[i("div",yf,[i("div",vf,[a.value?(v(),g("button",{key:1,class:"action-btn outline",type:"button",onClick:p,disabled:o.value},[c.value?(v(),g("span",xf,w(c.value.name),1)):ee("",!0),ce(w(o.value?" ...":" / "),1)],8,bf)):(v(),g("button",{key:0,class:"action-btn",type:"button",onClick:f[0]||(f[0]=m=>l.value=!l.value),disabled:o.value},"",8,gf))]),(v(),Re(rr,{to:"body"},[l.value&&!a.value?(v(),g("div",wf,[f[5]||(f[5]=i("h3",{class:"login-title"},"",-1)),f[6]||(f[6]=i("p",{class:"login-subtitle"}," demo /  demo123",-1)),i("form",{class:"login-form",onSubmit:Gt(u,["prevent"])},[Q(i("input",{class:"input-field","onUpdate:modelValue":f[1]||(f[1]=m=>s.value=m),type:"text",autocomplete:"username",placeholder:""},null,512),[[de,s.value]]),Q(i("input",{class:"input-field","onUpdate:modelValue":f[2]||(f[2]=m=>n.value=m),type:"password",autocomplete:"current-password",placeholder:""},null,512),[[de,n.value]]),i("div",Sf,[i("button",{class:"action-btn outline",type:"button",onClick:f[3]||(f[3]=m=>l.value=!1)},""),i("button",{class:"action-btn",type:"submit",disabled:o.value},w(o.value?"...":""),9,kf)])],32),r.value?(v(),g("p",$f,w(r.value),1)):ee("",!0)])):ee("",!0),l.value&&!a.value?(v(),g("div",{key:1,class:"login-overlay",onClick:f[4]||(f[4]=Gt(m=>l.value=!1,["self"]))})):ee("",!0)]))])]))}},Af=we(Ef,[["__scopeId","data-v-9ce3e193"]]),Cf={__name:"UiSlot",props:{name:{type:String,required:!0}},setup(e){const t=e,s=ie.resolve("auth");function n(r){const l=r?.access||{},c=typeof l.public=="boolean"?l.public:r?.public,a=typeof l.auth=="boolean"?l.auth:r?.auth;return{public:c,auth:a}}const o=U(()=>{Ki.value;const r=s.isLoggedIn();return Nu(t.name).slice().filter(l=>{const c=n(l);return!(typeof c.public=="boolean"&&typeof c.auth=="boolean")||c.public===!0?!0:c.auth===!0?r:!1}).sort((l,c)=>(l.order||0)-(c.order||0)).map(l=>({...l,resolved:typeof l.component=="function"?ac(l.component):l.component}))});return(r,l)=>o.value.length?(v(!0),g(q,{key:0},Z(o.value,(c,a)=>(v(),Re(xi(c.resolved),{key:a}))),128)):ee("",!0)}},Tf={class:"topbar"},Pf={class:"brand"},Lf={class:"brand-title"},Rf={key:0,class:"topbar-nav"},Of={key:1,class:"topbar-link group-label"},Mf={key:2,class:"topbar-submenu"},If={class:"topbar-actions"},Df={__name:"ProjectTopbar",props:{projectConfig:Object},setup(e){const t=vr(),s=ie.resolve("auth"),n=ie.getService("resolveNavProjection"),o=U(()=>{const c=window.__MODULE_ROUTES__||{all:[]};return n(c.all||[])}),r=U(()=>{const c=s.isLoggedIn(),a=new Map;(o.value.topbar||[]).filter(f=>{const m=f?.access||{};return!(typeof m.public=="boolean"&&typeof m.auth=="boolean")||m.public===!0?!0:m.auth===!0?c:!1}).forEach(f=>{!f?.path||a.has(f.path)||a.set(f.path,{...f,children:[]})});const d=[...a.values()],u=new Map(d.map(f=>[f.path,f])),p=[];d.forEach(f=>{const m=f.parent;m&&u.has(m)?u.get(m).children.push(f):p.push(f)});const h=(f,m)=>{const y=(f.order||0)-(m.order||0);return y!==0?y:String(f.label||"").localeCompare(String(m.label||""))};return d.forEach(f=>{f.children.sort(h)}),p.sort(h)}),l=c=>c?.path?t.path===c.path?!0:Array.isArray(c.children)?c.children.some(a=>t.path===a.path):!1:!1;return(c,a)=>{const d=Ne("RouterLink");return v(),g("header",Tf,[i("div",Pf,[i("div",Lf,w(e.projectConfig?.title??"Project"),1),a[0]||(a[0]=i("div",{class:"brand-sub"},"Guest World Establishment",-1))]),r.value.length?(v(),g("nav",Rf,[(v(!0),g(q,null,Z(r.value,u=>(v(),g("div",{class:fe(["topbar-item",{active:l(u),group:u.link===!1}]),key:u.path},[u.link!==!1?(v(),Re(d,{key:0,class:"topbar-link",to:u.path,"active-class":"is-active","exact-active-class":"is-active"},{default:ge(()=>[ce(w(u.label),1)]),_:2},1032,["to"])):(v(),g("span",Of,w(u.label),1)),u.children&&u.children.length?(v(),g("div",Mf,[(v(!0),g(q,null,Z(u.children,p=>(v(),Re(d,{class:"topbar-sub-link",key:p.path,to:p.path,"active-class":"is-active","exact-active-class":"is-active"},{default:ge(()=>[ce(w(p.label),1)]),_:2},1032,["to"]))),128))])):ee("",!0)],2))),128))])):ee("",!0),i("div",If,[te(Cf,{name:"header:right"}),te(Af),a[1]||(a[1]=i("div",{class:"pill"},"Project B",-1))])])}}},Nf={class:"sidebar"},jf={class:"module-nav"},Vf={class:"link-label"},Bf={key:1,class:"main-link group-label"},Uf={key:2,class:"submenu"},Ff={class:"link-label"},Hf={__name:"ProjectSidebar",setup(e){const t=vr(),s=ie.resolve("auth"),n=ie.getService("resolveNavProjection"),o=U(()=>{const c=window.__MODULE_ROUTES__||{all:[]};return n(c.all||[])}),r=U(()=>{const c=new Map,a=s.isLoggedIn(),d=(o.value.sidebar||[]).filter(f=>{const m=f?.access||{};return!(typeof m.public=="boolean"&&typeof m.auth=="boolean")||m.public===!0?!0:m.auth===!0?a:!1});d.forEach(f=>{c.set(f.path,{...f,children:[]})});const u=[];d.forEach(f=>{const m=f.parent;m&&c.has(m)?c.get(m).children.push(c.get(f.path)):u.push(c.get(f.path))});const p=(f,m)=>{const y=(f.order||0)-(m.order||0);return y!==0?y:String(f.label||"").localeCompare(String(m.label||""))},h=f=>({path:f.path,label:f.label,link:f.link!==!1,children:f.children.sort(p).map(h)});return u.sort(p).map(h)}),l=c=>c?.path?t.path===c.path?!0:Array.isArray(c.children)?c.children.some(a=>t.path===a.path):!1:!1;return(c,a)=>{const d=Ne("RouterLink");return v(),g("aside",Nf,[i("nav",jf,[(v(!0),g(q,null,Z(r.value,u=>(v(),g("div",{class:fe(["sidebar-item",{active:l(u),group:u.link===!1}]),key:u.path},[u.link!==!1?(v(),Re(d,{key:0,class:"main-link",to:u.path,"active-class":"is-active","exact-active-class":"is-active"},{default:ge(()=>[i("span",Vf,w(u.label),1)]),_:2},1032,["to"])):(v(),g("span",Bf,w(u.label),1)),u.children&&u.children.length?(v(),g("div",Uf,[(v(!0),g(q,null,Z(u.children,p=>(v(),Re(d,{class:"sub-link",key:p.path,to:p.path,"active-class":"is-active","exact-active-class":"is-active"},{default:ge(()=>[i("span",Ff,w(p.label),1)]),_:2},1032,["to"]))),128))])):ee("",!0)],2))),128))])])}}},zf={class:"shell"},qf={class:"content"},Wf={__name:"RootShell",props:{projectConfig:Object,discoveredModules:Array},setup(e){const t=ie.resolve("auth"),s=U(()=>t.isLoggedIn());return(n,o)=>{const r=Ne("RouterView");return v(),g("div",zf,[o[0]||(o[0]=i("div",{class:"bg-grid"},null,-1)),te(Df,{"project-config":e.projectConfig},null,8,["project-config"]),i("div",{class:fe(["main",{"no-sidebar":!s.value}])},[s.value?(v(),Re(Hf,{key:0})):ee("",!0),i("section",qf,[te(r)])],2)])}}};function Gf(){return{id:"project-b-layout",component:Wf}}async function Kf(e){if(!e?.name)throw new Error("[Layout] Missing project name");const t=Gf;if(typeof t!="function")throw new Error(`[Layout] defineLayout not found for project "${e.name}"`);const s=await t();if(!s||!s.component)throw new Error(`[Layout] Invalid layout definition for project "${projectName}"`);return{...s,component:si(s.component)}}async function Jf({projectConfig:e}={}){await Yf();const{discoveredModules:t,allowList:s}=await Xf(e);return await Qf(e,s),await Zf(),await ep(s),{appProps:{discoveredModules:t}}}async function Yf(){}async function Xf(e){const t=await Kf(e);Ou.set(t);let s=Hu(e);(!Array.isArray(s)||s.length===0)&&(s=(Array.isArray(e?.modules)?e.modules:[]).map(r=>({name:r,status:"declared"})));const n=s.map(o=>o.name);return{discoveredModules:s,allowList:n}}async function Qf(e,t){const s=zu(e?.name);if(!s?.installModules)return;const n=nd(ie);await s.installModules({register:n,container:ie},{allowList:t})}async function Zf(){}async function ep(e){ie.resolve("lifecycle").setPhase("ready"),ie.resolve("module").setModules(e??[])}function tp(e){e.beforeEach(t=>{const s=t.meta||{},n=s.access||{},o=typeof n.public=="boolean"?n.public:s.public,r=typeof n.auth=="boolean"?n.auth:s.auth;if(!(typeof o=="boolean"&&typeof r=="boolean"))return!0;const c=o===!0&&r===!0,a=o===!1&&r===!1;if(c)return!0;if(a)return{path:"/404"};let d=null;try{d=ie.resolve("auth")}catch{return console.warn("[RouterGuard] auth store not available"),{path:"/"}}return d.isLoggedIn()?!0:(console.warn("[RouterGuard]  /"),{path:"/"})})}async function sp(){const e=await sd(),t=uf({history:Ud(),routes:e});return tp(t),t}function Ho(e){return Object.prototype.toString.call(e)==="[object Object]"}function np(e,t){return Array.isArray(t)?Array.isArray(e):Ho(t)?Ho(e):typeof e==typeof t}function Nt({name:e,storageKey:t=null,defaultValue:s,actions:n=null}){if(!e)throw new Error(" createStore  name");if(s===void 0)throw new Error(" createStore  defaultValue");const o=Ho(s),r=Array.isArray(s),l=o||r?wt(structuredClone(s)):Ee(s),c={state:l,get(){return o||r?l:l.value},set(a){if(!np(a,s))throw new TypeError(`[${e}] set  ${JSON.stringify(a)}`);if(o?Object.assign(l,a):r?l.splice(0,l.length,...a):l.value=a,t)try{const d=o||r?JSON.parse(JSON.stringify(l)):a;localStorage.setItem(t,JSON.stringify(d))}catch(d){console.warn(`[${e}]  localStorage `,d)}},clear(){o||r?c.set(structuredClone(s)):l.value=s,t&&localStorage.removeItem(t)},loadFromStorage(){if(t)try{const a=localStorage.getItem(t);if(a!==null)try{c.set(JSON.parse(a))}catch{c.set(a)}}catch(a){console.warn(`[${e}]  localStorage `,a)}}};return n&&Object.entries(n).forEach(([a,d])=>{c[a]=(...u)=>d(c,...u)}),c.loadFromStorage(),c}function op(){const e=Nt({name:"authStore",storageKey:"auth",defaultValue:{user:null}});function t(){return!!e.get().user}function s(o){e.set({user:o})}function n(){e.set({user:null})}return{get:e.get,set:e.set,state:e.state,isLoggedIn:t,login:s,logout:n,clear:e.clear,loadFromStorage:e.loadFromStorage}}function rp(){const e=Nt({name:"lifecycleStore",defaultValue:{phase:"booting"}});function t(s){e.set({phase:s})}return{get:e.get,set:e.set,state:e.state,setPhase:t,clear:e.clear}}function lp(){const e=Nt({name:"moduleStore",defaultValue:{modules:[]}});function t(s){e.set({modules:s})}return{get:e.get,set:e.set,state:e.state,setModules:t,clear:e.clear}}function ip(){const e=Nt({name:"platformConfigStore",defaultValue:{config:null}});function t(s){e.set({config:s})}return{get:e.get,set:e.set,state:e.state,setConfig:t,clear:e.clear}}function ap(){const e=Nt({name:"tokenStore",storageKey:"token",defaultValue:{token:null}});function t(){return e.get().token}function s(n){e.set({token:n})}return{get:e.get,set:e.set,state:e.state,getToken:t,setToken:s,clear:e.clear,loadFromStorage:e.loadFromStorage}}const cp={auth:op,lifecycle:rp,module:lp,platformConfig:ip,token:ap};async function up(){const e="project-b",n=Object.fromEntries(Object.entries(Object.assign({"./project-a/project.config.js":()=>Ae(()=>Promise.resolve().then(()=>Mh),void 0),"./project-b/project.config.js":()=>Ae(()=>Promise.resolve().then(()=>Dh),void 0)})).map(([r,l])=>{const c=r.match(/^\.\/([^/]+)\/project\.config\.js$/);return c?[c[1],l]:null}).filter(Boolean))[e];if(!n)throw new Error(`[ProjectLoader] Unknown project: "${e}"`);const o=await n();return o.default??o}async function dp(){for(const[n,o]of Object.entries(cp))ie.register(n,o);const e=await up();mf({projectName:"project-b"});const{appProps:t}=await Jf({projectConfig:e}),s=await sp();Yu(s),Pu(Mu,{...t,projectConfig:e}).use(s).mount("#app")}dp();const fp=[{path:"/dashboard",component:()=>Ae(()=>Promise.resolve().then(()=>f_),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:10},{area:"topbar",label:"",order:10}]}}];function pp(){return{state:{stats:{tasks:0,employees:0,votes:0},recentActivities:[]},setStats(e){this.state.stats={...this.state.stats,...e}},setActivities(e){this.state.recentActivities=Array.isArray(e)?e:[]}}}const hp={name:"dashboard",setup:{stores:{dashboard:pp},routes:fp}},mp=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"})),_p=[{path:"/employee",component:()=>Ae(()=>Promise.resolve().then(()=>Ay),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:20}]}}];function yp(){return Nt({name:"employeeStore",storageKey:"employeeStore",defaultValue:{list:[],search:"",editorOpen:!1,editingEmployee:null},actions:{setSearch(e,t){const s=e.get();e.set({...s,search:t})},openCreate(e){const t=e.get();e.set({...t,editorOpen:!0,editingEmployee:null})},openEdit(e,t){const s=e.get();e.set({...s,editorOpen:!0,editingEmployee:t?{...t}:null})},closeEditor(e){const t=e.get();e.set({...t,editorOpen:!1,editingEmployee:null})},setList(e,t=[]){const s=e.get();e.set({...s,list:vp(t)})},addEmployee(e,t){const s=e.get(),n=zo(t);e.set({...s,list:[...s.list,n]})},updateEmployee(e,t,s){const n=e.get(),o=n.list.map(r=>r.id===t?zo({...r,...s}):r);e.set({...n,list:o})},removeEmployee(e,t){const s=e.get(),n=s.list.filter(r=>r.id!==t),o=s.editingEmployee?.id===t;e.set({...s,list:n,editingEmployee:o?null:s.editingEmployee,editorOpen:o?!1:s.editorOpen})}}})}function zo(e,t={}){return{status:"active",department:"",phone:"",password:e?.password||"",...t,...e}}function vp(e=[]){return Array.isArray(e)?e.map(t=>zo(t)):[]}const gp={name:"employee",setup:{stores:{employeeStore:yp},routes:_p}},bp=Object.freeze(Object.defineProperty({__proto__:null,default:gp},Symbol.toStringTag,{value:"Module"})),xp=[{path:"/mtk2mad",meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:55,link:!1}]},children:[{path:"/mtk2mad/mtk2mad",component:()=>Ae(()=>Promise.resolve().then(()=>dg),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:55}]}},{path:"/mtk2mad/mdeditor",component:()=>Ae(()=>Promise.resolve().then(()=>Wg),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:56}]}}]}],wp={name:"mtk2mad",setup:{routes:xp}},Sp=Object.freeze(Object.defineProperty({__proto__:null,default:wp},Symbol.toStringTag,{value:"Module"})),kp=[{path:"/notifications",component:()=>Ae(()=>Promise.resolve().then(()=>ub),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:11}]}},{path:"/notification",redirect:"/notifications",meta:{access:{public:!1,auth:!0},nav:[]}}],ca={"task.created":e=>({type:"task",title:"",content:`${e?.title||""}`}),"task.completed":e=>({type:"task",title:"",content:`${e?.title||""}`}),"member.added":e=>({type:"member",title:"",content:`${e?.name||""}`}),"booking.completed":()=>({type:"booking",title:"",content:""}),"ads.push":e=>({type:"ads",title:"",content:e?.content||""}),"system.info":e=>({type:"system",title:e?.title||"",content:e?.content||""})};function $p(e,t){const s=ca[e];return s?s(t):{type:"system",title:e,content:typeof t=="string"?t:JSON.stringify(t||{})}}function Ep(e,t){if(!e||!t)return()=>{};const s=Object.keys(ca).map(n=>{const o=r=>{t.addNotification($p(n,r))};return e.on(n,o),{eventType:n,handler:o}});return()=>{s.forEach(({eventType:n,handler:o})=>e.off(n,o))}}const Al=e=>{const t=Date.now();return{id:e.id||`ntf-${t}-${Math.random().toString(36).slice(2,6)}`,type:e.type||"system",title:e.title||"",content:e.content||"",created_at:typeof e.created_at=="number"?e.created_at:t,read:!!e.read}};let Cl=!1;function Ap(){const e=Nt({name:"notificationStore",storageKey:"notificationStore",defaultValue:{list:[],unread:0},actions:{setList(t,s=[]){const n=Array.isArray(s)?s.map(Al):[],o=n.reduce((r,l)=>r+(l.read?0:1),0);t.set({list:n,unread:o})},addNotification(t,s){const n=t.get(),o=Al(s),r=[o,...n.list],l=o.read?n.unread:n.unread+1;t.set({...n,list:r,unread:l})},markAsRead(t,s){const n=t.get();let o=0;const r=n.list.map(l=>l.id!==s?l:(l.read||(o+=1),{...l,read:!0}));t.set({...n,list:r,unread:Math.max(0,n.unread-o)})},markAllAsRead(t){const s=t.get(),n=s.list.map(o=>({...o,read:!0}));t.set({...s,list:n,unread:0})},clear(t){t.set({list:[],unread:0})}}});if(!Cl){const t=ie.getService("eventBus");Ep(t,e),Cl=!0}return e}const Cp="/assets/icons/bell.svg",Tp={class:"head"},Pp={class:"list"},Lp=["onClick"],Rp={class:"icon"},Op={key:0},Mp={key:1},Ip={key:2},Dp={key:3},Np={key:4},jp={class:"info"},Vp={class:"title"},Bp={class:"content"},Up={class:"time"},Fp={key:1,class:"empty"},Tl=300,go=360,Xt=8,Hp={__name:"NotificationPopup",props:{anchorRect:{type:Object,default:null}},emits:["close"],setup(e,{emit:t}){const s=t,n=e,o=ie.resolve("notificationStore"),r=U(()=>o.state.list),l=wt({left:64,top:120});function c(h,f,m){return Math.min(Math.max(h,f),m)}function a(h){if(!h)return;const f=window.innerWidth,m=window.innerHeight,y=Math.max(Xt,f-Tl-Xt),x=Math.max(Xt,m-go-Xt),k=c(h.right-Tl,Xt,y),R=h.bottom+8,$=h.top-go-8,D=R+go+Xt<=m?R:$;l.left=k,l.top=c(D,Xt,x)}function d(h){o.markAsRead(h)}function u(h){return new Date(h).toLocaleString()}function p(){a(n.anchorRect)}return Qe(()=>n.anchorRect,h=>{a(h)},{immediate:!0}),Dt(()=>{a(n.anchorRect),window.addEventListener("resize",p),window.addEventListener("scroll",p,!0)}),yi(()=>{window.removeEventListener("resize",p),window.removeEventListener("scroll",p,!0)}),(h,f)=>(v(),g("div",{class:"popup",style:it({left:`${l.left}px`,top:`${l.top}px`})},[i("header",Tp,[f[1]||(f[1]=i("span",{class:"title"},"",-1)),i("button",{class:"close",onClick:f[0]||(f[0]=m=>s("close"))},"")]),i("div",Pp,[r.value.length?(v(!0),g(q,{key:0},Z(r.value,m=>(v(),g("div",{class:fe(["item",{unread:!m.read}]),key:m.id,onClick:y=>d(m.id)},[i("div",Rp,[m.type==="task"?(v(),g("span",Op,"")):m.type==="member"?(v(),g("span",Mp,"")):m.type==="booking"?(v(),g("span",Ip,"")):m.type==="ads"?(v(),g("span",Dp,"")):(v(),g("span",Np,""))]),i("div",jp,[i("p",Vp,w(m.title),1),i("p",Bp,w(m.content),1),i("p",Up,w(u(m.created_at)),1)])],10,Lp))),128)):(v(),g("div",Fp,""))])],4))}},zp=we(Hp,[["__scopeId","data-v-a5d0b5b6"]]),qp=[{id:"ntf-1",type:"system",title:"",content:" 23:00 ",created_at:Date.now()-1e3*60*30,read:!1},{id:"ntf-2",type:"task",title:"",content:" QA ",created_at:Date.now()-1e3*60*90,read:!0}],Wp=hf("VITE_USE_MOCK_NOTIFICATION");function qo(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}function yn(e=200){return new Promise(t=>setTimeout(t,e))}let ds=qo(qp);const Gp={async list(){return await yn(),qo(ds)},async create(e){await yn();const t=Date.now(),s={id:e.id||`ntf-${t}`,type:e.type||"system",title:e.title||"",content:e.content||"",created_at:e.created_at||t,read:!!e.read};return ds=[s,...ds],qo(s)},async markRead(e){return await yn(),ds=ds.map(t=>t.id===e?{...t,read:!0}:t),{success:!0}},async clear(){return await yn(),ds=[],{success:!0}}},Kp={list(){return _n.get("/api/notifications")},create(e){return _n.post("/api/notifications",e)},markRead(e){return _n.post("/api/notifications/read",{id:e})},clear(){return _n.post("/api/notifications/clear")}},vn=Wp?Gp:Kp;function Pl(e){return e&&typeof e=="object"&&"data"in e?e.data:e}function gn(){return ie.resolve("notificationStore")}const ua={async fetchList(){const e=Pl(await vn.list()),t=Array.isArray(e?.data)?e.data:e;return gn().setList(Array.isArray(t)?t:[]),t},async create(e){const t=Pl(await vn.create(e));return t?.id&&gn().addNotification({...e,id:t.id,read:!1}),t},async markRead(e){await vn.markRead(e),gn().markAsRead(e)},async clear(){await vn.clear(),gn().clear()}},Jp=["disabled"],Yp={key:0,class:"badge"},Xp={__name:"NotificationBell",props:{placement:{type:String,default:"fixed"}},setup(e){const t=ie.resolve("notificationStore"),s=ie.resolve("auth"),n=Ee(!1),o=Ee(null),r=Ee(null),l=U(()=>t.state.unread),c=U(()=>s.isLoggedIn());function a(){n.value=!n.value,n.value&&Jn(()=>{r.value=o.value?.getBoundingClientRect()||null})}return Dt(()=>{c.value&&ua.fetchList().catch(d=>{console.error("[notification] fetch list failed",d)})}),(d,u)=>(v(),g("div",{class:fe(["bell-wrap",e.placement])},[i("button",{class:fe(["bell",{disabled:!c.value}]),type:"button",onClick:a,ref_key:"buttonRef",ref:o,disabled:!c.value},[u[0]||(u[0]=i("img",{class:"icon",src:Cp},null,-1)),l.value>0?(v(),g("span",Yp,w(l.value),1)):ee("",!0)],10,Jp),n.value?(v(),Re(zp,{key:0,"anchor-rect":r.value,onClose:a},null,8,["anchor-rect"])):ee("",!0)],2))}},Qp=we(Xp,[["__scopeId","data-v-3d1b63a5"]]),Zp={name:"notification",setup:{stores:{notificationStore:Ap},routes:kp,ui:{slots:{"header:right":{component:Qp,access:{public:!1,auth:!0},order:10}}}}},eh=Object.freeze(Object.defineProperty({__proto__:null,default:Zp},Symbol.toStringTag,{value:"Module"})),th=[{path:"/",component:()=>Ae(()=>Promise.resolve().then(()=>xb),void 0),meta:{access:{public:!0,auth:!0},nav:[{area:"topbar",label:"",order:1}]}},{path:"/403",component:()=>Ae(()=>Promise.resolve().then(()=>Cb),void 0),meta:{access:{public:!0,auth:!0},nav:[]}},{path:"/:pathMatch(.*)*",component:()=>Ae(()=>Promise.resolve().then(()=>jb),void 0),meta:{access:{public:!0,auth:!0},nav:[]}}],sh={name:"shell",setup:{routes:th}},nh=Object.freeze(Object.defineProperty({__proto__:null,default:sh},Symbol.toStringTag,{value:"Module"})),oh=[{path:"/task",component:()=>Ae(()=>Promise.resolve().then(()=>nx),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:30}]}}];function rh(){return Nt({name:"taskStore",storageKey:"taskStore",defaultValue:{tasks:[],activeTaskId:null,assignees:[]},actions:{setAssignees(e,t=[]){const s=e.get();e.set({...s,assignees:Array.isArray(t)?t:[]})},setTasks(e,t=[]){const s=e.get(),n=Array.isArray(t)?t:[],r=n.some(l=>l.id===s.activeTaskId)?s.activeTaskId:n[0]?.id??null;e.set({...s,tasks:n,activeTaskId:r})},selectTask(e,t){const s=e.get();e.set({...s,activeTaskId:t})},addEvent(e,{taskId:t,user:s,text:n,type:o="note",created_at:r}){if(!n?.trim())return;const l=e.get(),c=new Date,a=r||`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")} ${String(c.getHours()).padStart(2,"0")}:${String(c.getMinutes()).padStart(2,"0")}`,d=l.tasks.map(u=>u.id!==t?u:{...u,events:[...u.events||[],{user:s||"",text:n.trim(),type:o,created_at:a}]});e.set({...l,tasks:d})},updateTask(e,t,s){const n=e.get(),o=n.tasks.map(r=>r.id===t?{...r,...s}:r);e.set({...n,tasks:o})},removeTask(e,t){const s=e.get(),n=s.tasks.filter(r=>r.id!==t),o=s.activeTaskId===t?n[0]?.id??null:s.activeTaskId;e.set({...s,tasks:n,activeTaskId:o})},addTask(e,t){const s=e.get(),n={id:t.id,title:t.title?.trim()||"Untitled task",desc:t.desc?.trim()||"",status:t.status||"todo",publisher:t.publisher||"Unknown",publisher_id:t.publisher_id??null,assignee:t.assignee||"",assignee_id:t.assignee_id??null,priority:t.priority||"medium",due_date:t.due_date||"",members:t.members||[],events:t.events||[]};e.set({...s,tasks:[n,...s.tasks],activeTaskId:n.id})}}})}const lh={name:"task",setup:{stores:{taskStore:rh},routes:oh}},ih=Object.freeze(Object.defineProperty({__proto__:null,default:lh},Symbol.toStringTag,{value:"Module"})),ah=[{path:"/vote",component:()=>Ae(()=>Promise.resolve().then(()=>wo),void 0),meta:{access:{public:!1,auth:!0},nav:[{area:"sidebar",label:"",order:40}]}},{path:"/vote/create",component:()=>Ae(()=>Promise.resolve().then(()=>wo),void 0),meta:{access:{public:!1,auth:!0},nav:[]}},{path:"/vote/:id",component:()=>Ae(()=>Promise.resolve().then(()=>wo),void 0),meta:{access:{public:!1,auth:!0},nav:[]}}],da=[{id:"v1",title:"",description:"",publisher:"esther",allowMultiple:!1,status:"open",rule:{mode:"all",totalVoters:5,deadline:null},votesReceived:2,options:[{id:"v1-o1",label:"Aquila",votes:2,voters:["robin","jason"]},{id:"v1-o2",label:"Orion",votes:0,voters:[]},{id:"v1-o3",label:"Lyra",votes:0,voters:[]}]},{id:"v2",title:"",description:"",publisher:"robin",allowMultiple:!0,status:"open",rule:{mode:"time",deadline:"2026-01-10T18:00",totalVoters:0},votesReceived:3,options:[{id:"v2-o1",label:"",votes:2,voters:["esther","cody"]},{id:"v2-o2",label:"",votes:1,voters:["robin"]},{id:"v2-o3",label:"",votes:0,voters:[]}]},{id:"v3",title:"",description:"",publisher:"cody",allowMultiple:!0,status:"closed",rule:{mode:"time",deadline:"2025-12-31T12:00",totalVoters:0},votesReceived:6,options:[{id:"v3-o1",label:"",votes:2,voters:["sara","ruby"]},{id:"v3-o2",label:"",votes:1,voters:["kelly"]},{id:"v3-o3",label:"",votes:3,voters:["cody","esther","robin"]}]}];function ws(e,t={}){const s={status:"open",allowMultiple:!1,anonymous:!1,rule:{mode:"time",deadline:null,totalVoters:0},publisher:"",options:[],votesReceived:0,voted:!1,mySelections:[],...t,...e};return s.options=(s.options||[]).map((n,o)=>({id:n.id||`opt-${o+1}-${s.id||""}`,label:n.label||` ${o+1}`,votes:Number(n.votes)||0,voters:Array.isArray(n.voters)?n.voters:[]})),s.rule||(s.rule={mode:"time",deadline:null,totalVoters:0}),s.rule={mode:s.rule.mode||"time",deadline:s.rule.deadline||null,totalVoters:Number(s.rule.totalVoters)||0},s}function Ll(e=[]){return Array.isArray(e)?e.map((t,s)=>ws(t,{id:t.id||`vote-${s+1}`})):[]}function ch(){return Nt({name:"voteStore",storageKey:"voteStore",defaultValue:{list:Ll(da),search:"",editorOpen:!1,detailOpen:!1,activeVote:null,currentUser:null},actions:{setSearch(e,t){const s=e.get();e.set({...s,search:t})},openCreate(e){const t=e.get();e.set({...t,editorOpen:!0,activeVote:null})},openDetail(e,t){const s=e.get();e.set({...s,detailOpen:!0,activeVote:t?ws(t):null})},closeEditor(e){const t=e.get();e.set({...t,editorOpen:!1})},closeDetail(e){const t=e.get();e.set({...t,detailOpen:!1,activeVote:null})},setList(e,t=[]){const s=e.get();e.set({...s,list:Ll(t)})},addVote(e,t){const s=e.get(),n=s.list.reduce((r,l)=>Math.max(r,parseInt(l.id?.replace(/\D/g,"")||0,10)),0)+1,o=ws({id:t.id||`v-${n}`,...t});e.set({...s,list:[o,...s.list],editorOpen:!1})},updateVote(e,t,s){const n=e.get(),o=n.list.map(l=>l.id===t?ws({...l,...s}):l),r=n.activeVote?.id===t?ws({...n.activeVote,...s}):n.activeVote;e.set({...n,list:o,activeVote:r})},removeVote(e,t){const s=e.get(),n=s.list.filter(r=>r.id!==t),o=s.activeVote?.id===t;e.set({...s,list:n,activeVote:o?null:s.activeVote,detailOpen:o?!1:s.detailOpen})},castVote(e,{voteId:t,selections:s=[]}){const n=e.get(),o=new Date,r=n.list.map(c=>{if(c.id!==t)return c;const a=ws(c);if(a.status==="closed")return a;const d=s,u=n.currentUser||"";a.options=a.options.map(h=>d.includes(h.id)?{...h,votes:h.votes+1,voters:a.anonymous?void 0:[...h.voters||[],u]}:h);const p=a.votesReceived+1;if(a.votesReceived=p,a.voted=!0,a.mySelections=d,a.rule?.mode==="all"&&a.rule.totalVoters>0&&p>=a.rule.totalVoters&&(a.status="closed"),a.rule?.mode==="time"&&a.rule.deadline){const h=new Date(a.rule.deadline);!isNaN(h)&&o>=h&&(a.status="closed")}return a}),l=r.find(c=>c.id===n.activeVote?.id)||null;e.set({...n,list:r,activeVote:l})},openResult(e,t){const s=e.get(),n=s.list.map(r=>r.id===t?{...r,status:"closed"}:r),o=s.activeVote?.id===t?{...s.activeVote,status:"closed"}:s.activeVote;e.set({...s,list:n,activeVote:o})}}})}const uh={name:"vote",setup:{stores:{voteStore:ch},routes:ah}},dh=Object.freeze(Object.defineProperty({__proto__:null,default:uh},Symbol.toStringTag,{value:"Module"})),fh={class:"layout-root"},ph={class:"glass-panel"};function hh(e,t){const s=Ne("RouterView");return v(),g("div",fh,[i("div",ph,[Si(e.$slots,"default"),te(s)])])}const mh={},fa=we(mh,[["render",hh]]),_h=Object.freeze(Object.defineProperty({__proto__:null,default:fa},Symbol.toStringTag,{value:"Module"})),yh={class:"highlight-grid"},vh={class:"section"},gh={class:"flow"},bh="ModuCore",xh="",wh={__name:"WelcomePage",setup(e){const t=[{title:"",body:""},{title:"",body:""},{title:"",body:"boot  lifecycle "}],s=[" Project  layout ",""," runtime"];return(n,o)=>(v(),Re(fa,{title:bh,subtitle:xh},{default:ge(()=>[o[1]||(o[1]=i("h1",{class:"hero-title"},"ModuCore",-1)),o[2]||(o[2]=i("div",{class:"intro"},[i("p",{class:"lead"},"ModuCore "),i("p",{class:"secondary"},"")],-1)),i("div",yh,[(v(),g(q,null,Z(t,r=>i("div",{class:"highlight-card",key:r.title},[i("h3",null,w(r.title),1),i("p",null,w(r.body),1)])),64))]),i("div",vh,[o[0]||(o[0]=i("h2",null,"",-1)),i("ol",gh,[(v(),g(q,null,Z(s,r=>i("li",{key:r},w(r),1)),64))])]),o[3]||(o[3]=i("div",{class:"section"},[i("h2",null,""),i("div",{class:"tags"},[i("span",{class:"tag"},""),i("span",{class:"tag"},""),i("span",{class:"tag"},""),i("span",{class:"tag"}," boot ")])],-1))]),_:1}))}},Sh=[{path:"/",meta:{access:{public:!1,auth:!1},nav:[{area:"topbar",label:"Welcome",order:1}]}}],kh={name:"welcome",view:wh,setup:{routes:Sh}},$h=Object.freeze(Object.defineProperty({__proto__:null,default:kh},Symbol.toStringTag,{value:"Module"})),Eh={class:"not-found"},Ah={class:"card"},Ch={class:"actions"};function Th(e,t){const s=Ne("RouterLink");return v(),g("div",Eh,[t[5]||(t[5]=i("div",{class:"bg-orb orb-a"},null,-1)),t[6]||(t[6]=i("div",{class:"bg-orb orb-b"},null,-1)),i("div",Ah,[t[1]||(t[1]=i("div",{class:"tag"},"404",-1)),t[2]||(t[2]=i("h1",{class:"title"},"",-1)),t[3]||(t[3]=i("p",{class:"subtitle"},"",-1)),t[4]||(t[4]=i("p",{class:"body"},"",-1)),i("div",Ch,[te(s,{class:"home-link",to:"/"},{default:ge(()=>[...t[0]||(t[0]=[ce("",-1)])]),_:1})])])])}const Ph={},Lh=we(Ph,[["render",Th],["__scopeId","data-v-b586e36c"]]),Rh=Object.freeze(Object.defineProperty({__proto__:null,default:Lh},Symbol.toStringTag,{value:"Module"})),Oh={name:"project-a",title:"Project A",modules:["welcome","about"]},Mh=Object.freeze(Object.defineProperty({__proto__:null,default:Oh},Symbol.toStringTag,{value:"Module"})),Ih={name:"project-b",title:"Project B",modules:["welcome"]},Dh=Object.freeze(Object.defineProperty({__proto__:null,default:Ih},Symbol.toStringTag,{value:"Module"})),Nh=[{id:1,title:"--mock",desc:" API ",status:"todo",publisher:"esther",assignee:"cody",priority:"medium",due_date:"2025-12-12",members:["esther"],events:[{type:"system",user:"",text:" cody",created_at:"2025-12-07 12:00"},{type:"note",user:"esther",text:" API",created_at:"2025-12-07 12:31"}]},{id:2,title:"",desc:" XLSX ",status:"doing",publisher:"robin",assignee:"cody",priority:"high",due_date:"2025-12-05",members:["robin"],events:[{type:"system",user:"",text:" cody",created_at:"2025-12-05 08:50"},{type:"system",user:"",text:"  ",created_at:"2025-12-05 09:00"},{type:"note",user:"cody",text:" PR",created_at:"2025-12-06 09:10"}]},{id:3,title:"",desc:" FAQ ",status:"done",publisher:"esther",assignee:"esther",priority:"low",due_date:"2025-12-03",members:[],events:[{type:"system",user:"",text:" esther",created_at:"2025-12-02 10:00"},{type:"system",user:"",text:"  ",created_at:"2025-12-04 15:55"},{type:"note",user:"esther",text:" QA ",created_at:"2025-12-04 16:00"}]}],jh=[{id:1,name:"",title:"",department:"",email:"ming@example.com",phone:"0900-000-001",status:"active"},{id:2,name:"",title:"",department:"",email:"mei@example.com",phone:"0900-000-002",status:"active"},{id:3,name:"",title:"",department:"",email:"hao@example.com",phone:"0900-000-003",status:"inactive"},{id:4,name:"",title:"",department:"",email:"ting@example.com",phone:"0900-000-004",status:"active"},{id:5,name:"",title:"",department:"",email:"cheng@example.com",phone:"0900-000-005",status:"active"}];function es(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}function fs(e=300){return new Promise(t=>setTimeout(t,e))}function Vh(){return"real"}const ps=gr(),hs=Vh();let Ye=es(Nh);function Bh(e=[],t=[]){const s=Array.isArray(t)?t:[],n=s.reduce((c,a)=>Math.max(c,Number(a?.id)||0),0),o=new Set;e.forEach(c=>{c?.publisher&&o.add(c.publisher),c?.assignee&&o.add(c.assignee)});let r=n+1;const l=[];return o.forEach(c=>{if(!c)return;s.some(d=>`${d.name||""} ${d.username||""} ${d.email||""}`.trim().toLowerCase().includes(String(c).toLowerCase()))||l.push({id:r++,name:String(c)})}),s.concat(l)}const ms={async list(){if(hs==="real")return ps.get("/api/tasks/list");await fs();const e=Bh(Ye,jh),t=Ye.map(s=>({id:s.id,title:s.title,status:s.status,priority:s.priority,publisher:s.publisher,assignee:s.assignee,due_date:s.due_date,publisher_id:s.publisher_id??null,assignee_id:s.assignee_id??null}));return{tasks:es(t),employees:es(e)}},async detail(e){if(hs==="real")return ps.get(`/api/tasks/detail?id=${e}`);await fs();const t=Ye.find(s=>s.id===Number(e));return t?es(t):null},async create(e){if(hs==="real")return ps.post("/api/tasks/create",e);await fs();const s={id:Ye.reduce((n,o)=>Math.max(n,o.id),0)+1,title:e.title?.trim()||"",desc:e.desc||"",status:e.status||"todo",publisher:e.publisher||"",assignee:e.assignee||"",priority:e.priority||"medium",due_date:e.due_date||"",members:e.members||[],events:e.events||[]};return Ye=[s,...Ye],es(s)},async update(e,t){return hs==="real"?ps.post("/api/tasks/update",{id:e,...t}):(await fs(),Ye=Ye.map(s=>s.id===e?{...s,...t}:s),es(Ye.find(s=>s.id===e)))},async addEvent(e,t){return hs==="real"?ps.post("/api/tasks/messages_create",{task_id:e,...t}):(await fs(),Ye=Ye.map(s=>s.id!==e?s:{...s,events:[...s.events||[],t]}),es(Ye.find(s=>s.id===e)))},async remove(e,t){return hs==="real"?ps.post("/api/tasks/delete",{id:e,user_id:t}):(await fs(),Ye=Ye.filter(s=>s.id!==e),{success:!0})}};function Fs(e){return e&&typeof e=="object"&&"data"in e?e.data:e}function qs(e,t={}){return{id:e?.id,title:e?.title||"",desc:e?.desc??e?.description??"",status:e?.status||"todo",publisher:e?.publisher||"",publisher_id:e?.publisher_id??null,assignee:e?.assignee||"",assignee_id:e?.assignee_id??null,priority:e?.priority||"medium",due_date:e?.due_date||"",members:Array.isArray(e?.members)?e.members:[],events:Array.isArray(e?.events)?e.events:[],...t,...e}}function Uh(e=[]){return Array.isArray(e)?e.map(t=>qs(t)):[]}function Rl(e,t=[]){if(!e)return null;const s=String(e).trim().toLowerCase();return t.find(o=>`${o.name||""} ${o.username||""} ${o.email||""}`.toLowerCase().includes(s))?.id??null}function Fh(e,t=[]){const s={...e};return!s.publisher_id&&s.publisher&&(s.publisher_id=Rl(s.publisher,t)),!s.assignee_id&&s.assignee&&(s.assignee_id=Rl(s.assignee,t)),s}function Qt(){return ie.resolve("taskStore")}const lt={async fetchList(){const e=await ms.list(),t=Fs(e),s=Array.isArray(t?.employees)?t.employees:[],n=Uh(t?.tasks??t).map(l=>Fh(l,s)),o=Qt();o.setTasks(n),o.setAssignees(s);const r=o.state.activeTaskId;return r&&await this.fetchDetail(r),n},async fetchDetail(e){if(!e)return null;const t=Fs(await ms.detail(e));if(!t)return null;const s=Qt(),n=qs(t);return s.updateTask(e,n),n},async create(e){const t=qs(Fs(await ms.create(e)));return Qt().addTask(t),t},async update(e,t){const s=qs(Fs(await ms.update(e,t)));return Qt().updateTask(e,s),s},async addEvent(e,t){const s=Fs(await ms.addEvent(e,t));if(s&&s.id&&Array.isArray(s.events)){const o=qs(s);return Qt().updateTask(e,o),o}const n=s?.event?s.event:s;return Qt().addEvent({taskId:e,user:n?.user,text:n?.text||"",type:n?.type||"note",created_at:n?.created_at}),n},async remove(e,t){await ms.remove(e,t),Qt().removeTask(e)}};function bo(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}function bn(e=200){return new Promise(t=>setTimeout(t,e))}function Hh(){return"real"}const xn=gr(),wn=Hh();let $t=[];const Sn={async list(){return wn==="real"?xn.get("/api/employees/list"):(await bn(),bo($t))},async create(e){if(wn==="real")return xn.post("/api/employees/create",e);await bn();const s={id:$t.reduce((n,o)=>Math.max(n,o.id),0)+1,status:"active",password:e.password||"",...e};return $t=[...$t,s],bo(s)},async update(e,t){return wn==="real"?xn.post("/api/employees/update",{id:e,...t}):(await bn(),$t=$t.map(s=>s.id===e?{...s,...t}:s),bo($t.find(s=>s.id===e)))},async remove(e){return wn==="real"?xn.post("/api/employees/delete",{id:e}):(await bn(),$t=$t.filter(t=>t.id!==e),{success:!0})}};function xo(e){return e&&typeof e=="object"&&"data"in e?e.data:e}function Fn(e,t={}){return{status:"active",department:"",phone:"",password:e?.password||"",...t,...e}}function zh(e){return Array.isArray(e)?e.map(t=>Fn(t)):e&&Array.isArray(e.data)?e.data.map(t=>Fn(t)):[]}function kn(){return ie.resolve("employeeStore")}const ls={async fetchList(){const e=await Sn.list(),t=zh(xo(e));return kn().setList(t),t},async create(e){const t=xo(await Sn.create(e)),s=Fn(t);return kn().addEmployee(s),s},async update(e,t){const s=xo(await Sn.update(e,t)),n=Fn({...s,id:s?.id??e});return kn().updateEmployee(e,n),n},async remove(e){await Sn.remove(e),kn().removeEmployee(e)}};function Ss(e){try{return structuredClone(e)}catch{return JSON.parse(JSON.stringify(e))}}function _s(e=300){return new Promise(t=>setTimeout(t,e))}function qh(){return"real"}const ys=gr(),vs=qh();let st=Ss(da);function Wh(e){if(!e?.rule)return e;const t={...e};if(t.rule.mode==="all"&&t.rule.totalVoters>0&&t.votesReceived>=t.rule.totalVoters&&(t.status="closed"),t.rule.mode==="time"&&t.rule.deadline){const s=new Date(t.rule.deadline);!isNaN(s)&&Date.now()>=s.getTime()&&(t.status="closed")}return t}const Hs={async list(){return vs==="real"?ys.get("/api/vote/list"):(await _s(),Ss(st))},async detail(e){return vs==="real"?ys.get(`/api/vote/detail?id=${e}`):(await _s(),Ss(st.find(t=>String(t.id)===String(e))||null))},async create(e){if(vs==="real")return ys.post("/api/vote/create",e);await _s();const t=`v-${Date.now()}`,s={id:e.id||t,title:e.title?.trim()||"Untitled Vote",description:e.description||"",publisher:e.publisher||"Unknown",allowMultiple:!!e.allowMultiple,anonymous:!!e.anonymous,status:e.status||"open",rule:e.rule||{mode:"time",deadline:null,totalVoters:0},votesReceived:e.votesReceived??0,options:(e.options||[]).map((n,o)=>({id:n.id||`${t}-o${o+1}`,label:n.label||`Option ${o+1}`,votes:Number(n.votes)||0,voters:Array.isArray(n.voters)?n.voters:[]}))};return st=[s,...st],Ss(s)},async cast(e,t=[],s={}){return vs==="real"?ys.post("/api/vote/cast",{vote_id:e,selections:t,user_id:s?.id??null,user:s?.name??s?.username??null}):(await _s(),st=st.map(n=>{if(n.id!==e||n.status==="closed")return n;const o={...n},r=n.allowMultiple?t:t.slice(0,1),l=s?.name||s?.username||"Anonymous";return o.options=o.options.map(c=>r.includes(c.id)?{...c,votes:(Number(c.votes)||0)+1,voters:n.anonymous?c.voters:[...c.voters||[],l]}:c),o.votesReceived=(Number(o.votesReceived)||0)+1,Wh(o)}),Ss(st.find(n=>n.id===e)||null))},async openResult(e){return vs==="real"?ys.post("/api/vote/open_result",{vote_id:e}):(await _s(),st=st.map(t=>t.id===e?{...t,status:"closed"}:t),Ss(st.find(t=>t.id===e)||null))},async remove(e){return vs==="real"?ys.post("/api/vote/delete",{id:e}):(await _s(),st=st.filter(t=>t.id!==e),{success:!0})}};function $n(e){return e&&typeof e=="object"&&"data"in e?e.data:e}function gs(){return ie.resolve("voteStore")}const os={async fetchList(){const e=$n(await Hs.list()),t=Array.isArray(e?.votes)?e.votes:e;return gs().setList(t),t},async create(e){const t=$n(await Hs.create(e)),s=t?.vote??t;return gs().addVote(s),s},async cast(e,t){const s=gs(),n=(()=>{try{return ie.resolve("auth")?.state.user||{name:""}}catch{return{name:""}}})(),o=s.get();s.set({...o,currentUser:n?.name||""});const r=$n(await Hs.cast(e,t,n)),l=r?.vote??r;return l&&l.id?(s.updateVote(l.id,l),l):(s.castVote({voteId:e,selections:t}),null)},async openResult(e){const t=$n(await Hs.openResult(e)),s=t?.vote??t;return s&&s.id?(gs().updateVote(s.id,s),s):(gs().openResult(e),null)},async remove(e){await Hs.remove(e),gs().removeVote(e)}},Gh={class:"dashboard"},Kh={class:"hero"},Jh={class:"hero-main"},Yh={class:"hero-title"},Xh={class:"hero-meta"},Qh={class:"meta-pill"},Zh={class:"meta-pill"},em={class:"meta-pill"},tm={class:"hero-actions"},sm={class:"kpi-grid"},nm={class:"kpi-label"},om={class:"kpi-value"},rm={class:"kpi-hint"},lm={class:"grid"},im={class:"panel span"},am={class:"panel-head"},cm={class:"panel-body task-focus"},um={class:"stack"},dm={class:"list"},fm={class:"row-main"},pm={class:"row-title"},hm={class:"tag"},mm={class:"row-meta"},_m={class:"meta-item"},ym={class:"meta-item"},vm={class:"meta-item"},gm={key:0,class:"empty"},bm={class:"stack"},xm={class:"list"},wm={class:"row-main"},Sm={class:"row-title"},km={class:"tag warn"},$m={class:"row-meta"},Em={class:"meta-item"},Am={class:"meta-item"},Cm={key:0,class:"empty"},Tm={class:"panel"},Pm={class:"panel-head"},Lm={class:"panel-body"},Rm={class:"list"},Om={class:"row-main"},Mm={class:"row-title"},Im={class:"row-meta"},Dm={class:"meta-item"},Nm={class:"meta-item"},jm={key:0,class:"row-sub"},Vm={class:"leader"},Bm={class:"count"},Um={key:0,class:"vote-row empty"},Fm={class:"panel span"},Hm={class:"panel-head"},zm={class:"panel-body"},qm={class:"stat-row"},Wm={class:"stat-box"},Gm={class:"value"},Km={class:"stat-box"},Jm={class:"value"},Ym={class:"list"},Xm={class:"name"},Qm={class:"count"},Zm={key:0,class:"dept-row empty"},e_={class:"panel span"},t_={class:"panel-body"},s_={class:"activity"},n_={class:"row-main"},o_={class:"row-title"},r_={class:"time"},l_={class:"row-meta"},i_={class:"meta-item"},a_={class:"meta-item"},c_={key:0,class:"activity-row empty"},u_={__name:"index",setup(e){const t=ie.resolve("auth"),s=ie.resolve("taskStore"),n=ie.resolve("employeeStore"),o=ie.resolve("voteStore"),r=U(()=>{const F=t.state.user||{};return F.name||F.username||""}),l=U(()=>s.state.tasks||[]),c=U(()=>n.state.list||[]),a=U(()=>o.state.list||[]),d={todo:"",doing:"",done:""},u={high:"",medium:"",low:""},p={high:3,medium:2,low:1};function h(F){if(!F)return null;const O=typeof F=="string"?F.trim():F,G=new Date(O);if(!isNaN(G))return G;if(typeof O=="string"&&O.includes(" ")){const E=new Date(O.replace(" ","T"));return isNaN(E)?null:E}return null}function f(F){const O=h(F);if(!O)return"";const G=String(O.getMonth()+1).padStart(2,"0"),E=String(O.getDate()).padStart(2,"0");return`${O.getFullYear()}/${G}/${E}`}function m(F){if(!F)return"";const O=h(F);if(!O)return String(F);const G=String(O.getMonth()+1).padStart(2,"0"),E=String(O.getDate()).padStart(2,"0"),C=String(O.getHours()).padStart(2,"0"),H=String(O.getMinutes()).padStart(2,"0");return`${G}/${E} ${C}:${H}`}function y(F){if(!F?.due_date)return"";const O=h(F.due_date);if(!O)return"";const G=new Date;G.setHours(0,0,0,0);const E=new Date(O);return E.setHours(0,0,0,0),E<G?` ${f(O)}`:` ${f(O)}`}function x(F){return F.rule?.mode==="all"?` (${F.votesReceived}/${F.rule.totalVoters||""})`:F.rule?.deadline?` ${f(F.rule.deadline)}`:""}function k(F){return!Array.isArray(F.options)||F.options.length===0?null:[...F.options].sort((O,G)=>(G.votes||0)-(O.votes||0))[0]}const R=U(()=>{const F=l.value,O=F.length,G=F.filter(M=>M.status==="todo").length,E=F.filter(M=>M.status==="doing").length,C=F.filter(M=>M.status==="done").length,H=G+E;return{total:O,todo:G,doing:E,done:C,active:H}}),$=U(()=>{const F=new Date,O=new Date(F);O.setHours(0,0,0,0);const G=new Date(O);return G.setDate(G.getDate()+7),l.value.filter(E=>E.status!=="done"&&E.due_date).map(E=>({task:E,date:h(E.due_date)})).filter(E=>E.date&&E.date<=G).sort((E,C)=>E.date-C.date).map(E=>E.task).slice(0,5)}),A=U(()=>l.value.filter(F=>F.status!=="done").sort((F,O)=>{const G=(p[O.priority]||0)-(p[F.priority]||0);if(G!==0)return G;const E=h(F.due_date)?.getTime()||1/0,C=h(O.due_date)?.getTime()||1/0;return E-C}).slice(0,6)),D=U(()=>{const F=c.value,O=F.length,G=F.filter(C=>(C.status||"active")==="active").length,E=O-G;return{total:O,active:G,inactive:E}}),V=U(()=>{const F=new Map;return c.value.forEach(O=>{const G=O.department?.trim()||"";F.set(G,(F.get(G)||0)+1)}),[...F.entries()].map(([O,G])=>({name:O,count:G})).sort((O,G)=>G.count-O.count).slice(0,6)}),N=U(()=>{const F=a.value,O=F.length,G=F.filter(H=>H.status!=="closed").length,E=O-G,C=F.reduce((H,M)=>H+Number(M.votesReceived||0),0);return{total:O,open:G,closed:E,votesReceived:C}}),B=U(()=>a.value.filter(F=>F.status!=="closed").slice(0,4).map(F=>{const O=k(F);return{...F,leader:O,totalVotes:Array.isArray(F.options)?F.options.reduce((G,E)=>G+Number(E.votes||0),0):0}})),se=U(()=>{const F=[];return l.value.forEach(O=>{(O.events||[]).forEach(G=>{F.push({title:O.title||"",meta:G.text||"",user:G.user||"",time:m(G.created_at),sortTime:h(G.created_at)?.getTime()||0})})}),F.sort((O,G)=>G.sortTime-O.sortTime).slice(0,6)}),Se=U(()=>{const F=t.state.user||{},O=F.id,G=[F.name,F.username,F.email].filter(Boolean).map(E=>String(E).toLowerCase());return l.value.filter(E=>{if(O&&E.assignee_id)return Number(E.assignee_id)===Number(O);if(G.length===0)return!1;const C=String(E.assignee||"").toLowerCase();return G.some(H=>C.includes(H))}).length}),Oe=U(()=>[{label:"",value:R.value.total,hint:` ${R.value.active}`,tone:"task"},{label:"",value:R.value.todo,hint:` ${l.value.filter(F=>F.priority==="high").length}`,tone:"todo"},{label:"",value:R.value.done,hint:` ${$.value.length}`,tone:"done"},{label:"",value:D.value.total,hint:` ${D.value.active}`,tone:"team"},{label:"",value:N.value.total,hint:` ${N.value.open}`,tone:"vote"},{label:"",value:Se.value,hint:"",tone:"me"}]);return Dt(async()=>{const F=[{name:"task",run:()=>lt.fetchList()},{name:"employee",run:()=>ls.fetchList()},{name:"vote",run:()=>os.fetchList()}];(await Promise.allSettled(F.map(G=>G.run()))).forEach((G,E)=>{G.status==="rejected"&&console.error(`[dashboard] ${F[E].name} fetch failed`,G.reason)})}),(F,O)=>{const G=Ne("RouterLink");return v(),g("div",Gh,[i("header",Kh,[i("div",Jh,[O[0]||(O[0]=i("p",{class:"kicker"},"",-1)),i("h1",Yh,w(r.value)+" ",1),O[1]||(O[1]=i("p",{class:"subtitle"},"",-1)),i("div",Xh,[i("span",Qh," "+w(R.value.active),1),i("span",Zh," "+w(N.value.open),1),i("span",em," "+w(D.value.active),1)])]),i("div",tm,[te(G,{class:"primary",to:"/task"},{default:ge(()=>[...O[2]||(O[2]=[ce("",-1)])]),_:1}),te(G,{class:"ghost",to:"/vote"},{default:ge(()=>[...O[3]||(O[3]=[ce("",-1)])]),_:1}),te(G,{class:"ghost",to:"/employee"},{default:ge(()=>[...O[4]||(O[4]=[ce("",-1)])]),_:1})])]),i("section",sm,[(v(!0),g(q,null,Z(Oe.value,E=>(v(),g("article",{class:fe(["kpi-card",`tone-${E.tone}`]),key:E.label},[i("p",nm,w(E.label),1),i("p",om,w(E.value),1),i("p",rm,w(E.hint),1)],2))),128))]),i("section",lm,[i("article",im,[i("div",am,[O[6]||(O[6]=i("h2",null,"",-1)),te(G,{class:"link",to:"/task"},{default:ge(()=>[...O[5]||(O[5]=[ce("",-1)])]),_:1})]),i("div",cm,[i("div",um,[O[7]||(O[7]=i("h3",null,"",-1)),i("ul",dm,[(v(!0),g(q,null,Z(A.value,E=>(v(),g("li",{class:"task-row",key:E.id},[i("div",fm,[i("div",pm,w(E.title),1),i("span",hm,w(d[E.status]||E.status),1)]),i("div",mm,[i("span",_m," "+w(E.assignee||""),1),i("span",ym," "+w(u[E.priority]||E.priority),1),i("span",vm,w(y(E)),1)])]))),128))]),A.value.length===0?(v(),g("p",gm,"")):ee("",!0)]),i("div",bm,[O[8]||(O[8]=i("h3",null,"",-1)),i("ul",xm,[(v(!0),g(q,null,Z($.value,E=>(v(),g("li",{class:"task-row",key:E.id},[i("div",wm,[i("div",Sm,w(E.title),1),i("span",km,w(d[E.status]||E.status),1)]),i("div",$m,[i("span",Em," "+w(E.assignee||""),1),i("span",Am,w(y(E)),1)])]))),128))]),$.value.length===0?(v(),g("p",Cm,"")):ee("",!0)])])]),i("article",Tm,[i("div",Pm,[O[10]||(O[10]=i("h2",null,"",-1)),te(G,{class:"link",to:"/vote"},{default:ge(()=>[...O[9]||(O[9]=[ce("",-1)])]),_:1})]),i("div",Lm,[i("ul",Rm,[(v(!0),g(q,null,Z(B.value,E=>(v(),g("li",{class:"vote-row",key:E.id},[i("div",Om,[i("div",Mm,w(E.title),1),O[11]||(O[11]=i("span",{class:"tag open"},"",-1))]),i("div",Im,[i("span",Dm,w(x(E)),1),i("span",Nm," "+w(E.totalVotes)+" ",1)]),E.leader?(v(),g("div",jm,[i("span",Vm,""+w(E.leader.label),1),i("span",Bm,w(E.leader.votes)+" ",1)])):ee("",!0)]))),128)),B.value.length===0?(v(),g("li",Um,"")):ee("",!0)])])]),i("article",Fm,[i("div",Hm,[O[13]||(O[13]=i("h2",null,"",-1)),te(G,{class:"link",to:"/employee"},{default:ge(()=>[...O[12]||(O[12]=[ce("",-1)])]),_:1})]),i("div",zm,[i("div",qm,[i("div",Wm,[O[14]||(O[14]=i("span",{class:"label"},"",-1)),i("span",Gm,w(D.value.active),1)]),i("div",Km,[O[15]||(O[15]=i("span",{class:"label"},"",-1)),i("span",Jm,w(D.value.inactive),1)])]),O[16]||(O[16]=i("h3",null,"",-1)),i("ul",Ym,[(v(!0),g(q,null,Z(V.value,E=>(v(),g("li",{class:"dept-row",key:E.name},[i("span",Xm,w(E.name),1),i("span",Qm,w(E.count)+" ",1)]))),128)),V.value.length===0?(v(),g("li",Zm,"")):ee("",!0)])])]),i("article",e_,[O[17]||(O[17]=i("div",{class:"panel-head"},[i("h2",null,""),i("span",{class:"panel-note"},"")],-1)),i("div",t_,[i("ul",s_,[(v(!0),g(q,null,Z(se.value,(E,C)=>(v(),g("li",{class:"activity-row",key:C},[i("div",n_,[i("div",o_,w(E.title),1),i("span",r_,w(E.time),1)]),i("div",l_,[i("span",i_,w(E.user),1),i("span",a_,w(E.meta),1)])]))),128)),se.value.length===0?(v(),g("li",c_,"")):ee("",!0)])])])])])}}},d_=we(u_,[["__scopeId","data-v-b0612afa"]]),f_=Object.freeze(Object.defineProperty({__proto__:null,default:d_},Symbol.toStringTag,{value:"Module"})),p_={class:"thead"},h_={key:0,class:"cell"},m_={class:"tbody"},__={class:"cell name"},y_={class:"avatar"},v_={class:"initial"},g_={class:"info"},b_={class:"title"},x_={class:"handle"},w_={class:"cell"},S_={class:"cell"},k_={class:"cell"},$_={class:"cell"},E_={key:0,class:"cell"},A_={class:"cell more"},C_=["onClick"],T_=["onClick"],P_={class:"pagination"},L_={class:"page-size"},R_={class:"page-info"},O_={class:"page-actions"},M_=["disabled"],I_=["disabled"],D_={__name:"EmployeeTable",props:{showRole:{type:Boolean,default:!1}},emits:[],setup(e,{emit:t}){const s=ie.resolve("employeeStore"),n=Ee(10),o=Ee(1),r=U(()=>{const y=s.state.search.trim().toLowerCase();return y?s.state.list.filter(x=>x.name.toLowerCase().includes(y)||(x.title||"").toLowerCase().includes(y)||(x.department||"").toLowerCase().includes(y)||(x.email||"").toLowerCase().includes(y)||(x.phone||"").toLowerCase().includes(y)):s.state.list}),l=U(()=>{const y=r.value.length;return Math.max(1,Math.ceil(y/n.value))}),c=U(()=>{const y=(o.value-1)*n.value;return r.value.slice(y,y+n.value)});Qe(()=>[r.value.length,n.value,s.state.search],()=>{o.value=1});function a(){o.value=Math.max(1,o.value-1)}function d(){o.value=Math.min(l.value,o.value+1)}function u(y){return y?.trim().charAt(0).toUpperCase()||"?"}function p(y){const x=y==="active",R=`var(${x?"--sys-6":"--sys-8"})`;return{background:`color-mix(in srgb, ${R} 14%, transparent)`,color:x?"var(--sys-6)":"var(--sys-8)",border:`1px solid ${R}`}}function h(y){return y==="super_admin"?"":y==="manager"?"":""}function f(y){s.openEdit(y)}async function m(y){if(confirm(` ${y?.name||""} `))try{await ls.remove(y.id)}catch(k){console.error("[employeeTable] delete failed",k),alert("")}}return(y,x)=>(v(),g("div",{class:fe(["table",{"with-role":e.showRole}])},[i("div",p_,[x[1]||(x[1]=pr('<div class="cell" data-v-761b84da> / </div><div class="cell" data-v-761b84da></div><div class="cell" data-v-761b84da>Email</div><div class="cell" data-v-761b84da></div><div class="cell" data-v-761b84da></div>',5)),e.showRole?(v(),g("div",h_,"")):ee("",!0),x[2]||(x[2]=i("div",{class:"cell more"},"",-1))]),i("div",m_,[(v(!0),g(q,null,Z(c.value,k=>(v(),g("div",{class:"row",key:k.id},[i("div",__,[i("div",y_,[i("span",v_,w(u(k.name)),1)]),i("div",g_,[i("p",b_,w(k.name),1),i("p",x_,w(k.title),1)])]),i("div",w_,w(k.department||""),1),i("div",S_,w(k.email),1),i("div",k_,w(k.phone||"-"),1),i("div",$_,[i("span",{class:"chip",style:it(p(k.status))},w(k.status==="active"?"":""),5)]),e.showRole?(v(),g("div",E_,w(h(k.role)),1)):ee("",!0),i("div",A_,[i("button",{class:"icon-btn",onClick:R=>f(k),title:""},"",8,C_),i("button",{class:"icon-btn danger",onClick:R=>m(k),title:""},"",8,T_)])]))),128))]),i("div",P_,[i("div",L_,[x[4]||(x[4]=i("span",{class:"label"},"",-1)),Q(i("select",{"onUpdate:modelValue":x[0]||(x[0]=k=>n.value=k)},[...x[3]||(x[3]=[i("option",{value:5},"5",-1),i("option",{value:10},"10",-1),i("option",{value:20},"20",-1)])],512),[[Mt,n.value,void 0,{number:!0}]]),x[5]||(x[5]=i("span",{class:"label"},"",-1))]),i("div",R_," "+w(o.value)+" / "+w(l.value)+" ",1),i("div",O_,[i("button",{class:"ghost",type:"button",onClick:a,disabled:o.value<=1},"",8,M_),i("button",{class:"ghost",type:"button",onClick:d,disabled:o.value>=l.value},"",8,I_)])])],2))}},N_=we(D_,[["__scopeId","data-v-761b84da"]]),j_={class:"panel"},V_={class:"panel-header"},B_={class:"titles"},U_={class:"form-grid"},F_={class:"field"},H_={class:"field"},z_={class:"field"},q_={class:"field"},W_={class:"field"},G_={class:"field"},K_=["value"],J_={class:"field"},Y_=["value"],X_={key:0,class:"field"},Q_={class:"footer"},Z_={class:"primary",type:"submit"},ey={__name:"EmployeeEditor",setup(e){const t=ie.resolve("employeeStore"),s=ie.resolve("auth"),n=U(()=>t.state.editorOpen),o=U(()=>t.state.editingEmployee),r=U(()=>!o.value),l=U(()=>["super_admin","manager"].includes(s.state.user?.role)),c=wt({name:"",title:"",department:"",email:"",phone:"",role:"staff",status:"active",password:""}),a=[{value:"staff",label:""},{value:"manager",label:""}],d=[{value:"active",label:""},{value:"inactive",label:""}],u=U(()=>o.value?"":""),p=U(()=>o.value?"":"");function h(y){Object.assign(c,{...{name:"",title:"",department:"",email:"",phone:"",role:"staff",status:"active",password:""},...y||{}})}Qe(()=>o.value,y=>{n.value&&h(y)},{immediate:!0}),Qe(()=>n.value,y=>{y&&h(o.value)});async function f(){if(!l.value){alert("");return}if(!c.name.trim()||!c.email.trim()){alert(" Email");return}const y={...c,id:o.value?.id,name:c.name.trim(),title:c.title.trim(),department:c.department.trim(),email:c.email.trim(),phone:c.phone.trim(),password:c.password?.trim()||""};try{if(y.id){delete y.password;const{id:x,...k}=y;await ls.update(x,k)}else{y.password=y.password?.trim()||"";const{id:x,...k}=y;await ls.create(k)}t.closeEditor()}catch(x){console.error("[employeeEditor] save failed",x),alert("")}}function m(){t.closeEditor()}return(y,x)=>(v(),Re(rr,{to:"body"},[n.value?(v(),g("div",{key:0,class:"editor-wrap",onClick:Gt(m,["self"])},[i("div",j_,[i("div",V_,[i("div",B_,[x[8]||(x[8]=i("p",{class:"kicker"},"Employee Center",-1)),i("h3",null,w(u.value),1),x[9]||(x[9]=i("p",{class:"subtitle"},"",-1))]),i("button",{class:"close-btn",type:"button",onClick:m},"X")]),i("form",{class:"panel-body",onSubmit:Gt(f,["prevent"])},[i("div",U_,[i("label",F_,[x[10]||(x[10]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":x[0]||(x[0]=k=>c.name=k),type:"text",placeholder:""},null,512),[[de,c.name]])]),i("label",H_,[x[11]||(x[11]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":x[1]||(x[1]=k=>c.title=k),type:"text",placeholder:""},null,512),[[de,c.title]])]),i("label",z_,[x[12]||(x[12]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":x[2]||(x[2]=k=>c.department=k),type:"text",placeholder:""},null,512),[[de,c.department]])]),i("label",q_,[x[13]||(x[13]=i("span",{class:"label"},"Email",-1)),Q(i("input",{"onUpdate:modelValue":x[3]||(x[3]=k=>c.email=k),type:"email",placeholder:"name@email.com"},null,512),[[de,c.email]])]),i("label",W_,[x[14]||(x[14]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":x[4]||(x[4]=k=>c.phone=k),type:"text",placeholder:"0900-000-000"},null,512),[[de,c.phone]])]),i("label",G_,[x[15]||(x[15]=i("span",{class:"label"},"",-1)),Q(i("select",{"onUpdate:modelValue":x[5]||(x[5]=k=>c.role=k)},[(v(),g(q,null,Z(a,k=>i("option",{key:k.value,value:k.value},w(k.label),9,K_)),64))],512),[[Mt,c.role]])]),i("label",J_,[x[16]||(x[16]=i("span",{class:"label"},"",-1)),Q(i("select",{"onUpdate:modelValue":x[6]||(x[6]=k=>c.status=k)},[(v(),g(q,null,Z(d,k=>i("option",{key:k.value,value:k.value},w(k.label),9,Y_)),64))],512),[[Mt,c.status]])]),r.value?(v(),g("label",X_,[x[17]||(x[17]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":x[7]||(x[7]=k=>c.password=k),type:"text",placeholder:""},null,512),[[de,c.password]])])):ee("",!0)]),i("div",Q_,[i("button",{class:"ghost",type:"button",onClick:m},""),i("button",Z_,w(p.value),1)])],32)])])):ee("",!0)]))}},ty=we(ey,[["__scopeId","data-v-63a1eef5"]]),sy={class:"employee-page"},ny={key:0,class:"toolbar"},oy={class:"toolbar-main"},ry={class:"search"},ly=["value"],iy={class:"pill"},ay={key:3,class:"self-card"},cy={class:"card-head"},uy={class:"self-actions"},dy=["disabled"],fy={class:"info-grid"},py={class:"info-item"},hy={class:"value"},my={class:"info-item"},_y={class:"value"},yy={class:"info-item"},vy={class:"value"},gy={class:"info-item"},by={class:"value"},xy={class:"info-item"},wy={class:"info-item"},Sy={class:"info-item"},ky={class:"value"},$y={__name:"list",setup(e){const t=ie.resolve("employeeStore"),s=ie.resolve("auth"),n=U(()=>s.state.user?.role||"staff"),o=U(()=>["super_admin","manager"].includes(n.value)),r=U(()=>{const f=s.state.user?.email||"",m=s.state.user?.username||"";return(t.state.list||[]).find(x=>x.email===f||x.username===m)||s.state.user||null}),l=Ee(""),c=Ee(""),a=Ee(!1);Qe(()=>r.value,f=>{l.value=f?.phone||""},{immediate:!0});function d(f){t.setSearch(f.target.value)}function u(){t.openCreate()}function p(f){return f==="active"?"":""}async function h(){const f=r.value;if(!f?.id){alert("");return}const m=l.value.trim(),y=c.value.trim(),x={};if(m!==""&&(x.phone=m),y!==""&&(x.password=y),Object.keys(x).length===0){alert("");return}a.value=!0;try{await ls.update(f.id,x),y&&(c.value=""),alert("")}catch(k){console.error("[employee/self] update profile failed",k),alert("")}finally{a.value=!1}}return Dt(()=>{ls.fetchList().catch(f=>{console.error("[employee/list] fetch employees failed",f)})}),(f,m)=>(v(),g("div",sy,[o.value?(v(),g("div",ny,[i("div",oy,[i("div",ry,[m[2]||(m[2]=i("span",{class:"icon"},"",-1)),i("input",{type:"text",value:Be(t).state.search,onInput:d,placeholder:""},null,40,ly)]),i("div",iy," "+w(Be(t).state.list.length)+" ",1)]),i("div",{class:"actions"},[i("button",{class:"primary",onClick:u},"")])])):ee("",!0),o.value?(v(),Re(N_,{key:1,"show-role":o.value},null,8,["show-role"])):ee("",!0),o.value?(v(),Re(ty,{key:2})):(v(),g("div",ay,[i("div",cy,[m[3]||(m[3]=i("div",{class:"head-text"},[i("h3",null,""),i("p",{class:"note"},"")],-1)),i("div",uy,[i("button",{class:"primary",type:"button",disabled:a.value,onClick:h},w(a.value?"":""),9,dy)])]),i("div",fy,[i("div",py,[m[4]||(m[4]=i("span",{class:"label"},"",-1)),i("span",hy,w(r.value?.name||"-"),1)]),i("div",my,[m[5]||(m[5]=i("span",{class:"label"},"Email",-1)),i("span",_y,w(r.value?.email||"-"),1)]),i("div",yy,[m[6]||(m[6]=i("span",{class:"label"},"",-1)),i("span",vy,w(r.value?.title||"-"),1)]),i("div",gy,[m[7]||(m[7]=i("span",{class:"label"},"",-1)),i("span",by,w(r.value?.department||"-"),1)]),i("div",xy,[m[8]||(m[8]=i("span",{class:"label"},"",-1)),Q(i("input",{class:"self-input","onUpdate:modelValue":m[0]||(m[0]=y=>l.value=y),type:"text",placeholder:""},null,512),[[de,l.value]])]),i("div",wy,[m[9]||(m[9]=i("span",{class:"label"},"",-1)),Q(i("input",{class:"self-input","onUpdate:modelValue":m[1]||(m[1]=y=>c.value=y),type:"password",placeholder:""},null,512),[[de,c.value]])]),i("div",Sy,[m[10]||(m[10]=i("span",{class:"label"},"",-1)),i("span",ky,w(p(r.value?.status||"active")),1)])])]))]))}},Ey=we($y,[["__scopeId","data-v-5f5a9ffd"]]),Ay=Object.freeze(Object.defineProperty({__proto__:null,default:Ey},Symbol.toStringTag,{value:"Module"})),On={s:"",e:"",s2:"",e2:"",n:"",r:"",i:null,ip:"",level:"",folder_img:"pc",folder_type:[],children:[],open:!1,offset:{x:0,y:0,e_x:0,e_y:0,s_x:0,s_y:0,lineBox:0,color:"#bbbbbb"},textset:{x:0,y:0,icon:""},nb:"",one:!1},pa=[["person","Agent"],["password",""],["file_copy",""],["language",""],["wysiwyg",""],["subway","Tunnel"],["apps",""],["sensor_door",""],["do_not_step",""],["wifi_find",""],["swap_horiz",""],["private_connectivity",""]],ha=[["search",""],["home",""],["menu","USB"],["close","RCE"],["settings",""],["swap_horiz",""],["star","SQL Injection"],["zoom_in","Webshell"]],Cy=["#bbbbbb","#353531","#ffd500","#ffbe0b","#ff9505","#fc7232","#f12939","#8c1c13","#ff006e","#e20074","#ffa6c1","#8b12db","#9381ff","#1B96F1","#3772ff","#00509d","#17f4c0","#38a3a5","#8ac926","#007200","#004b23","#c9a690","#7b7b7b","#595950","#ffc700","#ff9e00","#ff6d00","#fa3f17","#d90f27","#630800","#cc005b","#ff93ac","#9846ce","#65129c","#8c703a","#0366d6","#3385ff","#004582","#5fffe9","#1d8e8a","#6bab36","#024c00","#002d15"],Ty={name:"ListData",props:{mdData:{type:Array,default:()=>[]},allPoint:{type:Array,default:()=>[]},a2zList:{type:Array,default:()=>[]},treeBox:{type:Array,default:()=>[]},pointCut:{type:Array,default:()=>[]}},data(){return{newDD:{...On},typeIcon:ha,textIndex:"",showChildren:[]}},computed:{safeMdData(){const e=Array.isArray(this.mdData)?this.mdData:[];return e.length>0?e.filter(Boolean):e}},created(){this.syncFlags(this.mdData)},watch:{mdData:{handler(e){this.syncFlags(e)},immediate:!0,deep:!0}},methods:{syncFlags(e){const t=Array.isArray(e)?e:[];t.forEach(s=>{s&&typeof s=="object"&&typeof s.open!="boolean"&&(s.open=!1)}),this.showChildren.length!==t.length&&(this.showChildren=t.map(()=>!0))},generateRandomCode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let n=0;n<e;n++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},addNewLine(e,t){this.mdData.map(l=>l.open=!1);let s=this.newDD,n=e.children?e.children.length:0;s.level=e.level+"-"+n,s.s2=e.e2,s.nb="nb_"+this.generateRandomCode(4);let o=this.allPoint.filter(l=>l[0]==s.e);o.length?(s.e2=o[0][1],s.end=!0):(s.e2="pt_"+this.generateRandomCode(2),s.end=!1);let r=JSON.parse(JSON.stringify(s));e.children=[...e.children,r],this.newDD=JSON.parse(JSON.stringify({...On}))},changeIp(e,t){if(this.newDD.e){let s=e.find(n=>n[0]==t);this.newDD.ip=s[2]}},opencreat(e,t,s){s.map((n,o)=>{n.open=o==t?!n.open:!1}),this.newDD.ip="",e.open?(this.newDD.s=e.e,this.newDD.e="",this.$nextTick(()=>{const n=this.$refs["input_"+e.s2+"-"+t],o=Array.isArray(n)?n[0]:n;o&&o.focus()})):this.newDD=JSON.parse(JSON.stringify({...On}))},removeMe(e,t){window.confirm(`

`)==!0&&e.splice(t,1)},allPointList(e,t){return e.filter(s=>s[0]!==t)},openData(e){this.showChildren[e]=!this.showChildren[e],this.$forceUpdate()},showChildrenBox(e){return this.showChildren[e]==null&&this.showChildren.push(!0),this.showChildren==null?!0:this.showChildren[e]},allowNumeric(e){const t=e.key,n=e.target.value;if(!/^[0-9.]$/.test(t)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(t)){e.preventDefault();return}if(t==="."&&((n.match(/\./g)||[]).length>=3||n.endsWith("."))){e.preventDefault();return}if(/^[0-9]$/.test(t)){const l=n.split(".");l[l.length-1].length>=3&&e.preventDefault()}(Array.isArray(this.allPoint)?this.allPoint:[]).some(l=>l[2]===n+t)&&alert("IP: "+n+t+`
IP`)}}},Py={class:"listTop"},Ly={class:"conValue"},Ry=["onClick"],Oy=["onUpdate:modelValue"],My=["onUpdate:modelValue","disabled"],Iy=["onUpdate:modelValue"],Dy=["onUpdate:modelValue"],Ny={key:3,class:"setFlexIcon onlySelect"},jy=["onUpdate:modelValue"],Vy=["value"],By=["onClick"],Uy=["onClick"],Fy={class:"addActLine"},Hy=["value"],zy=["onClick"];function qy(e,t,s,n,o,r){const l=Ne("ListData",!0);return v(),g("ul",Py,[(v(!0),g(q,null,Z(r.safeMdData,(c,a)=>(v(),g("li",{key:a},[i("div",{class:fe(["lsitCon",c.nb])},[i("p",Ly,[c.end?ee("",!0):(v(),g("b",{key:0,class:"opencreat",onClick:d=>r.opencreat(c,a,s.mdData),title:""},"",8,Ry)),Q(i("input",{disabled:"disabled","onUpdate:modelValue":d=>c.e=d},null,8,Oy),[[de,c.e]]),Q(i("input",{class:"inp15","onUpdate:modelValue":d=>c.ip=d,onKeydown:t[0]||(t[0]=d=>r.allowNumeric(d)),placeholder:" IP",disabled:!!c.end},null,40,My),[[de,c.ip]]),c.one?ee("",!0):Q((v(),g("input",{key:1,"onUpdate:modelValue":d=>c.n=d,placeholder:""},null,8,Iy)),[[de,c.n]]),c.one?ee("",!0):Q((v(),g("input",{key:2,"onUpdate:modelValue":d=>c.r=d,placeholder:" "},null,8,Dy)),[[de,c.r]]),c.one?ee("",!0):(v(),g("span",Ny,[Q(i("select",{"onUpdate:modelValue":d=>c.textset.icon=d,class:fe(c.textset.icon==""&&"onNo")},[t[9]||(t[9]=i("option",{value:"",selected:"selected"},"==  ==",-1)),(v(!0),g(q,null,Z(o.typeIcon,d=>(v(),g("option",{key:d[0],value:d[0]},w(d[1]),9,Vy))),128))],10,jy),[[Mt,c.textset.icon]])])),i("b",{class:"removeMe",onClick:d=>r.removeMe(s.mdData,a),title:"()"},"-",8,By),c.children&&c.children.length>0?(v(),g("span",{key:4,class:fe(["openUl",o.showChildren[a]?"showClo":""]),onClick:d=>r.openData(a),title:""},w(o.showChildren[a]?"":""),11,Uy)):ee("",!0)]),Q(i("p",Fy,[Q(i("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>o.newDD.s=d),disabled:"disabled"},null,512),[[de,o.newDD.s]]),i("span",null,[Q(i("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>o.newDD.e=d),placeholder:"()",ref_for:!0,ref:"input_"+c.s2+"-"+a},null,512),[[de,o.newDD.e]]),Q(i("select",{"onUpdate:modelValue":t[3]||(t[3]=d=>o.newDD.e=d),onChange:t[4]||(t[4]=d=>r.changeIp(s.allPoint,o.newDD.e))},[t[10]||(t[10]=i("option",{value:null,disabled:"disabled",selected:"selected"},"",-1)),(v(!0),g(q,null,Z(r.allPointList(s.allPoint,o.newDD.s),d=>(v(),g("option",{key:d[0],value:d[0]},w(d[0]),9,Hy))),128))],544),[[Mt,o.newDD.e]])]),Q(i("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>o.newDD.ip=d),placeholder:" IP",onKeydown:t[6]||(t[6]=d=>r.allowNumeric(d))},null,544),[[de,o.newDD.ip]]),Q(i("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>o.newDD.n=d),placeholder:" "},null,512),[[de,o.newDD.n]]),Q(i("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>o.newDD.r=d),placeholder:" "},null,512),[[de,o.newDD.r]]),i("button",{class:"btn",onClick:d=>r.addNewLine(c,a)},"",8,zy)],512),[[vt,c.open]])],2),Q(te(l,{"md-data":c.children,"tree-box":s.treeBox,"all-point":s.allPoint,"a2z-list":s.a2zList},null,8,["md-data","tree-box","all-point","a2z-list"]),[[vt,r.showChildrenBox(a)]])]))),128))])}const Wy=we(Ty,[["render",qy]]),Gy={name:"ListPapa",components:{ListData:Wy},props:{mdData:{type:Array,default:()=>[]},allPoint:{type:Array,default:()=>[]},treeBox:{type:Array,default:()=>[]}},data(){return{a2z:"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz1234567890",a2zList:[],myS:"Unknown",myE:"",myE2:"",myEip:"",myEnd:!1,mySBox:["attacker","Unknown",""]}},computed:{aaa(){return this.allPoint},safeMdData(){return Array.isArray(this.mdData)?this.mdData.filter(Boolean):[]}},created(){this.a2zList=this.a2z.split("")},methods:{generateRandomCode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let n=0;n<e;n++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},addStart(){let e=JSON.parse(JSON.stringify({...On}));e.s=this.myS,e.e=this.myS,e.ip=this.myEip,e.one=!0,e.end=this.myEnd,e.nb="nb_"+this.generateRandomCode(4);let t="pt_"+this.generateRandomCode(2);e.s2=t,e.e2=t,this.treeBox.push(e),this.myS="attacker",this.myE="",this.myEip="",this.myEnd=!1,this.myE2=""},allPointList(e,t){return e?e.filter(s=>s[0]!==t):!1},changeIp(e,t){if(this.myE){let s=e.find(n=>n[0]==t);this.myEip=s[2],this.myEnd=!0,this.myE2=s[1]}},allowNumeric(e){const t=e.key,n=e.target.value;if(!/^[0-9.]$/.test(t)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(t)){e.preventDefault();return}if(t==="."&&((n.match(/\./g)||[]).length>=3||n.endsWith("."))){e.preventDefault();return}if(/^[0-9]$/.test(t)){const l=n.split(".");l[l.length-1].length>=3&&e.preventDefault()}(Array.isArray(this.allPoint)?this.allPoint:[]).some(l=>l[2]===n+t)&&alert("IP: "+n+t+`
IP`)}}},Ky={class:"lsitCon"},Jy={class:"acct addActLine"},Yy=["value"];function Xy(e,t,s,n,o,r){const l=Ne("ListData");return v(),g("div",Ky,[i("p",Jy,[i("span",null,[Q(i("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>o.myS=c),placeholder:""},null,512),[[de,o.myS]]),Q(i("select",{"onUpdate:modelValue":t[1]||(t[1]=c=>o.myS=c)},[t[5]||(t[5]=i("option",{value:null,disabled:"disabled",selected:"selected"},"",-1)),(v(!0),g(q,null,Z(o.mySBox,(c,a)=>(v(),g("option",{key:a,value:c},w(c),9,Yy))),128))],512),[[Mt,o.myS]])]),Q(i("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>o.myEip=c),onKeydown:t[3]||(t[3]=c=>r.allowNumeric(c)),placeholder:" IP"},null,544),[[de,o.myEip]]),i("button",{class:"btn acctS",onClick:t[4]||(t[4]=(...c)=>r.addStart&&r.addStart(...c))},"")]),te(l,{"md-data":r.safeMdData,"tree-box":s.treeBox,"all-point":s.allPoint,"a2z-list":o.a2zList,"point-cut":r.aaa},null,8,["md-data","tree-box","all-point","a2z-list","point-cut"])])}const Qy=we(Gy,[["render",Xy]]),Zy={name:"Folder",props:{imgList:{type:Array,default:()=>[]},typeStatus:{type:Array,default:()=>[]},typeName:{type:Array,default:()=>[]},folder:{type:Object,required:!0},nbm:{type:Number,default:0}},methods:{pickFocus(e){const t=document.querySelector("."+e);t&&t.focus()}}},ev=["id"],tv={class:"typeStatusBox"},sv={class:"material-icons material-icons-outlined"},nv={class:"imgListBox"},ov=["value","id"],rv=["for"],lv=["value","id"],iv=["for"],av={key:0},cv={key:0};function uv(e,t,s,n,o,r){const l=Ne("Folder",!0);return s.folder.end?ee("",!0):(v(),g("li",{key:0,class:fe("flo_"+s.nbm)},[i("div",{class:fe(["boxName",s.folder.one&&"art"])},[i("div",{class:"imgBox",onClick:t[2]||(t[2]=c=>r.pickFocus(s.folder.nb)),id:"point_"+s.folder.e2,style:it(`background-image: url(/mtk2mad/images/${s.folder.folder_img}.jpeg)`)},[i("div",tv,[s.folder.folder_type.length>0?(v(!0),g(q,{key:0},Z(s.folder.folder_type,(c,a)=>(v(),g("div",{class:"typeStatus",key:a},[i("span",sv,w(c),1)]))),128)):ee("",!0)]),i("div",nv,[i("ul",null,[t[3]||(t[3]=i("b",null,"",-1)),(v(!0),g(q,null,Z(s.imgList,(c,a)=>(v(),g("li",{key:a},[Q(i("input",{value:c,id:"img_"+s.folder.e2+"_"+c,"onUpdate:modelValue":t[0]||(t[0]=d=>s.folder.folder_img=d),type:"radio"},null,8,ov),[[ks,s.folder.folder_img]]),i("label",{for:"img_"+s.folder.e2+"_"+c},w(c),9,rv)]))),128))]),t[5]||(t[5]=i("hr",null,null,-1)),i("ul",null,[t[4]||(t[4]=i("b",null," ()",-1)),(v(!0),g(q,null,Z(s.typeStatus,(c,a)=>(v(),g("li",{key:a},[Q(i("input",{value:c[0],id:"type_"+s.folder.e2+"_"+c[0],"onUpdate:modelValue":t[1]||(t[1]=d=>s.folder.folder_type=d),type:"checkbox"},null,8,lv),[[$u,s.folder.folder_type]]),i("label",{for:"type_"+s.folder.e2+"_"+c[0]},w(c[1]),9,iv)]))),128))])])],12,ev),i("b",null,[i("em",{class:fe(!s.folder.ip&&"noBrb")},w(s.folder.e),3),s.folder.ip?(v(),g("small",av,w(s.folder.ip),1)):ee("",!0)])],2),s.folder.children&&s.folder.children.length>0?(v(),g("ul",cv,[(v(!0),g(q,null,Z(s.folder.children,(c,a)=>(v(),Re(l,{key:a,folder:c,nbm:a,imgList:s.imgList,typeStatus:s.typeStatus},null,8,["folder","nbm","imgList","typeStatus"]))),128))])):ee("",!0)],2))}const dv=we(Zy,[["render",uv]]),fv={name:"Folders",components:{Folder:dv},props:{folder:{type:Object,default:()=>({})}},data(){return{imgList:["hacker","pc","nb","Server","vpn","Web_Server","SQL_Server","File_Server","Load_Balance"],typeStatus:pa,typeIcon:ha}}};function pv(e,t,s,n,o,r){const l=Ne("Folder");return v(),g("ul",null,[te(l,{folder:s.folder,nbm:0,imgList:o.imgList,typeStatus:o.typeStatus},null,8,["folder","imgList","typeStatus"])])}const hv=we(fv,[["render",pv]]);function mv(e,t){if(!e||!t)return{link:"",textPos:[0,0]};let s=e.s2,n=e.e2,o=e.offset;if(!t[s]||!t[n])return{link:"",textPos:[0,0]};let r=t[n][0]-t[s][0],l=t[n][1]-t[s][1],c="",a=192,d=180,u,p,h,f,m=[0,0];if(r>0){u=t[s][0]+a,p=t[s][1]+d/2,h=t[n][0]-a/3,f=t[n][1]+d/2;let y;c=`M${u},${p} h${(r-a)/4} V${f} L${h},${f}`,m=[t[n][0]-200,t[n][1]+d/1.5-30],Math.abs(r)>500&&(y=-40,c=`M${u-a/1.5},${p-d/1.5} V${t[n][1]+y} H${h+a/1.5} L${h+a/1.5},${f-d/1.5}`,m=[t[n][0]-220,t[n][1]-40],l==0&&(y=40,c=`M${u-a/1.5},${p+d/2} v${y} H${h+a/1.5} L${h+a/1.5},${f+d/2}`,m=[t[n][0]-220,t[n][1]+d+40]),l>0&&(y=30,c=`M${u-a/1.5},${p+d/2} V${f+d/2+y} H${h+a/1.5} L${h+a/1.5},${f+d/2}`,m=[t[n][0]-220,t[n][1]+d+20]),Math.abs(l)>420&&(y=50,c=`M${u-a/1.5+60},${p-d/2-20} h${d-20} V${f+d/2+y} H${h+a/1.5} L${h+a/1.5},${f+d/2}`,m=[t[n][0]-220,t[n][1]+d+20]))}if(r==0&&(u=l>0?t[s][0]+a/4:t[s][0]+a/2,p=l>0?t[s][1]+d+10:t[s][1]-20,h=l>0?t[n][0]+a/4:t[n][0]+a/2,f=l<0?t[n][1]+d+20:t[n][1]-30,c=`M${u},${p} L${h},${f}`,m=[t[n][0]-80,f-40],l<0&&(m=[t[n][0]+a/1.5-20,t[n][1]+d+50]),Math.abs(l)<200&&(c=`M${u},${p} L${h},${f-50}`,m=[t[n][0]-20,f-40]),Math.abs(l)>500)){u=l<0?t[s][0]-60:t[s][0]+a,p=l<0?t[s][1]+d/2-30:t[s][1]+d/2+30,h=l<0?t[n][0]-60:t[s][0]+a,f=l<0?t[n][1]+d/2+30:t[n][1]+d/2-30;let y=l<0?-40:40;c=`M${u},${p} h${y} V${f} L${h},${f}`,m=[h,f-40],l<0&&(m=[t[n][0]-160,t[n][1]+d])}if(r<0&&(u=t[s][0],p=t[s][1],h=t[n][0],f=t[n][1],c=`M${u-60},${p+d/3} h${(r-a)/4} V${f+d/3} L${h+a},${f+d/3}`,m=[h+a+20,f+d/2],Math.abs(r)>500?(c=`M${u},${p} v-40 H${h+a/2} L${h+a/2},${f+d+10}`,m=[h+a/2.5,f-80],l>0&&(c=`M${u},${p+d} v40 H${h+a/2} L${h+a/2},${f-40}`,m=[h+a/2.5+20,f-80]),Math.abs(l)<d&&Math.abs(l)>1&&(c=`M${u+a/3},${p+d} V${f+d/2} H${h+a/2+100} L${h+a/2+80},${f+d/2}`,m=[h+a+120,f+d/2]),l>450&&(c=`M${u+30},${p+d} v55 H${h+a/2+120} V${f-10} L${h+a/2+60},${f-10}`,m=[h+a/2+60,f-120]),l<-350&&(m=[h+a/2,f+d+60]),l==0&&(c=`M${u},${p} v-60 H${h+a/2} L${h+a/2},${f-20}`,m=[h+a/2,f-60])):l==0&&(m=[h+a+30,f+50]),Math.abs(l)<300&&Math.abs(l)>50&&(c=`M${u+30},${p} v-30 H${h+a/2} L${h+a/2},${f-30}`,m=[h+a/2+60,f-120])),o.lineBox==1){let y=50,x=50;c=`M${u},${p-x} h${y} V${f+d/1.2} H${h-y} V${f+d/2-x} L${h},${f+d/2-x}`,m=[h-y*2,f+x*2]}if(o.lineBox==2){let y=50;c=`M${u-y},${p+50/2} h${-y*2} V${f+d/2} L${h+a},${f+d/2}`,m=[h+a+y,f+d/2]}if(o.lineBox==3){let y=50,x=50;c=`M${u},${p-x} h${y} V${f-d/1.2} H${h+a/2} L${h+a/2},${f-d/1.6}`,m=[h-y*2,f+x*2]}return{link:c,textPos:m}}const _v=JSON.parse('[{"s":"attacker","e":"attacker","ip":"","s2":"A","e2":"A","n":"","r":"","i":0,"level":"0","folder_img":"hacker","folder_type":[],"textset":{"icon":"","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"nb":"nb_wftj","one":true,"open":false,"children":[{"s":"attacker","e":"HostA","ip":"123.1.2.3","s2":"A","e2":"B","n":"","r":"","i":0,"level":"0","folder_img":"Server","folder_type":["language","person","wifi_find"],"textset":{"icon":"home","x":-47,"y":-22},"offset":{"strokeStyle":"0","x":-1,"y":-15,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":"","useLine":"","lineTheme":{"ed":1}},"nb":"nb_qEW0","one":false,"open":false,"children":[{"s":"HostA","e":"defger","s2":"B","e2":"C","n":"11111","r":"11111111\\noigpeorj","i":0,"level":"0-0","textset":{"icon":"settings","x":-87,"y":-81},"offset":{"strokeStyle":1,"x":1,"y":-68,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#00509d","nb":""},"nb":"nb_E1ge","children":[{"s":"defger","e":"y4y4y4y","s2":"C","e2":"D","n":"13333333","r":"1333333","i":0,"level":"0-0-0","textset":{"icon":"close","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_qgh2","children":[{"s":"y4y4y4y","e":"rsthj","s2":"D","e2":"G","n":"44444444","r":"444444","i":0,"level":"0-0-0-0","textset":{"icon":"settings","x":0,"y":-20},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_jrs3","children":[{"s":"rsthj","e":"HostA","s2":"G","e2":"B","n":"ttttttttttt","r":"rrrrrrr","i":0,"ip":"123.1.2.3","level":"0-0-0-0-0","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":10,"y":2,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#8b12db","nb":""},"textset":{"icon":"menu","x":-24,"y":-26},"nb":"nb_Vhvc","end":true,"useLine":"o_d"},{"s":"rsthj","e":"defger","s2":"G","e2":"C","n":"zzzzzz","r":"zzzzz","i":null,"ip":"51","level":"0-0-0-0-1","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":"2","x":10,"y":-14,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#ffa6c1","nb":""},"textset":{"x":9,"y":-33,"icon":"swap_horiz"},"nb":"nb_U8FL","one":false,"end":true,"useLine":"o_d"}],"folder_img":"pc","folder_type":[],"open":false,"ip":"6666","end":false,"useLine":"o_d"}],"folder_img":"Load_Balance","folder_type":["password"],"open":false,"ip":"5555","end":false},{"s":"defger","e":"ttttt","ip":"j","s2":"C","e2":"E","n":"xrthxethxtrhxrtjxr","r":"xetjxrtjxrfjxrtjxrtjxrtjxrthxthx","i":0,"level":"0-0-1","folder_img":"pc","folder_type":[],"textset":{"icon":"close","x":74,"y":-17},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#007200","nb":""},"nb":"nb_Reh4","children":[],"end":true,"open":false,"useLine":"o_d"},{"s":"defger","e":"uyuuy","s2":"C","e2":"F","n":"fghjjkj","r":"tdher------------------yn","i":0,"ip":"55644444","level":"0-0-2","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#004582","nb":""},"textset":{"icon":"search","x":13,"y":-117},"nb":"nb_ensp","end":true,"useLine":"o_d"}],"folder_img":"Web_Server","folder_type":["password"],"open":false,"ip":"51","end":false,"useLine":"o_d"},{"s":"HostA","e":"ttttt","ip":"j","s2":"B","e2":"E","n":"hhjjjjjjjj","r":"5555555","i":0,"level":"0-1","folder_img":"File_Server","folder_type":["wifi_find","do_not_step","password","subway"],"textset":{"icon":"settings","x":-20,"y":-31},"offset":{"strokeStyle":0,"x":0,"y":-24,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_rtO5","children":[{"s":"ttttt","e":"fewfefef","s2":"E","e2":"H","n":"6666666","r":"666666","i":0,"level":"0-1-0","textset":{"icon":"menu","x":-2,"y":-35},"offset":{"strokeStyle":0,"x":0,"y":-22,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_ugt6","children":[{"s":"fewfefef","e":"rsthj","s2":"H","e2":"G","n":"wegertj","r":"drtyjdtykdtyuk","i":null,"ip":"6666","level":"0-1-0-0","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":0,"x":0,"y":23,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#c9a690","nb":""},"textset":{"icon":"","x":-78,"y":61},"nb":"nb_ALYT","end":true,"useLine":"o_d"}],"folder_img":"File_Server","folder_type":["wifi_find"],"open":false,"ip":"553","end":false,"useLine":"o_d"},{"s":"ttttt","e":"wefg","ip":"44","s2":"E","e2":"I","n":"777777","r":"777777","i":0,"level":"0-1-1","folder_img":"vpn","folder_type":["password","wifi_find","do_not_step"],"textset":{"icon":"settings","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_ykr7","children":[{"s":"wefg","e":"wefef","s2":"I","e2":"J","n":"8888888","r":"888888","i":0,"level":"0-1-1-0","textset":{"icon":"close","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_ury8","children":[{"s":"wefef","e":"srtyjdtuykd","s2":"J","e2":"O","n":"erherhryk","r":"tukdtukdtukdtu","i":null,"ip":"terherydkty","level":"0-1-1-0-0","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":"0","x":-1,"y":-7,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#007200","nb":""},"textset":{"icon":"","x":24,"y":16},"nb":"nb_sVLq","end":true,"useLine":"o_d"},{"s":"wefef","e":"ttttt","s2":"J","e2":"E","n":"qqqqqqqqqq","r":"qqqqqqqqq","i":null,"ip":"j","level":"0-1-1-0-1","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":0,"x":6,"y":22,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":"2","color":"#ff006e","nb":""},"textset":{"x":63,"y":14,"icon":"settings"},"nb":"nb_d1a9","one":false,"end":true,"useLine":"o_d"}],"folder_img":"Web_Server","folder_type":["subway","person","apps"],"open":false,"ip":"77","end":false}],"end":false,"open":false},{"s":"ttttt","e":"uyuuy","ip":"55644444","s2":"E","e2":"F","n":"ititititiyryerhrhere","r":"rrrrrrrrreeyeryeyreyryerher","i":0,"level":"0-1-2","folder_img":"pc","folder_type":[],"textset":{"icon":"","x":24,"y":-28},"offset":{"strokeStyle":0,"x":-37,"y":5,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#6fffe9","nb":""},"nb":"nb_Jrr9","children":[],"end":true,"open":false,"useLine":"o_d"},{"s":"ttttt","e":"rsthj","s2":"E","e2":"G","n":"1fhrfyjry","r":"ryjxtukdcyil","i":null,"ip":"6666","level":"0-1-3","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":"1","x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":1,"color":"#8ac926","nb":""},"textset":{"x":6,"y":-10,"icon":""},"nb":"nb_kigS","one":false,"end":true,"useLine":"o_d"}],"end":false,"open":false,"useLine":"o_d"},{"s":"HostA","e":"uyuuy","ip":"55644444","s2":"B","e2":"F","n":"9999999","r":"99999999","i":0,"level":"0-2","folder_img":"Server","folder_type":["password","subway"],"textset":{"icon":"","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":20,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"nb":"nb_bu10","children":[{"s":"uyuuy","e":"wdfwfwfw","s2":"F","e2":"K","n":"ooiiuuuuuu","r":"uuuuuuu","i":0,"level":"0-2-0","textset":{"icon":"","x":0,"y":0},"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"nb":"nb_Ou11","children":[{"s":"wdfwfwfw","e":"wefg","ip":"44","s2":"K","e2":"I","n":"jjjtrtjjrethjeth","r":"wrhgxedtjxryjkxrtj","i":0,"level":"0-2-0-0","folder_img":"pc","folder_type":[],"textset":{"icon":"home","x":-2,"y":-31},"offset":{"strokeStyle":0,"x":-31,"y":-11,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#ffbe0b","nb":""},"nb":"nb_1Fi2","children":[],"end":true,"open":false,"useLine":"o_d"},{"s":"wdfwfwfw","e":"utrndfd","s2":"K","e2":"L","n":"777","r":"77777","i":0,"ip":"777777","level":"0-2-0-1","children":[{"s":"utrndfd","e":"HostA","s2":"L","e2":"B","n":"rrrrrrrr","r":"ttttt","i":0,"ip":"123.1.2.3","level":"0-2-0-1-0","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":"3","x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#8c703a","nb":""},"textset":{"icon":"star","x":0,"y":0},"nb":"nb_R3x5","end":true},{"s":"utrndfd","e":"wdfwfwfw","s2":"L","e2":"K","n":"----yyyyyyyyyyy","r":"bbbbbbb","i":0,"ip":"1111","level":"0-2-0-1-1","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":1,"y":-19,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#7b7b7b","nb":""},"textset":{"icon":"close","x":1,"y":-24},"nb":"nb_KBim","end":true,"useLine":"o_d"}],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":0,"y":21,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"textset":{"icon":"close","x":6,"y":15},"nb":"nb_q6CY","end":false,"useLine":"o_d"}],"folder_img":"SQL_Server","folder_type":["do_not_step"],"open":false,"ip":"1111","end":false},{"s":"uyuuy","e":"ttttt","ip":"j","s2":"F","e2":"E","n":"fghjctgyjxrthzerh","r":"xryjxfgnhxrthjzethjzetrhzethzerh","i":0,"level":"0-2-1","folder_img":"pc","folder_type":[],"textset":{"icon":"home","x":-28,"y":8},"offset":{"strokeStyle":0,"x":11,"y":-1,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#1B96F1","nb":""},"nb":"nb_1Pu3","children":[],"end":true,"open":false,"useLine":"o_d"},{"s":"uyuuy","e":"defger","s2":"F","e2":"C","n":"hhhhhhhhhhh","r":"jjjjjjjjjjjjjkkk","i":0,"ip":"589","level":"0-2-2","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#3772ff","nb":""},"textset":{"icon":"menu","x":-9,"y":78},"nb":"nb_86sn","end":true,"useLine":"o_d"},{"s":"uyuuy","e":"utrndfd","s2":"F","e2":"L","n":"88fesesryjs5yr88","r":"888srynsrynsrt88","i":0,"ip":"777777","level":"0-2-3","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":"3","x":-1,"y":9,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#1d8e8a","nb":""},"textset":{"icon":"menu","x":0,"y":0},"nb":"nb_xIt3","end":true}],"end":false,"open":false},{"s":"HostA","e":"rsthj","s2":"B","e2":"G","n":"ryjryj","r":"wregsrykdtykm","i":0,"ip":"6666","level":"0-3","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#1B96F1"},"textset":{"icon":"home","x":0,"y":0},"nb":"nb_T8pC","end":true},{"s":"HostA","e":"wefef","s2":"B","e2":"J","n":"ewreaet","r":"tsrth","i":0,"ip":"77","level":"0-4","children":[],"folder_img":"pc","folder_type":[],"open":false,"offset":{"strokeStyle":"2","x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#8ac926","nb":""},"textset":{"icon":"home","x":0,"y":0},"nb":"nb_KA5K","end":true}],"useLine":"o_d"},{"s":"attacker","e":"werger","s2":"A","e2":"N","n":"ednsrtgn","r":"ebzsertbzaeth","i":null,"ip":"erge","level":"","folder_img":"Server","folder_type":["wifi_find"],"children":[{"s":"werger","e":"srtyjdtuykd","s2":"N","e2":"O","n":"ksdryjks","r":"retjsrtj","i":null,"ip":"tydkty","level":"-0","folder_img":"pc","folder_type":[],"children":[{"s":"srtyjdtuykd","e":"wefef","s2":"O","e2":"J","n":"rtjsrtjsr","r":"tjsrtjsrtj","i":null,"ip":"77","level":"-0-0","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":0,"x":29,"y":26,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#f12939","nb":""},"textset":{"icon":"menu","x":313,"y":16},"nb":"nb_yGj3","end":true,"useLine":"o_d"}],"open":false,"offset":{"strokeStyle":0,"x":2,"y":-38,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"textset":{"icon":"close","x":-26,"y":-48},"nb":"nb_LVY4","end":false,"useLine":"o_d"}],"open":false,"offset":{"strokeStyle":0,"x":0,"y":17,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"textset":{"icon":"close","x":-4,"y":10},"nb":"nb_thre","one":false,"end":false,"useLine":"o_d"}]},{"s":"Unknown","e":"Unknown","s2":"R","e2":"R","n":"","r":"","i":null,"ip":"","level":"","folder_img":"hacker","folder_type":[],"children":[{"s":"Unknown","e":"wrhzedt","s2":"R","e2":"T","n":"rtjzer","r":"hzertjhzrtj","i":null,"ip":"hzetjz","level":"-0","folder_img":"Load_Balance","folder_type":["wysiwyg"],"children":[{"s":"wrhzedt","e":"zerzetj","s2":"T","e2":"U","n":"zetj","r":"WRh","i":null,"ip":"Werh","level":"-0-0","folder_img":"SQL_Server","folder_type":["swap_horiz","subway"],"children":[{"s":"zerzetj","e":"srtyjdtuykd","s2":"U","e2":"O","n":"srtjryj","r":"ryjxtyk","i":null,"ip":"terherydkty","level":"-0-0-0","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":0,"x":-30,"y":-9,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#ffbe0b","nb":""},"textset":{"x":-22,"y":-27,"icon":"close"},"nb":"nb_GGXY","one":false,"end":true,"useLine":"o_d"}],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"textset":{"x":0,"y":0,"icon":"menu"},"nb":"nb_MVfL","one":false,"end":false},{"s":"wrhzedt","e":"srtyjdtuykd","s2":"T","e2":"O","n":"ooooooooo","r":"ppppppppppp","i":null,"ip":"terherydkty","level":"-0-1","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":"3","x":1,"y":32,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#f12939","nb":""},"textset":{"x":-30,"y":33,"icon":"zoom_in"},"nb":"nb_pMGU","one":false,"end":true,"useLine":"o_d"}],"open":false,"offset":{"strokeStyle":0,"x":-1,"y":-28,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb","nb":""},"textset":{"x":-2,"y":-37,"icon":"search"},"nb":"nb_9ZIw","one":false,"end":false,"useLine":"o_d"},{"s":"Unknown","e":"zerhzetjd","s2":"R","e2":"V","n":"vfyilkdrtjs","r":"et5jseztj","i":null,"ip":"tukfcyil","level":"-1","folder_img":"Server","folder_type":[],"children":[{"s":"zerhzetjd","e":"defger","s2":"V","e2":"C","n":"yrkrky","r":"tultu","i":null,"ip":"51","level":"-1-0","folder_img":"pc","folder_type":[],"children":[],"open":false,"offset":{"strokeStyle":0,"x":-21,"y":-9,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#38a3a5","nb":""},"textset":{"x":-16,"y":-7,"icon":"star"},"nb":"nb_dB2f","one":false,"end":true,"useLine":"o_d"}],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"textset":{"x":6,"y":-14,"icon":"star"},"nb":"nb_ERpY","one":false,"end":false,"useLine":"n_d","lineTheme":{"st":1,"ed":4,"p":[[601.8181818181819,1662],[601.8181818181819,1905]]}}],"open":false,"offset":{"strokeStyle":0,"x":0,"y":0,"e_x":0,"e_y":0,"s_x":0,"s_y":0,"lineBox":0,"color":"#bbbbbb"},"textset":{"x":0,"y":0,"icon":""},"nb":"nb_sZGM","one":true,"end":false}]'),yv=new URL("/assets/html2canvas.min-Cf5W0gMM.js",import.meta.url).href,vv={name:"Mtk2MadPage",components:{ListPapa:Qy,Folders:hv},data(){return{urlBox:"URL_head",mdData:[],mrkData:[],pointBox:[],pointList:[],point2az:{},treeBox:[],nbm:0,a2z:"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz",listBoxData:[],typeStatus:pa,colorLinkBox:Cy,colorLink:"#353531",scalMen:[1,.8,.7,.55,.35,.25],scalPick:1,cPint:[],requestLastTime:null,dragStop:!1,pathStyleSet:{offset:{},nb:"",d:"",s2:"",ss2:[],e2:"",ee2:[],wh:"",lineTheme:{st:1,ed:1,p:[]},useLine:""},useSetLine:"",showPathSet:!1,setText:`+ 1 //  //  // 
+ 2 //  //  // 
+ 3 //  //  // 
+ 4 //  //  // `,setTextIndex:null,showText:!1,allPointList:[],allPoint:[],WnH:null,html2canvasRef:null}},created(){this.getMd()},mounted(){this.dragWidth(),this.dragBox(),this.scaleBox(.55),this.loadHtml2Canvas()},watch:{showPathSet(e){let t=document.getElementById("svgBox"),s=document.querySelector("."+this.pathStyleSet.nb),n=document.querySelector(".g_"+this.pathStyleSet.nb);const r=document.getElementById("e_"+this.pathStyleSet.nb)?.parentElement;e?(s&&(s.style.border="1px solid red",s.style.marginLeft="-1px"),t&&t.classList.add("focusMe"),n&&n.classList.add("focusEle"),r&&r.classList.add("focusEle")):(s&&(s.style.border="none",s.style.marginLeft="0"),t&&t.classList.remove("focusMe"),n&&n.classList.remove("focusEle"),r&&r.classList.remove("focusEle"),this.pathStyleSet={offset:{},nb:"",d:"",s2:"",ss2:[],e2:"",ee2:[],wh:"",lineTheme:{st:1,ed:1,p:[]},useLine:""})},"pathStyleSet.useLine":function(e){let t=this.pathStyleSet.nb,s=this.findIdValue(this.treeBox,"nb",t);s&&(s.useLine=e)},"pathStyleSet.lineTheme.st":function(e){let t=this.pathStyleSet.nb,s=this.findIdValue(this.treeBox,"nb",t);s&&(s.lineTheme??={},s.lineTheme.st=e)},"pathStyleSet.lineTheme.ed":function(e){let t=this.pathStyleSet.nb,s=this.findIdValue(this.treeBox,"nb",t);s&&(s.lineTheme??={},s.lineTheme.ed=e)}},computed:{allPointBox(){if(!this.treeBox)return[];let e=this.traverseData(this.treeBox);this.cPint=[];let t=e.map(n=>n.join());e=[...new Set(t)];let s=e.map(n=>n.split(","));return this.allPointList=s,s},treePointData(){const e=this.flattenData(this.treeBox);return this.ipPointList(e),e},safeTreePointData(){return(Array.isArray(this.treePointData)?this.treePointData:[]).filter(t=>t&&typeof t=="object").map(t=>({...t,n:t.n??"",r:t.r??"",textset:t.textset??{x:0,y:0,icon:""},offset:t.offset??{x:0,y:0,e_x:0,e_y:0,s_x:0,s_y:0,lineBox:0,color:"#bbbbbb"},lineTheme:t.lineTheme??{st:1,ed:1,p:[]}}))},useTypeState(){if(!this.treeBox)return[];let e=this.treeBox,t=new Set;function s(r){Array.isArray(r)&&r.forEach(l=>{l&&(l.folder_type&&l.folder_type.length>0&&l.folder_type.forEach(c=>{t.add(c)}),l.children&&l.children.length>0&&s(l.children))})}s(e);let n=[...t],o=[];return n.map(r=>{(this.typeStatus||[]).forEach(l=>{l[0]===r&&(o=[...o,l])})}),o}},methods:{loadExternalScript(e,t){return new Promise((s,n)=>{if(t&&window[t]){s(window[t]);return}const o=document.querySelector(`script[data-vendor-src="${e}"]`);if(o){o.addEventListener("load",()=>s(t?window[t]:!0),{once:!0});return}const r=document.createElement("script");r.src=e,r.async=!0,r.dataset.vendorSrc=e,r.onload=()=>s(t?window[t]:!0),r.onerror=()=>n(new Error(`${e}`)),document.head.appendChild(r)})},async loadHtml2Canvas(){this.html2canvasRef||(await this.loadExternalScript(yv,"html2canvas"),this.html2canvasRef=window.html2canvas)},async screenshot(){let e=window.prompt("","");if(this.scaleBox(1),e){var t=confirm("json");t?(await this.takePic("boxLi",e),this.downloadJSON(this.treeBox,e+".json")):await this.takePic("boxLi",e)}},async takePic(e,t){await this.loadHtml2Canvas();const s=this.html2canvasRef||window.html2canvas;if(!s){alert("html2canvas ");return}s(document.getElementById(e)).then(function(n){document.body.appendChild(n);let o=document.createElement("a");o.href=n.toDataURL("image/png").replace("image/png","image/octet-stream"),o.download=t+".png",o.click()})},traverseData(e){for(let t=0;t<e.length;t++){const s=e[t];s.e&&this.cPint.push([s.e,s.e2,s.ip]),s.children&&s.children.length>0&&this.traverseData(s.children)}return this.cPint},async getMd(){try{const e=JSON.parse(JSON.stringify(_v));this.resetTextOffsets(e),this.mdData=e,this.treeBox=e}catch(e){console.error("Error loading JSON:",e)}},resetTextOffsets(e){Array.isArray(e)&&e.forEach(t=>{!t||typeof t!="object"||(t.textset&&typeof t.textset=="object"&&(t.textset.x=0,t.textset.y=0),Array.isArray(t.children)&&t.children.length>0&&this.resetTextOffsets(t.children))})},ipPointList(e=[]){this.$nextTick(()=>{const t=document.getElementById("svgBox"),s=document.getElementById("boxLi");if(!t||!s)return;t.style.width=s.offsetWidth,t.style.height=s.offsetHeight+"px";let n={},o=[];e.forEach(r=>{if(!r||r.one&&r.end)return!1;o=[...o,r]}),o.forEach(r=>{n[r.e2]=this.toPoint(r.e2)}),this.listBoxData=n})},toPoint(e){let t=document.getElementById("point_"+e);if(!t)return[0,0,0,0];let s=Number(t.offsetWidth),n=Number(t.offsetHeight),o=Number(t.offsetLeft),r=Number(t.offsetTop);return this.WnH??=s,[o,r,s,n]},linkMaker(e){return mv(e,this.listBoxData)},renderArrow(e,t){this.$nextTick(()=>{if(!e)return;const s=this.linkMaker(e),n=s.link;let o=document.querySelector("#path_"+t);if(!o||!n)return;o.setAttribute("d",n);const r=s.textPos;let l=r[0],c=r[1];l=l+60;let a=c+20,d=document.querySelector("#text_"+t),u=document.querySelector("#rect_"+t),p=document.querySelector("#text_"+t+"_1"),h=document.querySelector("#text_"+t+"_2");if(!d||!u||!p)return!1;let f=d.getBBox().width,m=p.getBBox().width,y=f>m?f:m,x=l-y/2-15,k=e.n==""?c-5:c-25;if(d&&(d.setAttribute("x",l),d.setAttribute("y",c),p.setAttribute("x",l),p.setAttribute("y",a),u.setAttribute("x",x),u.setAttribute("y",k),u.setAttribute("width",y+30+"px"),u.setAttribute("height",e.r==""||e.n==""?"40px":"60px"),h)){const R=e.textset?.x??0,$=e.textset?.y??0;h.style.left=l+y/2+5+R+"px",h.style.top=c-40+$+"px"}})},dragBox(){const e=this,t=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",t)};let s,n,o=document.querySelector("#printable");if(!o)return;o.addEventListener("mousedown",r);function r(c){c.button===0&&(c.preventDefault(),s=c.clientX+o.scrollLeft,n=c.clientY+o.scrollTop,document.addEventListener("mousemove",l),document.addEventListener("mouseup",t))}function l(c){e.dragStop&&t(),o.scrollLeft=s-c.clientX,o.scrollTop=n-c.clientY}},dragWidth(){const e=document.querySelector(".mdTopng"),t=document.querySelector(".dragWidth");if(!t||!e)return;let s;t.addEventListener("mousedown",n);function n(l){e.offsetWidth,l.preventDefault(),s=l.clientX-t.offsetLeft,document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}function o(l){let c=l.clientX-s;e.style.width=c+"px"}function r(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)}},scaleBox(e){let t=document.querySelector("#mtkInit");t&&(t.style.transform=`scale(${e})`,this.scalPick=e)},flattenData(e,t=[]){if(!Array.isArray(e))return t;for(const s of e)!s||typeof s!="object"||(t.push({s:s.s??"",e:s.e??"",s2:s.s2??"",e2:s.e2??"",r:s.r??"",n:s.n??"",level:s.level??"",textset:s.textset??{x:0,y:0,icon:""},offset:s.offset??{x:0,y:0,e_x:0,e_y:0,s_x:0,s_y:0,lineBox:0,color:"#bbbbbb"},nb:s.nb??"",one:s.one||!1,useLine:s.useLine||"o_d",lineTheme:s.lineTheme||{st:1,ed:1,p:[]}}),Array.isArray(s.children)&&s.children.length>0&&this.flattenData(s.children,t));return t},dragSvgBox(e,t,s){const n=this;let o,r,l,c,a,d,u=document.querySelector(t);if(!u)return;u.addEventListener("mousedown",p);function p(m){o=m.clientX,r=m.clientY,l=e[s].x,c=e[s].y,m.preventDefault(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",f)}function h(m){n.dragStop=!0,a=m.clientX-o+l,d=m.clientY-r+c,e[s].x=a,e[s].y=d}function f(){n.dragStop=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)}},pathSet(e,t){let s=document.querySelector(".dataListMad"),n=document.querySelector("."+e.nb);if(!s||!n)return;s.scrollTop=0,s.scrollTop=n.getBoundingClientRect().top-(s.offsetTop+200),this.pathStyleSet=e,this.pathStyleSet.jj??=t;let o=this.toPoint(this.pathStyleSet.s2);this.pathStyleSet.ss2=[o[0],o[1]];let r=this.toPoint(this.pathStyleSet.e2);this.pathStyleSet.ee2=[r[0],r[1]],this.showPathSet=!0},strokeDasharray(e){let t="";return e==1?t="10,10":e==2?t="5,10,5,10":e==3&&(t="5,10,20,10"),t},setColor(e){this.pathStyleSet.offset.color=e},downMan(){let e=window.prompt("","");e&&this.downloadJSON(this.treeBox,e+".json")},downloadJSON(e,t){const s=JSON.stringify(e,null,2),n=new Blob([s],{type:"application/json"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download=t,document.body.appendChild(r),r.click(),URL.revokeObjectURL(o)},handleFileInput(e){const t=e.target.files[0],s=new FileReader;this.treeBox=[],this.mdData=[],this.allPoint=[],s.onload=()=>{const n=s.result;try{const o=JSON.parse(n);this.treeBox=o,this.mdData=o}catch(o){console.error("Error parsing JSON:",o)}},s.readAsText(t)},lightenColor(e){const[t,s,n]=e.match(/\w\w/g).map(a=>parseInt(a,16));let o=.85;const r=Math.min(255,Math.round(t*o)),l=Math.min(255,Math.round(s*o)),c=Math.min(255,Math.round(n*o));return`#${r.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`},openShowText(e){e==1&&this.textToJson(),this.setTextIndex=null,this.showText=!this.showText},textToJson(){let s=this.setText.split("+").filter(n=>n!=="");console.log(s)},addLinePoint(){let e=this.pathStyleSet.nb,t=this.findIdValue(this.treeBox,"nb",e);t.lineTheme??={st:1,ed:1,p:[]};let s=this.toPoint(this.pathStyleSet.s2),n=t.lineTheme.p.length==0?[[s[0],s[1]]]:t.lineTheme.p;const o=n[n.length-1],r=[[o[0]*1+20,o[1]*1+20]];let l=[...t.lineTheme.p,...r];t.lineTheme.p=l,this.pathStyleSet.lineTheme.p=l},removeLinePoint(){this.pathStyleSet.lineTheme.p.pop()},makeNewPoint(e,t,s){let n="",o="";return s.p.forEach(r=>{o=o+` L${r.join(",")}`}),n=`M${e.join(",")} ${o} L${t.join(",")}`,n},dMaker(e,t){this.$nextTick(()=>{let s=this.toPoint(e.s2),n=this.toPoint(e.e2),o=[s[0],s[1]],r=[n[0],n[1]],l=this.WnH*1,c=this.setS2E(o,e.lineTheme.st,l),a=this.setS2E(r,e.lineTheme.ed,l),d=this.makeNewPoint(c,a,e.lineTheme),u=document.getElementById("path_"+t+"_n");!u||!d||u.setAttribute("d",d)})},setS2E(e,t,s){let n=[];switch(t){case 1:n=[e[0]+s/2,e[1]-20];break;case 2:n=[e[0]+s+50,e[1]+s/2+20];break;case 3:n=[e[0]+s/2,e[1]+s+70];break;case 4:n=[e[0]-50,e[1]+s/2+20];break}return n},dragLineBox(e,t,s,n){let o=this,r,l,c,a,d,u;const p=this.scalPick||1,h=15,f=this.WnH,m=(o.pathStyleSet.ss2||[]).map(Number),y=(o.pathStyleSet.ee2||[]).map(Number),x=this.setS2E(m,o.pathStyleSet.lineTheme.st,f),k=this.setS2E(y,o.pathStyleSet.lineTheme.ed,f),$=(Array.isArray(this.treePointData)?this.treePointData:[])[s]?.lineTheme?.p||[];let A=document.querySelector(t);if(!A)return;A.addEventListener("mousedown",V);const D=(se,Se)=>{let Oe=se,F=Se,O=h+1,G=h+1;const E=[$[n-1],$[n+1],...n===0?[x]:[],...n===$.length-1?[k]:[]].filter(Boolean);for(const C of E){const H=Math.abs(se-C[0]),M=Math.abs(Se-C[1]);H<O&&(O=H,Oe=C[0]),M<G&&(G=M,F=C[1])}return O<=h&&(se=Oe),G<=h&&(Se=F),[se,Se]};function V(se){r=se.clientX,l=se.clientY,c=e[0],a=e[1],se.preventDefault(),se.stopPropagation(),document.addEventListener("mousemove",N),document.addEventListener("mouseup",B)}function N(se){se.preventDefault(),se.stopPropagation(),o.dragStop=!0,d=(se.clientX-r)/p+c,u=(se.clientY-l)/p+a,[d,u]=D(d,u),e[0]=d,e[1]=u}function B(){o.dragStop=!1,document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",B)}},findIdValue(e,t,s){if(Array.isArray(e))for(let n of e){const o=this.findIdValue(n,t,s);if(o)return o}else if(typeof e=="object"&&e!==null){if(e[t]===s)return e;for(let n in e){const o=this.findIdValue(e[n],t,s);if(o)return o}}},cloShowPathSet(){this.showPathSet=!1,this.$forceUpdate()}}},gv={class:"mtk2png mtk2mad","data-page":"mtk2mad"},bv={id:"mtkBox"},xv={class:"mdTopng"},wv={class:"dataListMad"},Sv={class:"setInText"},kv=["value"],$v={class:"readerPic"},Ev={class:"btn",for:"fileIpnut"},Av={id:"printable"},Cv={id:"mtkInit"},Tv={class:"box",id:"boxLi"},Pv=["id"],Lv=["fill"],Rv=["id"],Ov=["fill","stroke"],Mv=["transform"],Iv=["id","d","onClick","onMousedown","stroke","marker-start","marker-end","stroke-dasharray"],Dv=["id","d","onClick","onMousedown","stroke","marker-start","marker-end","stroke-dasharray"],Nv=["cx","cy","onMousedown"],jv=["onMousedown","onClick"],Vv=["id","stroke","fill","transform"],Bv=["transform"],Uv=["id"],Fv=["id"],Hv=["id"],zv={class:"material-icons"},qv={class:"typeList"},Wv={class:"material-icons"},Gv={class:"scale"},Kv=["onClick"],Jv={class:"pathStyleSet lsitCon"},Yv={class:"setInfo"},Xv={class:"colorSetBox"},Qv=["onClick"],Zv={class:"lineSetBox"},eg={class:"useSetLine"},tg={class:"useSetLine"},sg={key:0,class:"setBox_line"},ng={class:"setBox"},og={class:"line-theme-square"},rg=["value"],lg={class:"line-theme-square"},ig=["value"],ag={class:"center"};function cg(e,t,s,n,o,r){const l=Ne("ListPapa"),c=Ne("Folders");return v(),g("div",gv,[i("section",bv,[i("div",xv,[t[19]||(t[19]=i("h1",{class:"actTitle"},[ce("  "),i("small",null,[ce(" (  ) "),i("i",null," ")])],-1)),t[20]||(t[20]=i("small",null,"(  +  )",-1)),i("div",wv,[te(l,{"md-data":o.mdData,"tree-box":o.treeBox,"all-point":r.allPointBox},null,8,["md-data","tree-box","all-point"])]),Q(i("div",Sv,[Q(i("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.setTextIndex=a),class:fe(o.setTextIndex==null&&"onNo")},[t[17]||(t[17]=i("option",{value:null,disabled:"disabled",selected:"selected"},"",-1)),(v(!0),g(q,null,Z(r.allPointBox,(a,d)=>(v(),g("option",{key:d,value:a[0]},w(a[0]),9,kv))),128))],2),[[Mt,o.setTextIndex]]),Q(i("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.setText=a),placeholder:"+  //  //  // "},null,512),[[de,o.setText]]),i("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=a=>r.openShowText(1))},""),i("em",{class:"cloSetText",onClick:t[3]||(t[3]=a=>r.openShowText(0))},"X")],512),[[vt,o.showText]]),i("div",$v,[i("button",{class:"btn flex_1",type:"button",onClick:t[4]||(t[4]=(...a)=>r.downMan&&r.downMan(...a))},"json"),i("label",Ev,[i("input",{type:"file",id:"fileIpnut",onChange:t[5]||(t[5]=(...a)=>r.handleFileInput&&r.handleFileInput(...a))},null,32)]),i("button",{class:"top_right btn_dlo center btn",type:"button",onClick:t[6]||(t[6]=(...a)=>r.screenshot&&r.screenshot(...a))},[...t[18]||(t[18]=[i("span",{class:"material-icons"},"cloud_download",-1),i("b",null,"",-1)])])]),t[21]||(t[21]=i("div",{class:"dragWidth",title:""},[i("span",{class:"material-icons rr90"},"import_export")],-1))]),i("div",Av,[i("div",Cv,[i("ul",Tv,[(v(!0),g(q,null,Z(o.treeBox,(a,d)=>(v(),g("li",{key:d},[d===0?(v(),g("svg",{key:0,id:"svgBox",ref_for:!0,ref:"svg"},[(v(!0),g(q,null,Z(r.safeTreePointData,(u,p)=>(v(),g("g",{key:u.nb+"-marker"},[i("marker",{id:"e_"+u.nb,markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"4",refX:"0",refY:"2",orient:"auto"},[i("path",{d:"M 0 0 L 5 2 L 0 4 z",fill:u.offset.color},null,8,Lv)],8,Pv),i("marker",{id:"b_"+u.nb,viewBox:"-10 -10 70 70",refX:"10",refY:"10",markerWidth:"15",markerHeight:"15",orient:"auto"},[i("circle",{fill:u.offset.color,stroke:u.offset.color,"stroke-width":"4",cx:"10",cy:"10",r:"10"},null,8,Ov)],8,Rv),u.s!==u.e?(v(),g("g",{key:0,transform:`translate(${u.offset.x}, ${u.offset.y})`},[Q(i("path",{class:"testPath",id:"path_"+p,d:r.renderArrow(u,p),onClick:h=>r.pathSet(u,p),onMousedown:h=>r.dragSvgBox(u,"#path_"+p,"offset"),stroke:u.offset.color,fill:"none","marker-start":"url(#b_"+u.nb+")","marker-end":"url(#e_"+u.nb+")","stroke-width":"5","stroke-dasharray":r.strokeDasharray(u.offset.strokeStyle)},null,40,Iv),[[vt,!u.useLine||u.useLine=="o_d"]]),Q(i("g",null,[i("path",{class:"testPath",id:"path_"+p+"_n",d:r.dMaker(u,p),onClick:h=>r.pathSet(u,p),onMousedown:h=>r.dragSvgBox(u,"#path_"+p+"_n","offset"),stroke:u.offset.color,fill:"none","marker-start":"url(#b_"+u.nb+")","marker-end":"url(#e_"+u.nb+")","stroke-width":"5","stroke-dasharray":r.strokeDasharray(u.offset.strokeStyle)},null,40,Dv),(v(!0),g(q,null,Z(u.lineTheme.p,(h,f)=>Q((v(),g("circle",{key:f,fill:"#e21e6c",stroke:"#000000","stroke-width":"4",cx:h[0],cy:h[1],r:"18",onMousedown:m=>r.dragLineBox(u.lineTheme.p[f],".circle_"+u.nb+f,p,f),class:fe("circle_"+u.nb+f)},null,42,Nv)),[[vt,o.showPathSet]])),128))],512),[[vt,u.useLine=="n_d"]])],8,Mv)):ee("",!0)]))),128)),(v(!0),g(q,null,Z(r.safeTreePointData,(u,p)=>Q((v(),g("g",{key:u.nb+"-text",class:fe("g_"+u.nb),onMousedown:h=>r.dragSvgBox(u,".g_"+u.nb,"textset"),onClick:h=>r.pathSet(u,p)},[i("rect",{id:"rect_"+p,x:"0",y:"0",stroke:u.offset.color,"stroke-width":"3",width:"100",height:"40",fill:r.lightenColor(u.offset.color),rx:"6",ry:"6",transform:`translate(${u.textset.x},${u.textset.y})`},null,8,Vv),i("text",{class:"dragText",transform:`translate(${u.textset.x},${u.textset.y})`,x:" ",y:" ","text-anchor":"middle",fill:"#ffffff"},[i("tspan",{id:"text_"+p,x:" ",y:" ","font-size":"16"},w(u.n),9,Uv),i("tspan",{id:"text_"+p+"_1",x:" ",y:" ","font-size":"13"},w(u.r),9,Fv)],8,Bv)],42,jv)),[[vt,u.n!==""||u.r!==""]])),128))],512)):ee("",!0),te(c,{folder:a,nbm:d},null,8,["folder","nbm"]),d===0?(v(!0),g(q,{key:1},Z(r.safeTreePointData,(u,p)=>Q((v(),g("div",{class:"textIcon",id:"text_"+p+"_2",key:u.nb+"-icon",style:it(`border-color: ${u.offset.color}; background-color: ${u.offset.color};`)},[i("span",zv,w(u.textset.icon),1)],12,Hv)),[[vt,u&&u.textset&&u.textset.icon]])),128)):ee("",!0)]))),128)),i("div",qv,[(v(!0),g(q,null,Z(r.useTypeState,(a,d)=>(v(),g("b",{key:d},[i("span",Wv,w(a[0]),1),i("i",null,w(a[1]),1)]))),128))])])]),i("div",Gv,[i("ul",null,[(v(!0),g(q,null,Z(o.scalMen,(a,d)=>(v(),g("li",{key:d,class:fe(a===o.scalPick?"pickMen":""),onClick:u=>r.scaleBox(a)},w(a==1?"":a+" "),11,Kv))),128))])])]),Q(i("div",Jv,[i("div",{class:"cloShowPathSet",title:"",onClick:t[7]||(t[7]=a=>r.cloShowPathSet())},[...t[22]||(t[22]=[i("b",null,"X",-1)])]),i("div",Yv,[Q(i("input",{class:"flex_3 inp_1","onUpdate:modelValue":t[8]||(t[8]=a=>o.pathStyleSet.offset.color=a),style:it(`background-color: ${o.pathStyleSet.offset.color}55; border: 3px solid ${o.pathStyleSet.offset.color};`)},null,4),[[de,o.pathStyleSet.offset.color]]),Q(i("input",{class:"flex_1","onUpdate:modelValue":t[9]||(t[9]=a=>o.pathStyleSet.offset.strokeStyle=a),type:"number",max:"3",min:"0",placeholder:""},null,512),[[de,o.pathStyleSet.offset.strokeStyle]]),t[23]||(t[23]=i("button",{class:"btn",type:"button"},"",-1)),Q(i("input",{class:"flex_1","onUpdate:modelValue":t[10]||(t[10]=a=>o.pathStyleSet.offset.lineBox=a),type:"number",max:"3",min:"0",placeholder:""},null,512),[[de,o.pathStyleSet.offset.lineBox]]),t[24]||(t[24]=i("button",{class:"btn",type:"button"},"",-1))]),i("ul",Xv,[(v(!0),g(q,null,Z(o.colorLinkBox,(a,d)=>(v(),g("li",{onClick:u=>r.setColor(a),key:d,style:it(`background-color: ${a}; border-color: ${a==o.pathStyleSet.offset.color?a:"#ffffff"};`)},null,12,Qv))),128))]),t[33]||(t[33]=i("hr",null,null,-1)),i("div",Zv,[i("p",null,[t[27]||(t[27]=ce("  : ",-1)),i("label",eg,[Q(i("input",{type:"radio",name:"line",value:"o_d","onUpdate:modelValue":t[11]||(t[11]=a=>o.pathStyleSet.useLine=a)},null,512),[[ks,o.pathStyleSet.useLine]]),t[25]||(t[25]=ce(" ",-1))]),i("label",tg,[Q(i("input",{type:"radio",name:"line",value:"n_d","onUpdate:modelValue":t[12]||(t[12]=a=>o.pathStyleSet.useLine=a)},null,512),[[ks,o.pathStyleSet.useLine]]),t[26]||(t[26]=ce(" ",-1))])]),t[32]||(t[32]=i("hr",null,null,-1)),o.pathStyleSet.useLine==="n_d"?(v(),g("div",sg,[i("div",ng,[i("b",null,[t[28]||(t[28]=ce("  ",-1)),i("div",og,[(v(),g(q,null,Z(4,a=>i("label",{class:fe(["lineTheme",`theme-${a}`]),key:a},[Q(i("input",{type:"radio",value:a,"onUpdate:modelValue":t[13]||(t[13]=d=>o.pathStyleSet.lineTheme.st=d),name:"lineTheme"},null,8,rg),[[ks,o.pathStyleSet.lineTheme.st]])],2)),64))])]),t[30]||(t[30]=ce(" || ",-1)),i("b",null,[t[29]||(t[29]=ce("  ",-1)),i("div",lg,[(v(),g(q,null,Z(4,a=>i("label",{class:fe(["lineTheme",`theme-${a}`]),key:a},[Q(i("input",{type:"radio",value:a,"onUpdate:modelValue":t[14]||(t[14]=d=>o.pathStyleSet.lineTheme.ed=d),name:"lineTheme2"},null,8,ig),[[ks,o.pathStyleSet.lineTheme.ed]])],2)),64))])])]),t[31]||(t[31]=i("hr",{class:"hrLine"},null,-1)),i("p",ag,[i("button",{class:"btn addLinePoint",type:"button",onClick:t[15]||(t[15]=(...a)=>r.addLinePoint&&r.addLinePoint(...a))},""),i("button",{class:"btn addLinePoint",type:"button",onClick:t[16]||(t[16]=(...a)=>r.removeLinePoint&&r.removeLinePoint(...a))},"")])])):ee("",!0)])],512),[[vt,o.showPathSet]])])])}const ug=we(vv,[["render",cg]]),dg=Object.freeze(Object.defineProperty({__proto__:null,default:ug},Symbol.toStringTag,{value:"Module"})),fg=new URL("/assets/Chart.min-ft28wUaR.js",import.meta.url).href,pg=new URL("/assets/html2canvas.min-Cf5W0gMM.js",import.meta.url).href,hg=new URL("/assets/sweetalert.min-BH2NUiwL.js",import.meta.url).href,mg={name:"Mtk2MadMdEditorPage",data(){return{mdData:"",renderData:[],endData:[],iArr:[["star","00 ~ 08"],["wb_sunny","08 ~ 12"],["brightness_high","12 ~ 18"],["brightness_2","18 ~ 24"]],cName:[],cData:[],setComment:[""],commentBox:[["",-3]],mtChart:null,eventSource:"",resizeTimer:null,downloadName:"",html2canvasRef:null,chartRef:null,swalRef:null}},computed:{eventList(){let e=this.eventSource.replaceAll("\\\\n",`
`).replace("\n`","").replace(/^\s*|\s*$/g,"");e=e.replaceAll("				+ ","+ 				"),e=e.replaceAll("			+ ","+ 			"),e=e.replaceAll("		+ ","+ 		"),e=e.replaceAll("	+ ","+ 	"),e.replace("+ `","+ `\n"),e=e.split(`
`);let t=[];return e.forEach(s=>{t=[...t,s.split("+ ")[1]]}),t=t.filter(s=>s),t}},watch:{mdData:{handler(e,t){t!==[]&&this.mdToJson(e)},immediate:!1,deep:!1}},mounted(){this.loadVendors().then(()=>{this.renderChart()}),this.loadDefaultMdText(),this.dragBox(),window.onresize=()=>{clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.renderChart()},250)}},methods:{async loadDefaultMdText(){try{const e=new URL("/assets/md-BBevHUOD.text",import.meta.url).href,t=await fetch(e);if(!t.ok)return;this.mdData=await t.text()}catch(e){console.warn("md.text ",e)}},loadExternalScript(e,t){return new Promise((s,n)=>{if(t&&window[t]){s(window[t]);return}const o=document.querySelector(`script[data-vendor-src="${e}"]`);if(o){o.addEventListener("load",()=>s(t?window[t]:!0),{once:!0});return}const r=document.createElement("script");r.src=e,r.async=!0,r.dataset.vendorSrc=e,r.onload=()=>s(t?window[t]:!0),r.onerror=()=>n(new Error(`${e}`)),document.head.appendChild(r)})},async loadVendors(){this.chartRef||(await this.loadExternalScript(fg,"Chart"),this.chartRef=window.Chart||null),this.html2canvasRef||(await this.loadExternalScript(pg,"html2canvas"),this.html2canvasRef=window.html2canvas||null),this.swalRef||(await this.loadExternalScript(hg,"swal"),this.swalRef=window.swal||null)},showAlert(e,t){if(this.swalRef){this.swalRef(e,t,"error");return}alert(t)},mdToJson(e){if(!e){this.renderData=[],this.endData=[],this.cName=[],this.cData=[],this.setComment=[""],this.commentBox=[["",-3]],this.renderChart();return}let t=e.replaceAll("\\\\n",`
`).replace("\n`","").replace(/^\s*|\s*$/g,"");t.replace("+ `","+ `\n"),t=e.split(`
`);let s=[];t.forEach(l=>{s=[...s,l.split("+ ")[1]]}),s=s.filter(l=>l);const n=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;let o=[],r=[];s.forEach((l,c)=>{if(l=l.replaceAll("/","-"),n.test(l.substring(1,11))){isNaN(l.substring(12,14)*1)&&(l=l.slice(0,11)+" 25:00:00"+l.slice(11));const a=l.split("` ")[0].replace("`","");a.substring(10,11)!==" "&&this.showAlert("",`${a}`),r.length>0?(o.length===0?(o=[{}],o[0].start=r):o[o.length-1].ann=[...r],o=[...o,{time:l.substring(1,20).replace(/^\s*|\s*$/g,"").split(" "),con:l.substring(21).replace(/^\s*|\s*$/g,"")}],r=[]):o=[...o,{time:l.substring(1,20).replace(/^\s*|\s*$/g,"").split(" "),con:l.substring(21).replace(/^\s*|\s*$/g,"")}]}else c===s.length-1?(o[o.length-1].ann=[...r,l],r=[]):r=[...r,l]}),this.renderData=o,this.filterTime(o)},filterTime(e){let t={};e.forEach(o=>{o.time?(t[o.time[0]]===void 0&&(t[o.time[0]]=[]),t[o.time[0]].push({time:o.time[1],con:o.con,ann:o.ann})):t["0000-00-00"]=[{start:o.start,time:"00:00:01"}]});let s=Object.keys(t).sort(function(o,r){return o.replaceAll("-","")-r.replaceAll("-","")}),n=[];s.forEach(o=>{let r=[];r=t[o].sort(function(l,c){return l.time.replaceAll(":","")-c.time.replaceAll(":","")}),n=[...n,[o,r]]}),n.forEach(o=>{o[1].forEach(r=>{r.time.split(":")[0]*1==25&&(o[1]=[o[1].pop(),...o[1]])})}),this.endData=n,this.makeChart(n)},makeChart(e){let t={},s="",n=0,o="",r="",l=0,c=[];e.forEach(d=>{d[0]!=="0000-00-00"&&d[1].forEach(u=>{let p=u.time.split(":")[0],h=!1;if(p=="25"&&(p="12",h=!0,c.push([d[0],u.con])),o=d[0]+" "+p,s!==""&&o!==""){if(n=this.calculatingTime(s+" "+r,o),n>1&&n<=6){let m=Math.ceil(n);for(let y=1;y<m;y++){let x=parseInt(r)+y;t[d[0]+" "+x]=0}}if(n>6&&n<=12){let m=Math.ceil(n/2);for(let y=1;y<m;y++){let x=parseInt(r)+y*2;t[d[0]+" "+x]=0}}if(n>12&&n<=48){let m=Math.ceil(n/6);for(let y=1;y<m;y++)t[s+" ( + "+y*6+"hr)"]=0}let f=720;if(n>48&&n<=f){let m=Math.ceil(n/48);for(let y=1;y<m;y++)t[s+" ( + "+y*2+"day)"]=0}if(n>f){let m=Math.ceil(n/f);for(let y=1;y<m;y++)t[s+" ( + "+y+"mo.)"]=0}}p!==r&&(l=0,r=p),l++,h?(l=0,t[d[0]+" "]=1,r="12"):t[o]=l,s=d[0]}),l=0}),this.cName=Object.keys(t);let a=[];if(this.cName.forEach(d=>{a=[...a,t[d]]}),this.cData=a,this.setComment=this.cName.map(d=>d[0]!=="+"?d:""),this.commentBox=this.setComment.map(()=>["",-3]),a.length<4&&this.setComment.length>0){let d=this.setComment[0]+":00:00";d=d.replaceAll("-","/");let u=new Date(d);u.setHours(u.getHours()-1);let p=`${u.getFullYear()}-${(u.getMonth()*1<10?"0":"")+(u.getMonth()+1)}-${(u.getDate()*1<10?"0":"")+u.getDate()} ${(u.getHours()*1<10?"0":"")+u.getHours()}`,h=this.setComment[this.setComment.length-1]+":00:00";h=h.replaceAll("-","/");let f=new Date(h);f.setHours(f.getHours()+1);let m=`${f.getFullYear()}-${(f.getMonth()*1<10?"0":"")+(f.getMonth()+1)}-${(f.getDate()*1<10?"0":"")+f.getDate()} ${(f.getHours()*1<10?"0":"")+f.getHours()}`;this.setComment=[p,...this.setComment,m],this.commentBox=[["",-3],...this.commentBox,["",-3]],this.cName=this.setComment,this.cData=[0,...a,0]}c.forEach(d=>{let u=this.setComment.indexOf(d[0]+" ");u>=0&&(this.commentBox[u][0]=d[1])}),this.mtChart&&this.mtChart.destroy(),this.renderChart()},calculatingTime(e,t){let n=e+":00:00",o=t+":00:00",r=n.replaceAll("-","/"),l=o.replaceAll("-","/"),c=new Date(r),d=new Date(l)-c,u=Math.floor(d/36e5);return u>0&&(d=d-u*36e5),u},cutTime(e){return e.replace("-"," ").replace("-","/").split(" ")},SelectPic(e){let t=parseInt(e.split(":")[0]);return t<8?"star":t<12?"wb_sunny":t<18?"brightness_high":t<24?"brightness_2":"settings_suggest"},renderChart(){var e=document.getElementById("myChart"),t=this.commentBox;this.mtChart=new Chart(e,{responsive:!0,type:"line",fillColor:"rgba(14,72,100,1)",data:{labels:[...this.cName],datasets:[{label:"",data:[...this.cData],backgroundColor:"rgba(139, 18, 219, 0.3)",borderColor:"rgba(139, 18, 219, 0.8)",borderWidth:1}]},options:{scales:{yAxes:[{stacked:!0,id:"y-axis-1",ticks:{min:0,beginAtZero:!0,userCallback:function(s,n,o){if(Math.floor(s)===s)return s}}}],xAxes:[{ticks:{minRotation:65,autoskip:!1,display:!0,autoSkipPadding:10}}]},elements:{line:{tension:1e-6}},hover:{animationDuration:0},animation:{onComplete:function(){var s=this.chart;e=s.ctx,e.font=Chart.helpers.fontString(Chart.defaults.global.defaultFontSize,Chart.defaults.global.defaultFontStyle,Chart.defaults.global.defaultFontFamily),e.fillStyle="black",e.textAlign="center",e.textBaseline="bottom";var n=!1;this.data.datasets.forEach(function(o,r){var l=s.controller.getDatasetMeta(r);let c=l.data.length,a="#fc7232",d="#f12939",u="107, 7, 16",p="#ffffff";l.data.forEach(function(h,f){var m=o.data[f];m=m==0?"":m,e.fillText(m,h._model.x,h._model.y-5);let y=t[f][0];if(y){let k=e.measureText(y).width,R=0;n||(k=k*1.11,n=!0),f==0?(e.textAlign="start",R=h._model.x-5):f==c-1?(e.textAlign="end",R=h._model.x-k-5):(e.textAlign="center",R=h._model.x-k/2-5);let $=t[f][1];e.fillStyle="#000000",e.beginPath(),e.strokeStyle=a,e.lineJoin="round",e.lineWidth="8",e.fillStyle=a;let A=$>0?10*$+14:10*$-12;e.fillRect(h._model.x-1,h._model.y-A,2,10*$-6),e.strokeRect(R,h._model.y-10*$-10,k+10,18),e.fillRect(R,h._model.y-10*$-10,k+10,18);var x=e.createLinearGradient(R,h._model.y-10*$-10,R,h._model.y-10*$+9);x.addColorStop(0,a),x.addColorStop(.5,d),x.addColorStop(1,a),e.fillStyle=x,e.fillRect(R,h._model.y-10*$-10,k+10,18),e.closePath(),e.fill(),e.stroke(),e.shadowBlur=6,e.shadowColor=`rgba(${u},.75)`,e.fillStyle=p,e.font="10pt Arial",e.fillText(y,h._model.x,h._model.y-(4+($-1)*10)),e.stroke(),e.shadowBlur=0,e.fillStyle="#000000"}})})}}},plugins:[{beforeDraw:function(s,n){let o=document.getElementById("myChart"),r=o.getContext("2d");r.fillStyle="#ffffff",r.fillRect(0,0,o.width,o.height)}}]})},dragBox(){let e=this.$refs.printable,t=this.$refs.dragBox;if(!e||!t)return;let s,n;t.addEventListener("mousedown",o);function o(a){s=e.offsetWidth,a.preventDefault(),n=a.clientX-t.offsetLeft,document.addEventListener("mousemove",r),document.addEventListener("mouseup",c)}function r(a){let d=a.clientX-n;e.style.width=s-d+"px"}const l=this;function c(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",c),l.writeCom()}},writeCom(){this.mtChart&&this.mtChart.destroy(),this.renderChart()},pickMeWord(e){let t=e,s=!1;function n(){return s=!s,s?"<em>":"</em>"}t=t.replace(/`/g,n);let o=t.split("	").length-1;return[t,o]},screenshot(){let e=window.prompt("","");e&&(this.downloadName=e,this.takePic("attackHistory","_history",e).then(()=>{setTimeout(()=>{window.confirm("")?this.bigPic(e):this.takePicLine("myChart","_line",e)},1500)}))},bigPic(e){const t=this.$refs.mdTopng,s=this.$refs.printable;t&&s&&(t.setAttribute("style","flex: 0 0 0px !important; min-width: 0px !important;"),s.setAttribute("style","width: 100% !important;")),this.writeCom(),setTimeout(()=>{this.attackHistory(e)},2e3)},attackHistory(e){this.takePicLine("myChart","_line",e),setTimeout(()=>{const t=this.$refs.mdTopng,s=this.$refs.printable;t&&s&&(t.setAttribute("style","display:block;min-width: 200px !important;"),s.setAttribute("style","width: 900px !important;")),this.writeCom()},500)},async takePic(e,t,s){const n=this.html2canvasRef||window.html2canvas;if(!n){this.showAlert("","html2canvas ");return}const o=document.getElementById(e);if(!o)return;const r=await n(o);document.body.appendChild(r);let l=document.createElement("a");l.href=r.toDataURL("image/jpeg",1).replace("image/jpeg","image/octet-stream"),l.download=s+t+".jpg",l.click()},takePicLine(e,t,s){let n=document.getElementById(e);if(!n)return;let o=document.createElement("a");o.href=n.toDataURL("image/jpeg",1).replace("image/jpeg","image/octet-stream"),o.download=s+t+".jpg",o.click()}}},_g={class:"mdeditor","data-page":"mdeditor"},yg={class:"sys_title"},vg={id:"mdBox"},gg={class:"mdTopng",ref:"mdTopng"},bg={id:"printable",ref:"printable"},xg={id:"myChart",ref:"myChart"},wg={class:"setComment"},Sg={class:"conLeft"},kg={class:"center"},$g=["onUpdate:modelValue"],Eg=["onUpdate:modelValue"],Ag={class:"conLeft"},Cg={id:"attackHistory",ref:"attackHistory"},Tg={class:"timePeriod"},Pg={class:"list"},Lg={class:"material-icons"},Rg={key:0},Og=["innerHTML"],Mg={key:1},Ig={class:"date"},Dg={class:"material-icons"},Ng={class:"content"},jg=["innerHTML"],Vg={key:0,class:"ann"},Bg=["innerHTML"],Ug={key:0,class:"eventBox"},Fg=["innerHTML"],Hg={class:"dragBox",ref:"dragBox"};function zg(e,t,s,n,o,r){return v(),g("div",_g,[i("section",yg,[t[5]||(t[5]=i("h1",null,[ce(" md => png "),i("b",null," [  ] ")],-1)),i("button",{class:"top_right btn_dlo center",type:"button",onClick:t[0]||(t[0]=(...l)=>r.screenshot&&r.screenshot(...l))},[...t[4]||(t[4]=[i("span",{class:"material-icons"},"cloud_download",-1),i("b",null,"",-1)])])]),i("section",vg,[i("div",gg,[Q(i("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.mdData=l),placeholder:"+ YYYY-MM-DD HH:MM:SS "},null,512),[[de,o.mdData]])],512),i("div",bg,[i("canvas",xg,null,512),i("div",wg,[i("h2",null,[t[6]||(t[6]=ce("  ",-1)),i("b",{class:"okBtn",onClick:t[2]||(t[2]=(...l)=>r.writeCom&&r.writeCom(...l))},"")]),i("div",Sg,[i("ul",null,[e.item!==""?(v(!0),g(q,{key:0},Z(o.setComment,(l,c)=>(v(),g("li",{key:l+c},[i("label",kg,[ce(w(l)+" ",1),Q(i("input",{"onUpdate:modelValue":a=>o.commentBox[c][0]=a,placeholder:"",type:"text"},null,8,$g),[[de,o.commentBox[c][0]]]),Q(i("input",{class:"numberBox","onUpdate:modelValue":a=>o.commentBox[c][1]=a,type:"number",min:"-9",max:"11"},null,8,Eg),[[de,o.commentBox[c][1],void 0,{number:!0}]])])]))),128)):ee("",!0)])]),t[7]||(t[7]=i("h2",null,"",-1)),i("div",Ag,[Q(i("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.eventSource=l)},null,512),[[de,o.eventSource]])])]),i("div",Cg,[i("div",null,[i("div",Tg,[i("div",Pg,[t[8]||(t[8]=ce("  ",-1)),(v(!0),g(q,null,Z(o.iArr,(l,c)=>(v(),g("div",{class:fe(["list_li center",l[0]]),key:c},[i("span",Lg,w(l[0]),1),i("b",null,w(l[1]),1)],2))),128))])]),(v(!0),g(q,null,Z(o.endData,(l,c)=>(v(),g("div",{class:"timeBox",key:c},[l[0]=="0000-00-00"?(v(),g("h2",Rg,[(v(!0),g(q,null,Z(l[1][0].start,(a,d)=>(v(),g("p",{key:d,innerHTML:r.pickMeWord(a)[0]},null,8,Og))),128))])):(v(),g("div",Mg,[i("h1",Ig,[i("b",null,w(r.cutTime(l[0])[0]),1),i("em",null,w(r.cutTime(l[0])[1]),1)]),(v(!0),g(q,null,Z(l[1],(a,d)=>(v(),g("div",{class:"detail",key:d},[i("b",{class:fe(["title center",r.SelectPic(a.time)])},[i("span",Dg,w(r.SelectPic(a.time)),1),i("em",null,w(parseInt(a.time.split(":")[0])==25?a.con:a.time),1)],2),i("div",Ng,[Q(i("p",{innerHTML:r.pickMeWord(a.con)[0]},null,8,jg),[[vt,parseInt(a.time.split(":")[0])!==25]]),a.ann?(v(),g("ul",Vg,[(v(!0),g(q,null,Z(a.ann,(u,p)=>(v(),g("li",{key:p},[i("b",{innerHTML:r.pickMeWord(u)[0]},null,8,Bg)]))),128))])):ee("",!0)])]))),128))]))]))),128))]),r.eventList.length>0?(v(),g("div",Ug,[t[9]||(t[9]=i("h3",null,"",-1)),i("h2",null,[(v(!0),g(q,null,Z(r.eventList,(l,c)=>(v(),g("p",{key:c,style:it("padding-left: "+r.pickMeWord(l)[1]*2+"em"),innerHTML:r.pickMeWord(l)[0]},null,12,Fg))),128))])])):ee("",!0)],512),i("div",Hg,null,512)],512)])])}const qg=we(mg,[["render",zg],["__scopeId","data-v-ac61db81"]]),Wg=Object.freeze(Object.defineProperty({__proto__:null,default:qg},Symbol.toStringTag,{value:"Module"})),Gg={class:"notification-page"},Kg={class:"hero"},Jg={class:"hero-main"},Yg={class:"hero-meta"},Xg={class:"meta-pill"},Qg={class:"meta-pill"},Zg={class:"meta-pill"},e0={class:"hero-actions"},t0={class:"kpi-grid"},s0={class:"kpi-label"},n0={class:"kpi-value"},o0={class:"kpi-hint"},r0={class:"tester"},l0={class:"grid"},i0={class:"panel"},a0={class:"panel-head"},c0=["disabled"],u0={class:"panel-body"},d0={class:"list"},f0=["onClick"],p0={class:"row-main"},h0={class:"row-title"},m0={class:"time"},_0={class:"row-meta"},y0={class:"meta-item"},v0={key:0,class:"notify-row empty"},g0={class:"panel"},b0={class:"panel-head"},x0={class:"panel-body"},w0={class:"list"},S0={class:"row-main"},k0={class:"row-title"},$0={class:"tag"},E0={class:"row-meta"},A0={class:"meta-item"},C0={class:"meta-item"},T0={key:0,class:"task-row empty"},P0={key:1,class:"task-row empty"},L0={class:"panel"},R0={class:"panel-head"},O0={class:"panel-body"},M0={class:"list"},I0={class:"row-main"},D0={class:"row-title"},N0={class:"row-meta"},j0={class:"meta-item"},V0={class:"meta-item"},B0={key:0,class:"vote-row empty"},U0={key:1,class:"vote-row empty"},F0={class:"panel"},H0={class:"panel-head"},z0={class:"panel-body"},q0={class:"stat-row"},W0={class:"stat-box"},G0={class:"value"},K0={class:"stat-box"},J0={class:"value"},Y0={key:0,class:"empty"},X0={class:"panel span"},Q0={class:"panel-body"},Z0={class:"activity"},eb={class:"row-main"},tb={class:"row-title"},sb={class:"time"},nb={class:"row-meta"},ob={class:"meta-item"},rb={class:"meta-item"},lb={key:0,class:"activity-row empty"},ib={key:1,class:"activity-row empty"},ab={__name:"NotificationPage",setup(e){const t=ie.list().stores||[],s=t.includes("taskStore"),n=t.includes("employeeStore"),o=t.includes("voteStore"),r=t.includes("notificationStore"),l=r?ie.resolve("notificationStore"):null,c=s?ie.resolve("taskStore"):null,a=n?ie.resolve("employeeStore"):null,d=o?ie.resolve("voteStore"):null,u=ie.getService("eventBus"),p=U(()=>l?.state.list||[]),h=U(()=>l?.state.unread||0),f=U(()=>c?.state.tasks||[]),m=U(()=>a?.state.list||[]),y=U(()=>d?.state.list||[]);function x(E){if(!E)return null;const C=typeof E=="string"?E.trim():E,H=new Date(C);if(!isNaN(H))return H;if(typeof C=="string"&&C.includes(" ")){const M=new Date(C.replace(" ","T"));return isNaN(M)?null:M}return null}function k(E){const C=x(E);if(!C)return"";const H=String(C.getMonth()+1).padStart(2,"0"),M=String(C.getDate()).padStart(2,"0");return`${C.getFullYear()}/${H}/${M}`}function R(E){if(!E)return"";const C=x(E);if(!C)return String(E);const H=String(C.getMonth()+1).padStart(2,"0"),M=String(C.getDate()).padStart(2,"0"),Ce=String(C.getHours()).padStart(2,"0"),je=String(C.getMinutes()).padStart(2,"0");return`${H}/${M} ${Ce}:${je}`}function $(E){if(!E?.due_date)return"";const C=x(E.due_date);if(!C)return"";const H=new Date;H.setHours(0,0,0,0);const M=new Date(C);return M.setHours(0,0,0,0),M<H?` ${k(C)}`:` ${k(C)}`}function A(E){return E.rule?.mode==="all"?` (${E.votesReceived}/${E.rule.totalVoters||""})`:E.rule?.deadline?` ${k(E.rule.deadline)}`:""}const D=U(()=>{const E=f.value,C=E.length,H=E.filter(Me=>Me.status==="todo").length,M=E.filter(Me=>Me.status==="doing").length,Ce=E.filter(Me=>Me.status==="done").length,je=H+M;return{total:C,todo:H,doing:M,done:Ce,active:je}}),V=U(()=>{const E=m.value,C=E.length,H=E.filter(Ce=>(Ce.status||"active")==="active").length,M=C-H;return{total:C,active:H,inactive:M}}),N=U(()=>{const E=y.value,C=E.length,H=E.filter(je=>je.status!=="closed").length,M=C-H,Ce=E.reduce((je,Me)=>je+Number(Me.votesReceived||0),0);return{total:C,open:H,closed:M,votesReceived:Ce}}),B=U(()=>{if(!s)return[];const E=new Date,C=new Date(E);C.setHours(0,0,0,0);const H=new Date(C);return H.setDate(H.getDate()+7),f.value.filter(M=>M.status!=="done"&&M.due_date).map(M=>({task:M,date:x(M.due_date)})).filter(M=>M.date&&M.date<=H).sort((M,Ce)=>M.date-Ce.date).map(M=>M.task).slice(0,6)}),se=U(()=>{if(!s)return[];const E=[];return f.value.forEach(C=>{(C.events||[]).forEach(H=>{E.push({title:C.title||"",meta:H.text||"",user:H.user||"",time:R(H.created_at),sortTime:x(H.created_at)?.getTime()||0})})}),E.sort((C,H)=>H.sortTime-C.sortTime).slice(0,6)}),Se=U(()=>o?y.value.filter(E=>E.status!=="closed").slice(0,6):[]),Oe=U(()=>[{label:"",value:r?h.value:"",hint:r?` ${p.value.length}`:"",tone:"notify"},{label:"",value:s?D.value.total:"",hint:s?` ${D.value.active}`:"",tone:"task"},{label:"",value:n?V.value.total:"",hint:n?` ${V.value.active}`:"",tone:"team"},{label:"",value:o?N.value.open:"",hint:o?` ${N.value.total}`:"",tone:"vote"}]);function F(){l?.markAllAsRead()}function O(E){E&&l?.markAsRead(E)}function G(E){const C={task:{title:"",content:""},member:{name:"New User"},booking:{content:""},system:{title:"",content:""}};u.emit(E==="task"?"task.created":E==="member"?"member.added":E==="booking"?"booking.completed":"system.info",C[E])}return Dt(async()=>{const E=[];r&&E.push({name:"notification",run:()=>ua.fetchList()}),s&&E.push({name:"task",run:()=>lt.fetchList()}),n&&E.push({name:"employee",run:()=>ls.fetchList()}),o&&E.push({name:"vote",run:()=>os.fetchList()}),(await Promise.allSettled(E.map(H=>H.run()))).forEach((H,M)=>{H.status==="rejected"&&console.error(`[notification] ${E[M].name} fetch failed`,H.reason)})}),(E,C)=>{const H=Ne("RouterLink");return v(),g("div",Gg,[i("header",Kg,[i("div",Jg,[C[4]||(C[4]=i("p",{class:"kicker"},"",-1)),C[5]||(C[5]=i("h1",{class:"hero-title"},"",-1)),C[6]||(C[6]=i("p",{class:"subtitle"},"",-1)),i("div",Yg,[i("span",Xg," "+w(D.value.active),1),i("span",Qg," "+w(N.value.open),1),i("span",Zg," "+w(V.value.active),1)])]),i("div",e0,[te(H,{class:"ghost",to:"/task"},{default:ge(()=>[...C[7]||(C[7]=[ce("",-1)])]),_:1}),te(H,{class:"ghost",to:"/vote"},{default:ge(()=>[...C[8]||(C[8]=[ce("",-1)])]),_:1}),te(H,{class:"ghost",to:"/employee"},{default:ge(()=>[...C[9]||(C[9]=[ce("",-1)])]),_:1})])]),i("section",t0,[(v(!0),g(q,null,Z(Oe.value,M=>(v(),g("article",{class:fe(["kpi-card",`tone-${M.tone}`]),key:M.label},[i("p",s0,w(M.label),1),i("p",n0,w(M.value),1),i("p",o0,w(M.hint),1)],2))),128))]),i("section",r0,[C[10]||(C[10]=i("span",null,"",-1)),i("button",{onClick:C[0]||(C[0]=M=>G("task"))},""),i("button",{onClick:C[1]||(C[1]=M=>G("member"))},""),i("button",{onClick:C[2]||(C[2]=M=>G("booking"))},""),i("button",{onClick:C[3]||(C[3]=M=>G("system"))},"")]),i("section",l0,[i("article",i0,[i("div",a0,[C[11]||(C[11]=i("h2",null,"",-1)),i("button",{class:"mark",onClick:F,disabled:p.value.length===0},"",8,c0)]),i("div",u0,[i("ul",d0,[(v(!0),g(q,null,Z(p.value.slice(0,8),M=>(v(),g("li",{class:fe(["notify-row",{unread:!M.read}]),key:M.id,onClick:Ce=>O(M.id)},[i("div",p0,[i("div",h0,w(M.title),1),i("span",m0,w(R(M.created_at)),1)]),i("div",_0,[i("span",y0,w(M.content||""),1)])],10,f0))),128)),p.value.length===0?(v(),g("li",v0,"")):ee("",!0)])])]),i("article",g0,[i("div",b0,[C[13]||(C[13]=i("h2",null,"",-1)),te(H,{class:"link",to:"/task"},{default:ge(()=>[...C[12]||(C[12]=[ce("",-1)])]),_:1})]),i("div",x0,[i("ul",w0,[(v(!0),g(q,null,Z(B.value,M=>(v(),g("li",{class:"task-row",key:M.id},[i("div",S0,[i("div",k0,w(M.title),1),i("span",$0,w(M.status||"todo"),1)]),i("div",E0,[i("span",A0," "+w(M.assignee||""),1),i("span",C0,w($(M)),1)])]))),128)),Be(s)?B.value.length===0?(v(),g("li",P0,"")):ee("",!0):(v(),g("li",T0,""))])])]),i("article",L0,[i("div",R0,[C[15]||(C[15]=i("h2",null,"",-1)),te(H,{class:"link",to:"/vote"},{default:ge(()=>[...C[14]||(C[14]=[ce("",-1)])]),_:1})]),i("div",O0,[i("ul",M0,[(v(!0),g(q,null,Z(Se.value,M=>(v(),g("li",{class:"vote-row",key:M.id},[i("div",I0,[i("div",D0,w(M.title),1),C[16]||(C[16]=i("span",{class:"tag open"},"",-1))]),i("div",N0,[i("span",j0,w(A(M)),1),i("span",V0," "+w(M.votesReceived||0)+" ",1)])]))),128)),Be(o)?Se.value.length===0?(v(),g("li",U0,"")):ee("",!0):(v(),g("li",B0,""))])])]),i("article",F0,[i("div",H0,[C[18]||(C[18]=i("h2",null,"",-1)),te(H,{class:"link",to:"/employee"},{default:ge(()=>[...C[17]||(C[17]=[ce("",-1)])]),_:1})]),i("div",z0,[i("div",q0,[i("div",W0,[C[19]||(C[19]=i("span",{class:"label"},"",-1)),i("span",G0,w(V.value.active),1)]),i("div",K0,[C[20]||(C[20]=i("span",{class:"label"},"",-1)),i("span",J0,w(V.value.inactive),1)])]),Be(n)?ee("",!0):(v(),g("p",Y0,""))])]),i("article",X0,[C[21]||(C[21]=i("div",{class:"panel-head"},[i("h2",null,""),i("span",{class:"panel-note"},"")],-1)),i("div",Q0,[i("ul",Z0,[(v(!0),g(q,null,Z(se.value,(M,Ce)=>(v(),g("li",{class:"activity-row",key:Ce},[i("div",eb,[i("div",tb,w(M.title),1),i("span",sb,w(M.time),1)]),i("div",nb,[i("span",ob,w(M.user),1),i("span",rb,w(M.meta),1)])]))),128)),Be(s)?se.value.length===0?(v(),g("li",ib,"")):ee("",!0):(v(),g("li",lb,""))])])])])])}}},cb=we(ab,[["__scopeId","data-v-8ca3bc5d"]]),ub=Object.freeze(Object.defineProperty({__proto__:null,default:cb},Symbol.toStringTag,{value:"Module"})),db="/assets/moduCore_con-ZvpeKD1B.png",fb={class:"landing"},pb={class:"hero"},hb={class:"imgBox"},mb=["src"],_b={class:"grid"},yb={id:"modules",class:"modules"},vb={class:"module-grid"},gb={__name:"home",setup(e){const t=[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""}],s=[{name:"Dashboard",desc:"",to:"/dashboard"},{name:"Employee",desc:"",to:"/employee"},{name:"Task",desc:"",to:"/task"},{name:"Vote",desc:"",to:"/vote"}];return(n,o)=>{const r=Ne("RouterLink");return v(),g("div",fb,[i("header",pb,[o[0]||(o[0]=i("div",{class:"eyebrow"},"",-1)),o[1]||(o[1]=i("h1",null,"",-1)),o[2]||(o[2]=i("p",null,[ce("  "),i("strong",null,"ModuCore Project Assembly Engine"),ce("  "),i("br"),i("br"),ce("  API     ")],-1)),i("div",hb,[i("img",{src:Be(db),alt:""},null,8,mb)]),o[3]||(o[3]=i("div",{class:"cta"},[i("a",{href:"",class:"primary"},""),i("a",{href:"",class:"ghost"},"")],-1))]),i("section",_b,[(v(),g(q,null,Z(t,l=>i("article",{key:l.title,class:"card"},[i("h3",null,w(l.title),1),i("p",null,w(l.desc),1)])),64))]),i("section",yb,[o[5]||(o[5]=i("h2",null,"",-1)),o[6]||(o[6]=i("p",{class:"hint"},"   ",-1)),i("div",vb,[(v(),g(q,null,Z(s,l=>i("article",{key:l.name,class:"module-card"},[i("h3",null,w(l.name),1),i("p",null,w(l.desc),1),te(r,{to:l.to,class:"link"},{default:ge(()=>[...o[4]||(o[4]=[ce("",-1)])]),_:1},8,["to"])])),64))])])])}}},bb=we(gb,[["__scopeId","data-v-1090aaaf"]]),xb=Object.freeze(Object.defineProperty({__proto__:null,default:bb},Symbol.toStringTag,{value:"Module"})),wb={class:"error-page is-403"},Sb={class:"error-card"},kb={class:"actions"};function $b(e,t){const s=Ne("router-link");return v(),g("div",wb,[t[4]||(t[4]=i("div",{class:"orb orb--one"},null,-1)),t[5]||(t[5]=i("div",{class:"orb orb--two"},null,-1)),i("div",Sb,[t[2]||(t[2]=pr('<div class="pill-row" data-v-ecc127b8><span class="pill" data-v-ecc127b8></span><span class="code-badge" data-v-ecc127b8>403</span></div><h1 data-v-ecc127b8></h1><p class="lead" data-v-ecc127b8></p><div class="status-grid" data-v-ecc127b8><div class="status-card" data-v-ecc127b8><h3 data-v-ecc127b8></h3><ul data-v-ecc127b8><li data-v-ecc127b8></li><li data-v-ecc127b8></li><li data-v-ecc127b8></li></ul></div><div class="status-card" data-v-ecc127b8><h3 data-v-ecc127b8></h3><ul data-v-ecc127b8><li data-v-ecc127b8></li><li data-v-ecc127b8></li><li data-v-ecc127b8></li></ul></div></div>',4)),i("div",kb,[te(s,{class:"primary-cta",to:"/"},{default:ge(()=>[...t[0]||(t[0]=[ce("",-1)])]),_:1}),te(s,{class:"ghost-cta",to:"/"},{default:ge(()=>[...t[1]||(t[1]=[ce("",-1)])]),_:1})]),t[3]||(t[3]=i("div",{class:"note"},[i("span",{class:"tag"},""),i("span",null,"")],-1))])])}const Eb={},Ab=we(Eb,[["render",$b],["__scopeId","data-v-ecc127b8"]]),Cb=Object.freeze(Object.defineProperty({__proto__:null,default:Ab},Symbol.toStringTag,{value:"Module"})),Tb={class:"error-page is-404"},Pb={class:"error-card"},Lb={class:"hints"},Rb={class:"hint-card"},Ob={class:"chips"},Mb={class:"actions"};function Ib(e,t){const s=Ne("router-link");return v(),g("div",Tb,[t[10]||(t[10]=i("div",{class:"orb orb--one"},null,-1)),t[11]||(t[11]=i("div",{class:"orb orb--two"},null,-1)),i("div",Pb,[t[6]||(t[6]=i("div",{class:"pill-row"},[i("span",{class:"pill"},""),i("span",{class:"code-badge"},"404")],-1)),t[7]||(t[7]=i("h1",null,"",-1)),t[8]||(t[8]=i("p",{class:"lead"},"",-1)),i("div",Lb,[t[3]||(t[3]=i("div",{class:"hint-card"},[i("h3",null,""),i("ul",null,[i("li",null,""),i("li",null,""),i("li",null,"")])],-1)),i("div",Rb,[t[2]||(t[2]=i("h3",null,"",-1)),i("div",Ob,[te(s,{class:"chip",to:"/"},{default:ge(()=>[...t[0]||(t[0]=[ce("",-1)])]),_:1}),te(s,{class:"chip",to:"/"},{default:ge(()=>[...t[1]||(t[1]=[ce("/",-1)])]),_:1})])])]),i("div",Mb,[te(s,{class:"primary-cta",to:"/"},{default:ge(()=>[...t[4]||(t[4]=[ce("",-1)])]),_:1}),te(s,{class:"ghost-cta",to:"/"},{default:ge(()=>[...t[5]||(t[5]=[ce("",-1)])]),_:1})]),t[9]||(t[9]=i("div",{class:"note"},[i("span",{class:"tag"},""),i("span",null," 404")],-1))])])}const Db={},Nb=we(Db,[["render",Ib],["__scopeId","data-v-7b15aa90"]]),jb=Object.freeze(Object.defineProperty({__proto__:null,default:Nb},Symbol.toStringTag,{value:"Module"})),Vb={class:"task-layout"},Bb={class:"module-body"},Ub={__name:"TaskLayout",setup(e){so();const t=ie.resolve("auth");return U(()=>t.state.user||{}),(s,n)=>(v(),g("div",Vb,[i("div",Bb,[Si(s.$slots,"default",{},void 0,!0)])]))}},Fb=we(Ub,[["__scopeId","data-v-f2d69468"]]),Hb={class:"pane left"},zb={class:"toolbar"},qb=["value"],Wb=["value"],Gb=["value"],Kb={class:"row"},Jb=["value"],Yb={class:"member-options"},Xb=["onClick"],Qb={key:0,class:"member-tags"},Zb=["onClick"],e1={class:"list"},t1=["onClick"],s1={class:"top"},n1={class:"owner"},o1={class:"desc"},r1={class:"meta"},l1={class:"badge"},i1={class:"badge"},a1={class:"badge"},c1={__name:"TaskList",props:{tasks:{type:Array,default:()=>[]},assignees:{type:Array,default:()=>[]},activeTaskId:Number,search:{type:String,default:""},filterStatus:{type:String,default:"active"}},emits:["select-task","update:search","update:filter-status","create-task"],setup(e,{emit:t}){const s=e,n=t,o={todo:"",doing:"",done:""},r={low:"",medium:"",high:""},l={todo:"#f5a524",doing:"#5a8bff",done:"#4bcf8a"},c=Ee(!1),a=wt({title:"",desc:"",priority:"medium",due_date:"",assigneeId:"",memberIds:[]}),d=Ee(""),u=Ee(!0),p=U(()=>a.memberIds.map(V=>m(s.assignees.find(N=>N.id===V)||{})).filter(Boolean)),h=U(()=>u.value?p.value.join(""):d.value),f=U(()=>{const V=d.value.trim().toLowerCase();return V?s.assignees.filter(N=>`${N.name||""} ${N.username||""} ${N.email||""}`.toLowerCase().includes(V)):s.assignees});function m(V){return V.name||V.username||V.email||""}function y(V){const N=Number(V);if(!Number.isFinite(N))return;const B=a.memberIds.includes(N);a.memberIds=B?a.memberIds.filter(se=>se!==N):[...a.memberIds,N]}function x(V){const N=Number(V);a.memberIds=a.memberIds.filter(B=>B!==N)}function k(V){u.value=!1,d.value=V.target.value}function R(){u.value=!1}function $(){u.value=!0,d.value=""}function A(){c.value=!c.value}function D(){if(!a.title.trim()||!a.assigneeId)return;const V=s.assignees.find(B=>B.id===Number(a.assigneeId)),N={title:a.title.trim(),desc:a.desc.trim(),priority:a.priority,due_date:a.due_date||null,status:"todo",assignee_id:Number(a.assigneeId),assignee:V?.name||V?.username||V?.email||"",members:Array.isArray(a.memberIds)?a.memberIds.map(B=>Number(B)).filter(B=>Number.isFinite(B)):[]};n("create-task",N),a.title="",a.desc="",a.priority="medium",a.due_date="",a.assigneeId="",a.memberIds=[],d.value="",u.value=!0,c.value=!1}return(V,N)=>(v(),g("div",Hb,[i("div",zb,[i("div",null,[i("input",{class:"search",type:"text",value:e.search,placeholder:"",onInput:N[0]||(N[0]=B=>n("update:search",B.target.value))},null,40,qb),i("select",{class:"filter",value:e.filterStatus,onChange:N[1]||(N[1]=B=>n("update:filter-status",B.target.value))},[...N[7]||(N[7]=[pr('<option value="active" data-v-651be7ca></option><option value="all" data-v-651be7ca></option><option value="todo" data-v-651be7ca></option><option value="doing" data-v-651be7ca></option><option value="done" data-v-651be7ca></option>',5)])],40,Wb)]),i("button",{class:"new-btn",type:"button",onClick:A},w(c.value?"":""),1)]),c.value?(v(),g("form",{key:0,class:"new-task",onSubmit:Gt(D,["prevent"])},[Q(i("input",{type:"text","onUpdate:modelValue":N[2]||(N[2]=B=>a.title=B),placeholder:"",required:""},null,512),[[de,a.title]]),Q(i("textarea",{rows:"4","onUpdate:modelValue":N[3]||(N[3]=B=>a.desc=B),placeholder:""},null,512),[[de,a.desc]]),i("label",null,[N[9]||(N[9]=i("span",{class:"label"}," Assignee",-1)),Q(i("select",{"onUpdate:modelValue":N[4]||(N[4]=B=>a.assigneeId=B),required:""},[N[8]||(N[8]=i("option",{value:""},"",-1)),(v(!0),g(q,null,Z(e.assignees,B=>(v(),g("option",{key:B.id,value:B.id},w(B.name||B.username||B.email),9,Gb))),128))],512),[[Mt,a.assigneeId]])]),i("div",Kb,[i("label",null,[N[11]||(N[11]=i("span",{class:"label"},"",-1)),Q(i("select",{"onUpdate:modelValue":N[5]||(N[5]=B=>a.priority=B)},[...N[10]||(N[10]=[i("option",{value:"low"},"",-1),i("option",{value:"medium"},"",-1),i("option",{value:"high"},"",-1)])],512),[[Mt,a.priority]])]),i("label",null,[N[12]||(N[12]=i("span",{class:"label"},"",-1)),Q(i("input",{type:"date","onUpdate:modelValue":N[6]||(N[6]=B=>a.due_date=B)},null,512),[[de,a.due_date]])])]),i("label",null,[N[13]||(N[13]=i("span",{class:"label"},"",-1)),i("input",{type:"text",value:h.value,placeholder:"//Email",onInput:k,onFocus:R,onBlur:$},null,40,Jb),i("div",Yb,[(v(!0),g(q,null,Z(f.value,B=>(v(),g("button",{class:fe(["member-option",{selected:a.memberIds.includes(B.id)}]),key:B.id,type:"button",onClick:se=>y(B.id)},w(m(B)),11,Xb))),128))]),a.memberIds.length?(v(),g("div",Qb,[(v(!0),g(q,null,Z(a.memberIds,B=>(v(),g("span",{class:"tag",key:B},[ce(w(m(e.assignees.find(se=>se.id===B)||{})),1),i("button",{class:"remove",type:"button",onClick:se=>x(B)},"",8,Zb)]))),128))])):ee("",!0)]),N[14]||(N[14]=i("button",{class:"submit",type:"submit"},"",-1))],32)):ee("",!0),i("div",e1,[(v(!0),g(q,null,Z(e.tasks,B=>(v(),g("div",{class:fe(["task-item",{active:B.id===e.activeTaskId}]),key:B.id,onClick:se=>n("select-task",B.id)},[i("div",s1,[i("h4",null,w(B.title),1),i("span",{class:"status",style:it({background:l[B.status]||"#d2d8e8"})},w(o[B.status]||B.status),5)]),i("p",n1,""+w(B.assignee||""),1),i("p",o1,w(B.desc||""),1),i("div",r1,[i("span",l1,""+w(r[B.priority]||B.priority),1),i("span",i1,""+w(B.due_date||""),1),i("span",a1,""+w(B.members?.length||0),1)])],10,t1))),128))])]))}},u1=we(c1,[["__scopeId","data-v-651be7ca"]]),d1={key:0,class:"pane middle"},f1={class:"head"},p1={class:"actions"},h1={key:0,class:"status-actions"},m1=["value"],_1={value:"todo"},y1={value:"doing"},v1={value:"done"},g1={key:1,class:"status-readonly"},b1={class:"pill"},x1={class:"desc-block"},w1={class:"desc-label"},S1=["placeholder"],k1=["disabled"],$1={key:1,class:"desc"},E1={class:"pill-row"},A1={class:"pill"},C1=["value"],T1=["value"],P1={class:"pill"},L1=["value"],R1={value:""},O1=["value"],M1={class:"pill"},I1={class:"pill"},D1={key:0,class:"members"},N1={class:"chips"},j1={__name:"TaskDetail",props:{task:{type:Object,default:null},assignees:{type:Array,default:()=>[]},currentUser:{type:String,required:!0},currentUserId:{type:Number,default:0}},emits:["update-status","update-assignee","update-publisher","update-desc","delete-task"],setup(e,{emit:t}){const s=e,n=t,o={todo:"",doing:"",done:""},r={low:"",medium:"",high:""},l={status:"",deleteTask:"",noDesc:"",descLabel:"",saveDesc:"",publisher:"",assignee:"",priority:"",dueDate:"",noPublisher:"",noAssignee:"",noDueDate:"",members:"",unassignedOption:""},c=U(()=>s.task?.assignee===s.currentUser),a=U(()=>s.task?.publisher===s.currentUser),d=U(()=>c.value||a.value),u=U(()=>{const A=s.task;if(!A)return!1;const D=A.assignee_id&&A.assignee_id===s.currentUserId||A.publisher_id&&A.publisher_id===s.currentUserId,V=A.assignee===s.currentUser||A.publisher===s.currentUser;return D||V});function p(){n("delete-task")}function h(A){return A?.name||A?.username||A?.email||""}const f=U(()=>{const A=new Map;(s.assignees||[]).forEach(N=>{const B=Number(N?.id);if(!Number.isFinite(B)||B<=0)return;const se=h(N);se&&A.set(B,{id:B,label:se})});const D=Number(s.task?.assignee_id);if(Number.isFinite(D)&&D>0){const N=s.task?.assignee||"";N&&!A.has(D)&&A.set(D,{id:D,label:N})}const V=Number(s.task?.publisher_id);if(Number.isFinite(V)&&V>0){const N=s.task?.publisher||"";N&&!A.has(V)&&A.set(V,{id:V,label:N})}return Array.from(A.values())}),m=U(()=>{const A=Number(s.task?.assignee_id);return Number.isFinite(A)&&A>0?A:""}),y=U(()=>{const A=Number(s.task?.publisher_id);return Number.isFinite(A)&&A>0?A:""}),x=Ee("");Qe(()=>s.task?.id,()=>{x.value=s.task?.desc||""},{immediate:!0}),Qe(()=>s.task?.desc,A=>{A!==void 0&&(x.value=A||"")});const k=U(()=>(s.task?.desc||"")!==x.value);function R(){s.task&&d.value&&k.value&&n("update-desc",x.value)}const $=U(()=>(s.task?.members?.length||0)>0);return(A,D)=>e.task?(v(),g("div",d1,[i("div",f1,[i("h3",null,w(e.task.title),1),i("div",p1,[d.value?(v(),g("div",h1,[i("select",{value:e.task.status,onChange:D[0]||(D[0]=V=>n("update-status",V.target.value))},[i("option",_1,w(o.todo),1),i("option",y1,w(o.doing),1),i("option",v1,w(o.done),1)],40,m1)])):(v(),g("div",g1,[i("span",b1,[i("strong",null,w(l.status),1),ce(w(o[e.task.status]||e.task.status),1)])])),u.value?(v(),g("button",{key:2,class:"delete-btn",type:"button",onClick:p},w(l.deleteTask),1)):ee("",!0)])]),i("div",x1,[i("label",w1,w(l.descLabel),1),d.value?(v(),g(q,{key:0},[Q(i("textarea",{class:"desc-input","onUpdate:modelValue":D[1]||(D[1]=V=>x.value=V),rows:"5",placeholder:l.noDesc},null,8,S1),[[de,x.value]]),i("button",{class:"save-desc",type:"button",disabled:!k.value,onClick:R},w(l.saveDesc),9,k1)],64)):(v(),g("p",$1,w(e.task.desc||l.noDesc),1))]),i("div",E1,[i("span",A1,[i("strong",null,w(l.publisher),1),d.value?(v(),g("select",{key:0,class:"pill-select",value:y.value,onChange:D[2]||(D[2]=V=>n("update-publisher",V.target.value))},[(v(!0),g(q,null,Z(f.value,V=>(v(),g("option",{key:V.id,value:V.id},w(V.label),9,T1))),128))],40,C1)):(v(),g(q,{key:1},[ce(w(e.task.publisher||l.noPublisher),1)],64))]),i("span",P1,[i("strong",null,w(l.assignee),1),d.value?(v(),g("select",{key:0,class:"pill-select",value:m.value,onChange:D[3]||(D[3]=V=>n("update-assignee",V.target.value))},[i("option",R1,w(l.unassignedOption),1),(v(!0),g(q,null,Z(f.value,V=>(v(),g("option",{key:V.id,value:V.id},w(V.label),9,O1))),128))],40,L1)):(v(),g(q,{key:1},[ce(w(e.task.assignee||l.noAssignee),1)],64))]),i("span",M1,[i("strong",null,w(l.priority),1),ce(w(r[e.task.priority]||e.task.priority),1)]),i("span",I1,[i("strong",null,w(l.dueDate),1),ce(w(e.task.due_date||l.noDueDate),1)])]),$.value?(v(),g("div",D1,[i("h4",null,w(l.members),1),i("div",N1,[(v(!0),g(q,null,Z(e.task.members,V=>(v(),g("span",{class:"chip",key:V},w(V),1))),128))])])):ee("",!0)])):ee("",!0)}},V1=we(j1,[["__scopeId","data-v-1fe56340"]]),B1={class:"pane right"},U1={class:"head"},F1={key:0,class:"mini"},H1={key:0,class:"events"},z1={class:"meta"},q1={class:"user"},W1={class:"time"},G1={class:"text"},K1={key:1,class:"empty"},J1={key:2,class:"composer"},Y1=["value"],X1={__name:"TaskMessages",props:{task:{type:Object,default:null},composer:{type:String,default:""}},emits:["send","update:composer"],setup(e,{emit:t}){const s=t;function n(o){if(o.isComposing)return;o.key==="Enter"&&!o.shiftKey&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&(o.preventDefault(),s("send"))}return(o,r)=>(v(),g("div",B1,[i("div",U1,[r[2]||(r[2]=i("h4",null,"",-1)),e.task?(v(),g("span",F1,w(`#${e.task.id}`),1)):ee("",!0)]),e.task?(v(),g("div",H1,[(v(!0),g(q,null,Z(e.task.events,(l,c)=>(v(),g("div",{class:fe(["event",l.type||"note"]),key:c},[i("div",z1,[i("span",q1,w(l.user||""),1),i("span",W1,w(l.created_at),1)]),i("p",G1,w(l.text),1)],2))),128))])):(v(),g("div",K1,"")),e.task?(v(),g("div",J1,[i("textarea",{rows:"3",value:e.composer,placeholder:"Enter Shift+Enter ",onInput:r[0]||(r[0]=l=>s("update:composer",l.target.value)),onKeydown:n},null,40,Y1),i("button",{class:"send",onClick:r[1]||(r[1]=l=>s("send"))},"")])):ee("",!0)]))}},Q1=we(X1,[["__scopeId","data-v-6b6fcdac"]]),Z1={class:"task-board"},ex={class:"board-shell"},tx={__name:"board",setup(e){const t=ie.resolve("taskStore"),s=ie.resolve("auth"),n=Ee(""),o=Ee("active"),r=Ee(""),l=U(()=>t.state.assignees||[]),c=U(()=>s.state.user?.name||"you"),a=U(()=>s.state.user?.id||0),d=U(()=>{const $=n.value.trim().toLowerCase();return(t.state.tasks||[]).filter(D=>{const V=(D.title||"").toLowerCase(),N=(D.desc||"").toLowerCase(),B=!$||V.includes($)||N.includes($),se=o.value==="all"||o.value==="active"&&(D.status==="todo"||D.status==="doing")||D.status===o.value;return B&&se})}),u=U(()=>(t.state.tasks||[]).find(A=>A.id===t.state.activeTaskId));async function p($){t.selectTask($),r.value="";try{await lt.fetchDetail($)}catch(A){console.error("[task/detail] fetch task detail failed",A)}}function h($){u.value&&lt.update(u.value.id,{status:$})}function f($){if(!u.value)return;const A=Number($),D=l.value.find(V=>V.id===A);lt.update(u.value.id,{assignee_id:Number.isFinite(A)&&A>0?A:null,assignee:D?.name||D?.username||D?.email||""})}function m($){if(!u.value)return;const A=Number($),D=l.value.find(V=>V.id===A);!Number.isFinite(A)||A<=0||lt.update(u.value.id,{publisher_id:A,publisher:D?.name||D?.username||D?.email||""})}function y($){u.value&&lt.update(u.value.id,{desc:$})}function x($){const D=s.state.user?.id??null;lt.create({...$,publisher:c.value,publisher_id:D})}function k(){!r.value.trim()||!u.value||(lt.addEvent(u.value.id,{user:c.value,text:r.value,type:"note"}),r.value="")}function R(){!u.value||!confirm("")||lt.remove(u.value.id,a.value).catch(A=>{console.error("[task/delete] remove task failed",A),alert("")})}return Dt(()=>{lt.fetchList().catch($=>{console.error("[task/list] fetch tasks failed",$)})}),($,A)=>(v(),Re(Fb,null,{default:ge(()=>[i("div",Z1,[i("div",ex,[te(u1,{tasks:d.value,assignees:l.value,"active-task-id":Be(t).state.activeTaskId,search:n.value,"onUpdate:search":A[0]||(A[0]=D=>n.value=D),"filter-status":o.value,"onUpdate:filterStatus":A[1]||(A[1]=D=>o.value=D),onCreateTask:x,onSelectTask:p},null,8,["tasks","assignees","active-task-id","search","filter-status"]),te(V1,{task:u.value,assignees:l.value,"current-user":c.value,"current-user-id":a.value,onUpdateStatus:h,onUpdateAssignee:f,onUpdatePublisher:m,onUpdateDesc:y,onDeleteTask:R},null,8,["task","assignees","current-user","current-user-id"]),te(Q1,{task:u.value,composer:r.value,"onUpdate:composer":A[2]||(A[2]=D=>r.value=D),onSend:k},null,8,["task","composer"])])])]),_:1}))}},sx=we(tx,[["__scopeId","data-v-f2c444e9"]]),nx=Object.freeze(Object.defineProperty({__proto__:null,default:sx},Symbol.toStringTag,{value:"Module"})),ox={class:"panel"},rx={class:"form-grid"},lx={class:"field span2"},ix={class:"field span2"},ax={class:"field card"},cx={class:"segmented"},ux={class:"segmented"},dx={class:"field card"},fx={class:"rule-list"},px=["value"],hx={class:"rule-text"},mx={class:"title"},_x={key:0,class:"hint"},yx={key:1,class:"hint"},vx={key:0,class:"inline-fields"},gx={class:"field"},bx={key:1,class:"inline-fields"},xx={class:"field"},wx={class:"options span2"},Sx=["onUpdate:modelValue","placeholder"],kx=["onClick","disabled"],$x={__name:"VoteCreateModal",setup(e){const t=ie.resolve("voteStore"),s=U(()=>t.state.editorOpen),n=so(),o=ie.resolve("auth"),r=wt({title:"",description:"",allowMultiple:!1,ruleMode:"time",deadline:"",totalVoters:0,anonymous:!1,options:[{id:"opt-1",label:" 1"},{id:"opt-2",label:" 2"}]}),l=[{value:"all",label:""},{value:"time",label:""}];Qe(()=>s.value,h=>{h&&c()});function c(){Object.assign(r,{title:"",description:"",allowMultiple:!1,ruleMode:"time",deadline:"",totalVoters:0,options:[{id:`opt-${Date.now()}-1`,label:" 1"},{id:`opt-${Date.now()}-2`,label:" 2"}]})}function a(){const h=`opt-${Date.now()}-${r.options.length+1}`;r.options.push({id:h,label:` ${r.options.length+1}`})}function d(h){r.options.length<=1||r.options.splice(h,1)}async function u(){if(!r.title.trim()){alert("");return}const h=r.options.map(m=>({...m,label:m.label.trim()})).filter(m=>m.label);if(h.length===0){alert("");return}const f={title:r.title.trim(),description:r.description.trim(),allowMultiple:r.allowMultiple,anonymous:r.anonymous,publisher:o.state.user?.name||"",rule:{mode:r.ruleMode,deadline:r.ruleMode==="time"&&r.deadline?r.deadline:null,totalVoters:r.ruleMode==="all"&&Number(r.totalVoters)||0},options:h.map(m=>({...m,votes:0})),status:"open",votesReceived:0};try{await os.create(f),t.closeEditor()}catch(m){console.error("[voteCreate] save failed",m),alert("")}}function p(){t.closeEditor(),n.currentRoute.value.path!=="/vote"&&n.replace("/vote")}return(h,f)=>s.value?(v(),g("div",{key:0,class:"editor-wrap",onClick:Gt(p,["self"])},[i("div",ox,[i("div",{class:"panel-header"},[f[9]||(f[9]=i("div",{class:"titles"},[i("p",{class:"kicker"},"Vote Center"),i("h3",null,""),i("p",{class:"subtitle"},"")],-1)),i("button",{class:"close-btn",type:"button",onClick:p},"X")]),i("form",{class:"panel-body",onSubmit:Gt(u,["prevent"])},[i("div",rx,[i("div",lx,[f[10]||(f[10]=i("span",{class:"label"},"",-1)),Q(i("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>r.title=m),type:"text",placeholder:""},null,512),[[de,r.title]])]),i("div",ix,[f[11]||(f[11]=i("span",{class:"label"},"",-1)),Q(i("textarea",{"onUpdate:modelValue":f[1]||(f[1]=m=>r.description=m),rows:"3",placeholder:""},null,512),[[de,r.description]])]),i("div",ax,[f[12]||(f[12]=i("div",{class:"card-head"},[i("span",{class:"label"},""),i("p",{class:"subtext"},"//")],-1)),i("div",cx,[i("button",{class:fe(["segment",{active:!r.allowMultiple}]),type:"button",onClick:f[2]||(f[2]=m=>r.allowMultiple=!1)},"",2),i("button",{class:fe(["segment",{active:r.allowMultiple}]),type:"button",onClick:f[3]||(f[3]=m=>r.allowMultiple=!0)},"",2)]),i("div",ux,[i("button",{class:fe(["segment",{active:!r.anonymous}]),type:"button",onClick:f[4]||(f[4]=m=>r.anonymous=!1)},"",2),i("button",{class:fe(["segment",{active:r.anonymous}]),type:"button",onClick:f[5]||(f[5]=m=>r.anonymous=!0)},"",2)])]),i("div",dx,[f[15]||(f[15]=i("div",{class:"card-head"},[i("span",{class:"label"},""),i("p",{class:"subtext"},"")],-1)),i("div",fx,[(v(),g(q,null,Z(l,m=>i("label",{class:"rule-row",key:m.value},[Q(i("input",{type:"radio",value:m.value,"onUpdate:modelValue":f[6]||(f[6]=y=>r.ruleMode=y)},null,8,px),[[ks,r.ruleMode]]),i("div",hx,[i("p",mx,w(m.label),1),m.value==="all"?(v(),g("p",_x,"")):(v(),g("p",yx,""))])])),64))]),r.ruleMode==="time"?(v(),g("div",vx,[i("label",gx,[f[13]||(f[13]=i("span",{class:"label"},"",-1)),Q(i("input",{type:"datetime-local","onUpdate:modelValue":f[7]||(f[7]=m=>r.deadline=m)},null,512),[[de,r.deadline]])])])):(v(),g("div",bx,[i("label",xx,[f[14]||(f[14]=i("span",{class:"label"},"",-1)),Q(i("input",{type:"number",min:"0","onUpdate:modelValue":f[8]||(f[8]=m=>r.totalVoters=m),placeholder:" 10"},null,512),[[de,r.totalVoters,void 0,{number:!0}]])])]))]),i("div",wx,[i("div",{class:"options-head"},[f[16]||(f[16]=i("h4",null,"",-1)),i("button",{class:"ghost",type:"button",onClick:a},"")]),(v(!0),g(q,null,Z(r.options,(m,y)=>(v(),g("div",{class:"option-row",key:m.id},[Q(i("input",{type:"text","onUpdate:modelValue":x=>m.label=x,placeholder:` ${y+1}`},null,8,Sx),[[de,m.label]]),i("button",{class:"icon-btn",type:"button",onClick:x=>d(y),disabled:r.options.length<=1},"",8,kx)]))),128))])]),i("div",{class:"footer"},[i("button",{class:"ghost",type:"button",onClick:p},""),f[17]||(f[17]=i("button",{class:"primary",type:"submit"},"",-1))])],32)])])):ee("",!0)}},Ex=we($x,[["__scopeId","data-v-d11100c1"]]),Ax={key:0,class:"panel"},Cx={class:"panel-header"},Tx={class:"titles"},Px={class:"subtitle"},Lx={class:"body"},Rx={class:"meta-row"},Ox={class:"chip"},Mx={class:"chip"},Ix={key:0,class:"chip"},Dx={key:1,class:"chip"},Nx={class:"options"},jx=["type","name","value","checked","onChange"],Vx={class:"info"},Bx={class:"label"},Ux={class:"count"},Fx={key:1,class:"voters"},Hx={key:0,class:"hint"},zx=["value","max"],qx={class:"actions"},Wx=["disabled"],Gx=["disabled"],Kx=["disabled"],Jx={class:"note"},Yx={__name:"VoteDetailModal",setup(e){const t=ie.resolve("voteStore"),s=ie.resolve("auth"),n=so(),o=U(()=>t.state.detailOpen),r=U(()=>t.state.activeVote),l=U(()=>r.value?.allowMultiple),c=U(()=>r.value?.anonymous),a=U(()=>r.value?.status==="closed"),d=U(()=>s.state.user?.name||""),u=U(()=>!c.value),p=wt({picks:[]});Qe(()=>r.value,$=>{if(!$){p.picks=[];return}p.picks=[...$.mySelections||[]]},{immediate:!0});function h($){l.value?p.picks.includes($)?p.picks=p.picks.filter(A=>A!==$):p.picks=[...p.picks,$]:p.picks=[$]}async function f(){if(r.value){if(p.picks.length===0){alert("");return}try{await os.cast(r.value.id,p.picks)}catch($){console.error("[voteDetail] cast failed",$),alert("")}}}function m($){return!$||$.rule?.mode!=="all"?!1:$.rule.totalVoters>0&&$.votesReceived>=$.rule.totalVoters}function y($){if(!$||$.rule?.mode!=="time"||!$.rule.deadline)return!1;const A=new Date($.rule.deadline);return!isNaN(A)&&Date.now()>=A.getTime()}function x(){r.value&&os.openResult(r.value.id)}async function k(){if(!r.value)return;const $=r.value.publisher&&r.value.publisher===d.value,A=s.state.user?.role==="admin";if(!$&&!A){alert("");return}confirm("")&&(await os.remove(r.value.id),R())}function R(){t.closeDetail(),n.currentRoute.value.path!=="/vote"&&n.replace("/vote")}return($,A)=>(v(),Re(rr,{to:"body"},[o.value?(v(),g("div",{key:0,class:"detail-wrap",onClick:Gt(R,["self"])},[r.value?(v(),g("div",Ax,[i("div",Cx,[i("div",Tx,[A[0]||(A[0]=i("p",{class:"kicker"},"",-1)),i("h3",null,w(r.value.title),1),i("p",Px,w(r.value.description||""),1)]),i("button",{class:"close-btn",type:"button",onClick:R},"X")]),i("div",Lx,[i("div",Rx,[i("span",{class:fe(["chip",r.value.status==="closed"?"closed":"open"])},w(r.value.status==="closed"?"":""),3),i("span",Ox,w(l.value?"":"")+"  "+w(c.value?"":""),1),i("span",Mx,""+w(r.value.publisher||""),1),r.value.rule?.mode==="all"?(v(),g("span",Ix," ("+w(r.value.votesReceived)+"/"+w(r.value.rule.totalVoters||"")+")",1)):(v(),g("span",Dx,""+w(r.value.rule?.deadline||""),1))]),i("div",Nx,[(v(!0),g(q,null,Z(r.value.options,D=>(v(),g("label",{class:"option-row",key:D.id},[a.value?ee("",!0):(v(),g("input",{key:0,type:l.value?"checkbox":"radio",name:r.value.id,value:D.id,checked:p.picks.includes(D.id),onChange:V=>h(D.id)},null,40,jx)),i("div",Vx,[i("p",Bx,w(D.label),1),i("p",Ux," "+w(D.votes)+" ",1)]),u.value?(v(),g("div",Fx,[D.voters?.length?ee("",!0):(v(),g("span",Hx,"")),(v(!0),g(q,null,Z(D.voters,(V,N)=>(v(),g("span",{class:"voter-tag",key:N},w(V),1))),128))])):ee("",!0),i("progress",{value:D.votes,max:Math.max(1,Math.max(...r.value.options.map(V=>V.votes)))},null,8,zx)]))),128))]),i("div",qx,[i("button",{class:"primary",type:"button",onClick:f,disabled:a.value},"",8,Wx),i("button",{class:"ghost",type:"button",onClick:x,disabled:a.value},"",8,Gx),i("button",{class:"ghost",type:"button",onClick:x,disabled:a.value||!(m(r.value)||y(r.value))},"",8,Kx),i("button",{class:"danger",type:"button",onClick:k},"")]),i("div",Jx,""+w(d.value),1)])])):ee("",!0)])):ee("",!0)]))}},Xx=we(Yx,[["__scopeId","data-v-abeb96fa"]]),Qx={class:"vote-page"},Zx={class:"toolbar"},e2={class:"toolbar-main"},t2={class:"search"},s2=["value"],n2={class:"pill"},o2={class:"vote-grid"},r2={class:"card-head"},l2={class:"type"},i2={class:"publisher"},a2={class:"desc"},c2={class:"rule"},u2={class:"options"},d2={class:"count"},f2={class:"card-actions"},p2=["onClick"],h2={__name:"list",setup(e){const t=ie.resolve("voteStore"),s=vr(),n=so(),o=U(()=>{const u=t.state.search.trim().toLowerCase();return u?t.state.list.filter(p=>p.title.toLowerCase().includes(u)||(p.description||"").toLowerCase().includes(u)):t.state.list});function r(u){t.setSearch(u.target.value)}function l(){t.openCreate(),s.path!=="/vote/create"&&n.replace("/vote/create")}function c(u){t.openDetail(u),s.path!==`/vote/${u.id}`&&n.replace(`/vote/${u.id}`)}function a(u){return u.status==="closed"?"":""}function d(u){return u.rule?.mode==="all"?` (${u.votesReceived}/${u.rule.totalVoters||""})`:`${u.rule?.deadline?""+u.rule.deadline:""}`}return Dt(()=>{os.fetchList().catch(u=>{console.error("[vote/list] fetch votes failed",u)})}),Qe([()=>s.path,()=>s.params.id,()=>t.state.list],()=>{const u=s.path==="/vote/create",p=s.params.id;if(u?t.openCreate():t.closeEditor(),p){const h=t.state.list.find(f=>String(f.id)===String(p));t.openDetail(h||null)}else t.closeDetail()},{immediate:!0}),(u,p)=>(v(),g("div",Qx,[i("div",Zx,[i("div",e2,[i("div",t2,[p[0]||(p[0]=i("span",{class:"icon"},"",-1)),i("input",{type:"text",value:Be(t).state.search,onInput:r,placeholder:""},null,40,s2)]),i("div",n2," "+w(Be(t).state.list.length),1)]),i("div",{class:"actions"},[i("button",{class:"primary",onClick:l},"")])]),i("div",o2,[(v(!0),g(q,null,Z(o.value,h=>(v(),g("div",{class:"vote-card",key:h.id},[i("div",r2,[i("span",{class:fe(["status",h.status==="closed"?"closed":"open"])},w(a(h)),3),i("span",l2,w(h.allowMultiple?"":"")+"  "+w(h.anonymous?"":""),1)]),i("h3",null,w(h.title),1),i("p",i2,""+w(h.publisher||""),1),i("p",a2,w(h.description||""),1),i("div",c2,w(d(h)),1),i("div",u2,[(v(!0),g(q,null,Z(h.options,f=>(v(),g("div",{class:"option",key:f.id},[i("span",null,w(f.label),1),i("span",d2,w(f.votes)+" ",1)]))),128))]),i("div",f2,[i("button",{class:"primary",type:"button",onClick:f=>c(h)},w(h.status==="closed"?"":" / "),9,p2)])]))),128))]),te(Ex),te(Xx)]))}},m2=we(h2,[["__scopeId","data-v-61479547"]]),wo=Object.freeze(Object.defineProperty({__proto__:null,default:m2},Symbol.toStringTag,{value:"Module"}));
