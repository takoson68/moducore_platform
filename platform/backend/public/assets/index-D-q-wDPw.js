import{c as g,a as v,r as $,b as i,o as n,d as s,e as C,t as u,F as k,f as j,g as m,w as y,h as P,i as x,u as R,n as N}from"./index-BsgZhFbW.js";const L={class:"topbar"},M={class:"brand"},O={class:"brand-title"},V={class:"brand-sub"},B={key:0,class:"topbar-nav"},D={key:0,class:"topbar-submenu"},T={class:"topbar-actions"},A={class:"badge"},U={class:"badge"},F={__name:"ProjectTopbar",props:{projectConfig:Object},setup(b){const f=g.getService("resolveNavProjection"),d=v(()=>{const c=window.__MODULE_ROUTES__||{all:[]};return f(c.all||[])}),p=v(()=>{const c=new Map;(d.value.topbar||[]).forEach(t=>{!t?.path||c.has(t.path)||c.set(t.path,{...t,children:[]})});const o=[...c.values()],l=new Map(o.map(t=>[t.path,t])),e=[];o.forEach(t=>{const _=t.parent;_&&l.has(_)?l.get(_).children.push(t):e.push(t)});const r=(t,_)=>{const E=(t.order||0)-(_.order||0);return E!==0?E:String(t.label||"").localeCompare(String(_.label||""))};return o.forEach(t=>{t.children.sort(r)}),e.sort(r)}),S=g.resolve("lifecycle"),w=g.resolve("module"),a=v(()=>S.state.phase),h=v(()=>w.state.modules.length);return(c,o)=>{const l=$("RouterLink");return n(),i("header",L,[s("div",M,[s("div",O,u(b.projectConfig?.title??"Project"),1),s("div",V,"Guest World Establishment Â· "+u(a.value),1)]),p.value.length?(n(),i("nav",B,[(n(!0),i(k,null,j(p.value,e=>(n(),i("div",{class:"topbar-item",key:e.path},[m(l,{class:"topbar-link",to:e.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[P(u(e.label),1)]),_:2},1032,["to"]),e.children&&e.children.length?(n(),i("div",D,[(n(!0),i(k,null,j(e.children,r=>(n(),x(l,{class:"topbar-sub-link",key:r.path,to:r.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[P(u(r.label),1)]),_:2},1032,["to"]))),128))])):C("",!0)]))),128))])):C("",!0),s("div",T,[s("span",A,u(b.projectConfig?.name??"unknown"),1),s("span",U,"Modules "+u(h.value),1)])])}}},I={class:"sidebar"},W={class:"module-nav"},q={class:"link-label"},z={key:0,class:"submenu"},G={class:"link-label"},H={__name:"ProjectSidebar",setup(b){const f=R(),d=g.getService("resolveNavProjection"),p=v(()=>{const a=window.__MODULE_ROUTES__||{all:[]};return d(a.all||[])}),S=v(()=>{const a=new Map,h=p.value.sidebar||[];h.forEach(e=>{a.set(e.path,{...e,children:[]})});const c=[];h.forEach(e=>{const r=e.parent;r&&a.has(r)?a.get(r).children.push(a.get(e.path)):c.push(a.get(e.path))});const o=(e,r)=>{const t=(e.order||0)-(r.order||0);return t!==0?t:String(e.label||"").localeCompare(String(r.label||""))},l=e=>({path:e.path,label:e.label,children:e.children.sort(o).map(l)});return c.sort(o).map(l)}),w=a=>a?.path?f.path===a.path?!0:Array.isArray(a.children)?a.children.some(h=>f.path===h.path):!1:!1;return(a,h)=>{const c=$("RouterLink");return n(),i("aside",I,[s("nav",W,[(n(!0),i(k,null,j(S.value,o=>(n(),i("div",{class:N(["sidebar-item",{active:w(o)}]),key:o.path},[m(c,{class:"main-link",to:o.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[s("span",q,u(o.label),1)]),_:2},1032,["to"]),o.children&&o.children.length?(n(),i("div",z,[(n(!0),i(k,null,j(o.children,l=>(n(),x(c,{class:"sub-link",key:l.path,to:l.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[s("span",G,u(l.label),1)]),_:2},1032,["to"]))),128))])):C("",!0)],2))),128))])])}}},J={class:"shell"},K={class:"main"},Q={class:"content"},X={class:"module-shell"},Y={class:"module-body"},Z={__name:"RootShell",props:{projectConfig:Object,discoveredModules:Array},setup(b){return(f,d)=>{const p=$("RouterView");return n(),i("div",J,[m(F,{"project-config":b.projectConfig},null,8,["project-config"]),s("div",K,[m(H),s("section",Q,[d[0]||(d[0]=s("h2",null,"View",-1)),s("div",X,[s("div",Y,[m(p)])])])]),d[1]||(d[1]=s("footer",{class:"footer"},[s("span",null,"World Shell Footer")],-1))])}}};function te(){return{id:"root-shell",component:Z}}export{te as defineLayout};
