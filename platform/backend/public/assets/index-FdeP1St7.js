import{u as j,c as u,a as b,r as f,b as d,o as r,d as e,t as i,F as g,e as k,n as x,f as y,g as A,w,h as F}from"./index-Cpt8xa2B.js";const L={class:"shell"},M={class:"topbar"},O={class:"brand"},P={class:"brand-title"},D={class:"brand-sub"},I={class:"topbar-actions"},T={class:"badge"},U={class:"badge"},W={class:"main"},z={class:"sidebar"},G={class:"module-nav"},q={class:"link-label"},H={key:0,class:"submenu"},J={class:"link-label"},K={class:"content"},Q={class:"module-shell"},X={class:"module-body"},Y={__name:"RootShell",props:{projectConfig:Object,discoveredModules:Array},setup(p){const C=j(),S=u(()=>{const a=((window.__MODULE_ROUTES__||{all:[]}).all||[]).slice(),o=new Map;a.forEach(t=>{o.set(t.path,{...t,children:[]})});const h=[];a.forEach(t=>{const n=t.meta?.nav?.parent;n&&o.has(n)?o.get(n).children.push(o.get(t.path)):h.push(o.get(t.path))});const s=(t,n)=>{const m=Number.isFinite(t?.meta?.order)?t.meta.order:0,v=Number.isFinite(n?.meta?.order)?n.meta.order:0;return m!==v?m-v:String(t.path||"").localeCompare(String(n.path||""))},c=t=>({path:t.path,label:t.meta?.label??t.meta?.nav?.label??t.name??t.path,children:t.children.sort(s).map(c)});return h.sort(s).map(c)}),_=u(()=>C.path),R=l=>l?.path?_.value===l.path?!0:Array.isArray(l.children)?l.children.some(a=>_.value===a.path):!1:!1,B=b.resolve("lifecycle"),E=b.resolve("module"),N=u(()=>B.state.phase),V=u(()=>E.state.modules.length);return(l,a)=>{const o=f("RouterLink"),h=f("RouterView");return r(),d("div",L,[e("header",M,[e("div",O,[e("div",P,i(p.projectConfig?.title??"Project"),1),e("div",D,"Guest World Establishment Â· "+i(N.value),1)]),e("div",I,[e("span",T,i(p.projectConfig?.name??"unknown"),1),e("span",U,"Modules "+i(V.value),1)])]),e("div",W,[e("aside",z,[e("nav",G,[(r(!0),d(g,null,k(S.value,s=>(r(),d("div",{class:x(["sidebar-item",{active:R(s)}]),key:s.path},[y(o,{class:"main-link",to:s.path,"active-class":"is-active","exact-active-class":"is-active"},{default:w(()=>[e("span",q,i(s.label),1)]),_:2},1032,["to"]),s.children&&s.children.length?(r(),d("div",H,[(r(!0),d(g,null,k(s.children,c=>(r(),F(o,{class:"sub-link",key:c.path,to:c.path,"active-class":"is-active","exact-active-class":"is-active"},{default:w(()=>[e("span",J,i(c.label),1)]),_:2},1032,["to"]))),128))])):A("",!0)],2))),128))])]),e("section",K,[a[0]||(a[0]=e("h2",null,"View",-1)),e("div",Q,[e("div",X,[y(h)])])])]),a[1]||(a[1]=e("footer",{class:"footer"},[e("span",null,"World Shell Footer")],-1))])}}};function $(){return{id:"root-shell",component:Y}}export{$ as defineLayout};
