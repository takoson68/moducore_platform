import{u as E,c as P,a as g,h as w,b as a,d as o,e as l,f as j,t as v,F as m,i as k,n as R,j as _,k as y,l as C,m as B}from"./index-DiR3mkho.js";const N={class:"topbar"},S={class:"brand"},V={class:"brand-title"},L={key:0,class:"topbar-nav"},M={key:0,class:"topbar-submenu"},O={__name:"ProjectTopbar",props:{projectConfig:Object},setup(p){const d=E(),u=P.getService("resolveNavProjection"),h=g(()=>{const e=window.__MODULE_ROUTES__||{all:[]};return u(e.all||[])}),f=g(()=>{const e=new Map;(h.value.topbar||[]).forEach(t=>{!t?.path||e.has(t.path)||e.set(t.path,{...t,children:[]})});const s=[...e.values()],i=new Map(s.map(t=>[t.path,t])),r=[];s.forEach(t=>{const c=t.parent;c&&i.has(c)?i.get(c).children.push(t):r.push(t)});const n=(t,c)=>{const b=(t.order||0)-(c.order||0);return b!==0?b:String(t.label||"").localeCompare(String(c.label||""))};return s.forEach(t=>{t.children.sort(n)}),r.sort(n)}),x=e=>e?.path?d.path===e.path?!0:Array.isArray(e.children)?e.children.some(s=>d.path===s.path):!1:!1;return(e,s)=>{const i=w("RouterLink");return o(),a("header",N,[l("div",S,[l("div",V,v(p.projectConfig?.title??"Project"),1),s[0]||(s[0]=l("div",{class:"brand-sub"},"Guest World Establishment",-1))]),f.value.length?(o(),a("nav",L,[(o(!0),a(m,null,k(f.value,r=>(o(),a("div",{class:R(["topbar-item",{active:x(r)}]),key:r.path},[_(i,{class:"topbar-link",to:r.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[C(v(r.label),1)]),_:2},1032,["to"]),r.children&&r.children.length?(o(),a("div",M,[(o(!0),a(m,null,k(r.children,n=>(o(),B(i,{class:"topbar-sub-link",key:n.path,to:n.path,"active-class":"is-active","exact-active-class":"is-active"},{default:y(()=>[C(v(n.label),1)]),_:2},1032,["to"]))),128))])):j("",!0)],2))),128))])):j("",!0),s[1]||(s[1]=l("div",{class:"pill"},"Project B",-1))])}}},A={class:"shell"},D={class:"main"},T={__name:"RootShell",props:{projectConfig:Object,discoveredModules:Array},setup(p){return(d,u)=>{const h=w("RouterView");return o(),a("div",A,[u[0]||(u[0]=l("div",{class:"bg-grid"},null,-1)),_(O,{"project-config":p.projectConfig},null,8,["project-config"]),l("div",D,[_(h)])])}}};function F(){return{id:"project-b-layout",component:T}}export{F as defineLayout};
