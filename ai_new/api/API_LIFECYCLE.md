# API Lifecycle — World Phase Legitimacy

> 本文件定義 **API 在世界生命週期中的合法出現位置**。
>
> 本文件不描述流程實作，也不定義生命週期本身，
> 而是回答：
>
> 👉 **世界走到哪一個階段時，API 才「被允許存在」。**

---

## 1. 世界生命週期的既定事實（Given World Lifecycle）

世界生命週期已由世界核心完整定義，並由 Lifecycle 機制裁決。

在本文件中：

* 不重述生命週期定義
* 不新增生命週期階段
* 不改寫任何流程順序

API World 僅**引用生命週期的存在性**，不擁有解釋權。

---

## 2. API 與生命週期的世界關係（Core Principle）

在世界語意中，API 與生命週期的關係遵循以下根本原則：

> **API 不是生命週期的一部分，而是生命週期完成後才可能出現的邊界構件。**

因此：

* API 永遠不能「啟動」一個世界階段
* API 永遠不能「結束」一個世界階段
* API 永遠不能「推進」生命週期

API 只能：

* 在特定階段完成後，被允許對外暴露語意

---

## 3. 不合法的 API 出現時機（Illegal Presence）

以下世界階段中，**API 的存在被視為非法**：

* 世界尚未建立狀態之前
* 世界仍處於自我建構、初始化、重建期間
* 世界裁決尚未完成
* 世界正在進行狀態轉換或清理

在上述任何階段出現 API：

> 視為世界邊界破壞，而非效能或同步問題。

---

## 4. 合法的 API 出現條件（Legitimate Presence）

API 僅在同時滿足以下條件時，才被視為合法存在：

* 世界已進入穩定階段
* 當前世界狀態已完成裁決
* Lifecycle 未處於轉換、卸載或重設中
* API 的存在不會引發新的裁決

換言之：

> **API 的合法性來自「世界已經準備好」，而不是「有人需要它」。**

---

## 5. Query 與 Command 在生命週期中的差異

### 5.1 Query 的生命週期語意

* Query 只能在「狀態已成立」時出現
* 若世界狀態尚未存在，Query 必須失效
* Query 不得延遲、等待或假裝世界已就緒

Query 面對未就緒世界時：

> 唯一合法行為是呈現「不可用」。

---

### 5.2 Command 的生命週期語意

* Command 只能在世界允許接收意圖的階段出現
* 若世界尚未接受外部意圖，Command 必須被拒絕
* Command 不得觸發生命週期轉換

Command 的角色是：

> 向世界說話，而不是叫世界動。

---

## 6. Lifecycle 與 API 的主從關係（Authority Reminder）

再次強調既定權限結構：

* Lifecycle 為世界流程裁決者
* API 為世界語意表達構件

因此：

* API 不得自行判斷是否「現在可以被呼叫」
* API 的可用性判斷，必須來自世界內部

API 若出現自我可用性描述：

> 屬於權限越界，而非便利設計。

---

## 7. 世界治理視角（Governance Perspective）

API 與生命週期的嚴格分離，確保：

* 世界流程具備可推理性
* 外部系統無法干擾世界進程
* 工程層無法以 API 合理化非法狀態

世界不因 API 而改變節奏。

API 只能回應世界。

---

## 8. 本文件的邊界（Document Boundary）

本文件：

* 不列舉具體生命週期階段名稱
* 不描述實作或檢查方式
* 不涉及任何工程細節

本文件只完成一件事：

> **為 API 標示「世界何時允許它出現」。**

---

**API_LIFECYCLE.md 至此結束，不延伸、不推論、不實作。**
